2020-01-08 14:21:54 191 [INFO] SpringIntegrationApplication: 37 : 
=========================================================
                                                         
          Welcome to Spring Integration!                 
                                                         
    For more information please visit:                   
    https://spring.io/projects/spring-integration        
                                                         
=========================================================
2020-01-08 14:21:54 201 [INFO] SpringIntegrationApplication: 46 : 
=========================================================
                                                         
    这是一个基于MQTT订阅的消息处理服务 -                     
    订阅关键的TOPIC，将收到的mqtt消息处理并最终写入数据        
=========================================================
2020-01-08 14:21:54 365 [INFO] SpringIntegrationApplication: 37 : 
=========================================================
                                                         
          Welcome to Spring Integration!                 
                                                         
    For more information please visit:                   
    https://spring.io/projects/spring-integration        
                                                         
=========================================================
2020-01-08 14:21:54 365 [INFO] SpringIntegrationApplication: 46 : 
=========================================================
                                                         
    这是一个基于MQTT订阅的消息处理服务 -                     
    订阅关键的TOPIC，将收到的mqtt消息处理并最终写入数据        
=========================================================
2020-01-08 14:21:54 891 [INFO] SpringIntegrationApplication: 50 : Starting SpringIntegrationApplication on DESKTOP-QA9ODS5 with PID 21368 (D:\kunbu\spring-integration\target\classes started by mojun in D:\kunbu\spring-integration)
2020-01-08 14:21:54 892 [INFO] SpringIntegrationApplication: 648 : No active profile set, falling back to default profiles: default
2020-01-08 14:21:54 939 [INFO] DevToolsPropertyDefaultsPostProcessor: 225 : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2020-01-08 14:21:54 939 [INFO] DevToolsPropertyDefaultsPostProcessor: 225 : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2020-01-08 14:21:55 594 [INFO] RepositoryConfigurationDelegate: 126 : Bootstrapping Spring Data repositories in DEFAULT mode.
2020-01-08 14:21:55 619 [INFO] RepositoryConfigurationDelegate: 182 : Finished Spring Data repository scanning in 22ms. Found 0 repository interfaces.
2020-01-08 14:21:55 807 [INFO] DefaultConfiguringBeanFactoryPostProcessor: 193 : No bean named 'errorChannel' has been explicitly defined. Therefore, a default PublishSubscribeChannel will be created.
2020-01-08 14:21:55 814 [INFO] DefaultConfiguringBeanFactoryPostProcessor: 280 : No bean named 'taskScheduler' has been explicitly defined. Therefore, a default ThreadPoolTaskScheduler will be created.
2020-01-08 14:21:55 819 [INFO] DefaultConfiguringBeanFactoryPostProcessor: 431 : No bean named 'integrationHeaderChannelRegistry' has been explicitly defined. Therefore, a default DefaultHeaderChannelRegistry will be created.
2020-01-08 14:21:55 896 [INFO] PostProcessorRegistrationDelegate$BeanPostProcessorChecker: 330 : Bean 'org.springframework.integration.config.IntegrationManagementConfiguration' of type [org.springframework.integration.config.IntegrationManagementConfiguration$$EnhancerBySpringCGLIB$$1688a0b0] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-01-08 14:21:55 907 [INFO] PostProcessorRegistrationDelegate$BeanPostProcessorChecker: 330 : Bean 'integrationDisposableAutoCreatedBeans' of type [org.springframework.integration.config.annotation.Disposables] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-01-08 14:21:56 206 [INFO] TomcatWebServer: 90 : Tomcat initialized with port(s): 9090 (http)
2020-01-08 14:21:56 217 [INFO] Http11NioProtocol: 173 : Initializing ProtocolHandler ["http-nio-9090"]
2020-01-08 14:21:56 226 [INFO] StandardService: 173 : Starting service [Tomcat]
2020-01-08 14:21:56 226 [INFO] StandardEngine: 173 : Starting Servlet engine: [Apache Tomcat/9.0.26]
2020-01-08 14:21:56 358 [INFO] [/]: 173 : Initializing Spring embedded WebApplicationContext
2020-01-08 14:21:56 358 [INFO] ContextLoader: 284 : Root WebApplicationContext: initialization completed in 1418 ms
2020-01-08 14:21:57 311 [INFO] cluster: 71 : Cluster created with settings {hosts=[localhost:27017], mode=SINGLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}
2020-01-08 14:21:57 348 [INFO] connection: 71 : Opened connection [connectionId{localValue:1, serverValue:27}] to localhost:27017
2020-01-08 14:21:57 351 [INFO] cluster: 71 : Monitor thread successfully connected to server with description ServerDescription{address=localhost:27017, type=STANDALONE, state=CONNECTED, ok=true, version=ServerVersion{versionList=[3, 6, 12]}, minWireVersion=0, maxWireVersion=6, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=1959800}
2020-01-08 14:21:57 401 [WARN] CustomConversions: 207 : Registering converter from class java.time.LocalDateTime to class java.time.Instant as reading converter although it doesn't convert from a store-supported type! You might wanna check you annotation setup at the converter implementation.
2020-01-08 14:21:57 401 [WARN] CustomConversions: 207 : Registering converter from class java.time.Instant to class java.time.LocalDateTime as reading converter although it doesn't convert from a store-supported type! You might wanna check you annotation setup at the converter implementation.
2020-01-08 14:21:57 478 [INFO] OptionalLiveReloadServer: 57 : LiveReload server is running on port 35729
2020-01-08 14:21:57 495 [WARN] CustomConversions: 207 : Registering converter from class java.time.LocalDateTime to class java.time.Instant as reading converter although it doesn't convert from a store-supported type! You might wanna check you annotation setup at the converter implementation.
2020-01-08 14:21:57 496 [WARN] CustomConversions: 207 : Registering converter from class java.time.Instant to class java.time.LocalDateTime as reading converter although it doesn't convert from a store-supported type! You might wanna check you annotation setup at the converter implementation.
2020-01-08 14:21:57 542 [INFO] connection: 71 : Opened connection [connectionId{localValue:2, serverValue:28}] to localhost:27017
2020-01-08 14:21:57 870 [INFO] ThreadPoolTaskExecutor: 171 : Initializing ExecutorService 'applicationTaskExecutor'
2020-01-08 14:21:57 977 [INFO] ThreadPoolTaskScheduler: 171 : Initializing ExecutorService 'taskScheduler'
2020-01-08 14:21:58 183 [INFO] EventDrivenConsumer: 107 : Adding {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2020-01-08 14:21:58 183 [INFO] PublishSubscribeChannel: 64 : Channel 'application.errorChannel' has 1 subscriber(s).
2020-01-08 14:21:58 183 [INFO] EventDrivenConsumer: 159 : started _org.springframework.integration.errorLogger
2020-01-08 14:21:58 216 [INFO] MqttPahoMessageDrivenChannelAdapter: 159 : started sysInbound
2020-01-08 14:21:58 216 [INFO] EventDrivenConsumer: 107 : Adding {bridge} as a subscriber to the 'mqttInboundChannel' channel
2020-01-08 14:21:58 216 [INFO] DirectChannel: 64 : Channel 'application.mqttInboundChannel' has 1 subscriber(s).
2020-01-08 14:21:58 216 [INFO] EventDrivenConsumer: 159 : started sysMsgFlow.org.springframework.integration.config.ConsumerEndpointFactoryBean#0
2020-01-08 14:21:58 216 [INFO] EventDrivenConsumer: 107 : Adding {service-activator} as a subscriber to the 'sysMsgFlow.channel#0' channel
2020-01-08 14:21:58 216 [INFO] ExecutorChannel: 64 : Channel 'application.sysMsgFlow.channel#0' has 1 subscriber(s).
2020-01-08 14:21:58 217 [INFO] EventDrivenConsumer: 159 : started sysMsgFlow.org.springframework.integration.config.ConsumerEndpointFactoryBean#1
2020-01-08 14:21:58 217 [INFO] EventDrivenConsumer: 107 : Adding {service-activator} as a subscriber to the 'sysMsgFlow.channel#1' channel
2020-01-08 14:21:58 217 [INFO] DirectChannel: 64 : Channel 'application.sysMsgFlow.channel#1' has 1 subscriber(s).
2020-01-08 14:21:58 217 [INFO] EventDrivenConsumer: 159 : started sysMsgFlow.org.springframework.integration.config.ConsumerEndpointFactoryBean#2
2020-01-08 14:21:58 217 [INFO] EventDrivenConsumer: 107 : Adding {filter} as a subscriber to the 'sysMsgFlow.channel#2' channel
2020-01-08 14:21:58 217 [INFO] DirectChannel: 64 : Channel 'application.sysMsgFlow.channel#2' has 1 subscriber(s).
2020-01-08 14:21:58 218 [INFO] EventDrivenConsumer: 159 : started sysMsgFlow.org.springframework.integration.config.ConsumerEndpointFactoryBean#3
2020-01-08 14:21:58 218 [INFO] EventDrivenConsumer: 107 : Adding {mqtt:outbound-channel-adapter} as a subscriber to the 'sysMsgFlow.channel#3' channel
2020-01-08 14:21:58 218 [INFO] DirectChannel: 64 : Channel 'application.sysMsgFlow.channel#3' has 1 subscriber(s).
2020-01-08 14:21:58 218 [INFO] EventDrivenConsumer: 159 : started sysMsgFlow.org.springframework.integration.config.ConsumerEndpointFactoryBean#4
2020-01-08 14:21:58 222 [INFO] MqttPahoMessageDrivenChannelAdapter: 159 : started bizInbound
2020-01-08 14:21:58 222 [INFO] EventDrivenConsumer: 107 : Adding {bridge} as a subscriber to the 'mqttInboundChannel' channel
2020-01-08 14:21:58 222 [INFO] DirectChannel: 64 : Channel 'application.mqttInboundChannel' has 2 subscriber(s).
2020-01-08 14:21:58 223 [INFO] EventDrivenConsumer: 159 : started bizMsgFlow.org.springframework.integration.config.ConsumerEndpointFactoryBean#0
2020-01-08 14:21:58 223 [INFO] EventDrivenConsumer: 107 : Adding {service-activator} as a subscriber to the 'bizMsgFlow.channel#0' channel
2020-01-08 14:21:58 223 [INFO] ExecutorChannel: 64 : Channel 'application.bizMsgFlow.channel#0' has 1 subscriber(s).
2020-01-08 14:21:58 223 [INFO] EventDrivenConsumer: 159 : started bizMsgFlow.org.springframework.integration.config.ConsumerEndpointFactoryBean#1
2020-01-08 14:21:58 223 [INFO] EventDrivenConsumer: 107 : Adding {router} as a subscriber to the 'bizMsgFlow.channel#1' channel
2020-01-08 14:21:58 223 [INFO] DirectChannel: 64 : Channel 'application.bizMsgFlow.channel#1' has 1 subscriber(s).
2020-01-08 14:21:58 223 [INFO] EventDrivenConsumer: 159 : started bizMsgFlow.org.springframework.integration.config.ConsumerEndpointFactoryBean#2
2020-01-08 14:21:58 224 [INFO] EventDrivenConsumer: 107 : Adding {service-activator} as a subscriber to the 'bizMsgFlow.subFlow#0.channel#0' channel
2020-01-08 14:21:58 224 [INFO] DirectChannel: 64 : Channel 'application.bizMsgFlow.subFlow#0.channel#0' has 1 subscriber(s).
2020-01-08 14:21:58 224 [INFO] EventDrivenConsumer: 159 : started bizMsgFlow.subFlow#0.org.springframework.integration.config.ConsumerEndpointFactoryBean#0
2020-01-08 14:21:58 224 [INFO] EventDrivenConsumer: 107 : Adding {service-activator} as a subscriber to the 'bizMsgFlow.subFlow#1.channel#0' channel
2020-01-08 14:21:58 224 [INFO] DirectChannel: 64 : Channel 'application.bizMsgFlow.subFlow#1.channel#0' has 1 subscriber(s).
2020-01-08 14:21:58 224 [INFO] EventDrivenConsumer: 159 : started bizMsgFlow.subFlow#1.org.springframework.integration.config.ConsumerEndpointFactoryBean#0
2020-01-08 14:21:58 225 [INFO] EventDrivenConsumer: 107 : Adding {service-activator} as a subscriber to the 'bizMsgFlow.subFlow#2.channel#0' channel
2020-01-08 14:21:58 225 [INFO] DirectChannel: 64 : Channel 'application.bizMsgFlow.subFlow#2.channel#0' has 1 subscriber(s).
2020-01-08 14:21:58 225 [INFO] EventDrivenConsumer: 159 : started bizMsgFlow.subFlow#2.org.springframework.integration.config.ConsumerEndpointFactoryBean#0
2020-01-08 14:21:58 225 [INFO] EventDrivenConsumer: 107 : Adding {service-activator} as a subscriber to the 'bizMsgFlow.subFlow#3.channel#0' channel
2020-01-08 14:21:58 225 [INFO] DirectChannel: 64 : Channel 'application.bizMsgFlow.subFlow#3.channel#0' has 1 subscriber(s).
2020-01-08 14:21:58 225 [INFO] EventDrivenConsumer: 159 : started bizMsgFlow.subFlow#3.org.springframework.integration.config.ConsumerEndpointFactoryBean#0
2020-01-08 14:21:58 225 [INFO] EventDrivenConsumer: 107 : Adding {bridge} as a subscriber to the 'bizMsgFlow.channel#2' channel
2020-01-08 14:21:58 226 [INFO] DirectChannel: 64 : Channel 'application.bizMsgFlow.channel#2' has 1 subscriber(s).
2020-01-08 14:21:58 226 [INFO] EventDrivenConsumer: 159 : started bizMsgFlow.org.springframework.integration.config.ConsumerEndpointFactoryBean#3
2020-01-08 14:21:58 226 [INFO] EventDrivenConsumer: 107 : Adding {message-handler:mqttSpringIntegration.mqttOutbound.serviceActivator} as a subscriber to the 'mqttOutboundChannel' channel
2020-01-08 14:21:58 226 [INFO] DirectChannel: 64 : Channel 'application.mqttOutboundChannel' has 1 subscriber(s).
2020-01-08 14:21:58 226 [INFO] EventDrivenConsumer: 159 : started mqttSpringIntegration.mqttOutbound.serviceActivator
2020-01-08 14:21:58 226 [INFO] GatewayProxyFactoryBean$MethodInvocationGateway: 159 : started mqttPublisher
2020-01-08 14:21:58 226 [INFO] GatewayProxyFactoryBean: 159 : started mqttPublisher
2020-01-08 14:21:58 233 [INFO] Http11NioProtocol: 173 : Starting ProtocolHandler ["http-nio-9090"]
2020-01-08 14:21:58 255 [INFO] TomcatWebServer: 202 : Tomcat started on port(s): 9090 (http) with context path ''
2020-01-08 14:21:58 258 [INFO] SpringIntegrationApplication: 59 : Started SpringIntegrationApplication in 3.885 seconds (JVM running for 5.855)
2020-01-08 14:24:06 929 [INFO] SpringIntegrationApplication: 37 : 
=========================================================
                                                         
          Welcome to Spring Integration!                 
                                                         
    For more information please visit:                   
    https://spring.io/projects/spring-integration        
                                                         
=========================================================
2020-01-08 14:24:06 936 [INFO] SpringIntegrationApplication: 46 : 
=========================================================
                                                         
    这是一个基于MQTT订阅的消息处理服务 -                     
    订阅关键的TOPIC，将收到的mqtt消息处理并最终写入数据        
=========================================================
2020-01-08 14:24:07 094 [INFO] SpringIntegrationApplication: 37 : 
=========================================================
                                                         
          Welcome to Spring Integration!                 
                                                         
    For more information please visit:                   
    https://spring.io/projects/spring-integration        
                                                         
=========================================================
2020-01-08 14:24:07 095 [INFO] SpringIntegrationApplication: 46 : 
=========================================================
                                                         
    这是一个基于MQTT订阅的消息处理服务 -                     
    订阅关键的TOPIC，将收到的mqtt消息处理并最终写入数据        
=========================================================
2020-01-08 14:24:07 559 [INFO] SpringIntegrationApplication: 50 : Starting SpringIntegrationApplication on DESKTOP-QA9ODS5 with PID 8396 (D:\kunbu\spring-integration\target\classes started by mojun in D:\kunbu\spring-integration)
2020-01-08 14:24:07 560 [INFO] SpringIntegrationApplication: 648 : No active profile set, falling back to default profiles: default
2020-01-08 14:24:07 590 [INFO] DevToolsPropertyDefaultsPostProcessor: 225 : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2020-01-08 14:24:07 591 [INFO] DevToolsPropertyDefaultsPostProcessor: 225 : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2020-01-08 14:24:08 112 [INFO] RepositoryConfigurationDelegate: 126 : Bootstrapping Spring Data repositories in DEFAULT mode.
2020-01-08 14:24:08 135 [INFO] RepositoryConfigurationDelegate: 182 : Finished Spring Data repository scanning in 20ms. Found 0 repository interfaces.
2020-01-08 14:24:08 302 [INFO] DefaultConfiguringBeanFactoryPostProcessor: 193 : No bean named 'errorChannel' has been explicitly defined. Therefore, a default PublishSubscribeChannel will be created.
2020-01-08 14:24:08 308 [INFO] DefaultConfiguringBeanFactoryPostProcessor: 280 : No bean named 'taskScheduler' has been explicitly defined. Therefore, a default ThreadPoolTaskScheduler will be created.
2020-01-08 14:24:08 312 [INFO] DefaultConfiguringBeanFactoryPostProcessor: 431 : No bean named 'integrationHeaderChannelRegistry' has been explicitly defined. Therefore, a default DefaultHeaderChannelRegistry will be created.
2020-01-08 14:24:08 382 [INFO] PostProcessorRegistrationDelegate$BeanPostProcessorChecker: 330 : Bean 'org.springframework.integration.config.IntegrationManagementConfiguration' of type [org.springframework.integration.config.IntegrationManagementConfiguration$$EnhancerBySpringCGLIB$$c7be9dbd] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-01-08 14:24:08 391 [INFO] PostProcessorRegistrationDelegate$BeanPostProcessorChecker: 330 : Bean 'integrationDisposableAutoCreatedBeans' of type [org.springframework.integration.config.annotation.Disposables] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-01-08 14:24:08 633 [INFO] TomcatWebServer: 90 : Tomcat initialized with port(s): 9090 (http)
2020-01-08 14:24:08 643 [INFO] Http11NioProtocol: 173 : Initializing ProtocolHandler ["http-nio-9090"]
2020-01-08 14:24:08 650 [INFO] StandardService: 173 : Starting service [Tomcat]
2020-01-08 14:24:08 651 [INFO] StandardEngine: 173 : Starting Servlet engine: [Apache Tomcat/9.0.26]
2020-01-08 14:24:08 759 [INFO] [/]: 173 : Initializing Spring embedded WebApplicationContext
2020-01-08 14:24:08 759 [INFO] ContextLoader: 284 : Root WebApplicationContext: initialization completed in 1168 ms
2020-01-08 14:24:09 703 [INFO] cluster: 71 : Cluster created with settings {hosts=[localhost:27017], mode=SINGLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}
2020-01-08 14:24:09 739 [INFO] connection: 71 : Opened connection [connectionId{localValue:1, serverValue:29}] to localhost:27017
2020-01-08 14:24:09 742 [INFO] cluster: 71 : Monitor thread successfully connected to server with description ServerDescription{address=localhost:27017, type=STANDALONE, state=CONNECTED, ok=true, version=ServerVersion{versionList=[3, 6, 12]}, minWireVersion=0, maxWireVersion=6, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=1943500}
2020-01-08 14:24:09 791 [WARN] CustomConversions: 207 : Registering converter from class java.time.LocalDateTime to class java.time.Instant as reading converter although it doesn't convert from a store-supported type! You might wanna check you annotation setup at the converter implementation.
2020-01-08 14:24:09 791 [WARN] CustomConversions: 207 : Registering converter from class java.time.Instant to class java.time.LocalDateTime as reading converter although it doesn't convert from a store-supported type! You might wanna check you annotation setup at the converter implementation.
2020-01-08 14:24:09 867 [INFO] OptionalLiveReloadServer: 57 : LiveReload server is running on port 35729
2020-01-08 14:24:09 885 [WARN] CustomConversions: 207 : Registering converter from class java.time.LocalDateTime to class java.time.Instant as reading converter although it doesn't convert from a store-supported type! You might wanna check you annotation setup at the converter implementation.
2020-01-08 14:24:09 885 [WARN] CustomConversions: 207 : Registering converter from class java.time.Instant to class java.time.LocalDateTime as reading converter although it doesn't convert from a store-supported type! You might wanna check you annotation setup at the converter implementation.
2020-01-08 14:24:09 927 [INFO] connection: 71 : Opened connection [connectionId{localValue:2, serverValue:30}] to localhost:27017
2020-01-08 14:24:10 277 [INFO] ThreadPoolTaskExecutor: 171 : Initializing ExecutorService 'applicationTaskExecutor'
2020-01-08 14:24:10 385 [INFO] ThreadPoolTaskScheduler: 171 : Initializing ExecutorService 'taskScheduler'
2020-01-08 14:24:10 571 [INFO] EventDrivenConsumer: 107 : Adding {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2020-01-08 14:24:10 572 [INFO] PublishSubscribeChannel: 64 : Channel 'application.errorChannel' has 1 subscriber(s).
2020-01-08 14:24:10 572 [INFO] EventDrivenConsumer: 159 : started _org.springframework.integration.errorLogger
2020-01-08 14:24:10 601 [INFO] MqttPahoMessageDrivenChannelAdapter: 159 : started sysInbound
2020-01-08 14:24:10 602 [INFO] EventDrivenConsumer: 107 : Adding {bridge} as a subscriber to the 'mqttInboundChannel' channel
2020-01-08 14:24:10 602 [INFO] DirectChannel: 64 : Channel 'application.mqttInboundChannel' has 1 subscriber(s).
2020-01-08 14:24:10 602 [INFO] EventDrivenConsumer: 159 : started sysMsgFlow.org.springframework.integration.config.ConsumerEndpointFactoryBean#0
2020-01-08 14:24:10 602 [INFO] EventDrivenConsumer: 107 : Adding {service-activator} as a subscriber to the 'sysMsgFlow.channel#0' channel
2020-01-08 14:24:10 602 [INFO] ExecutorChannel: 64 : Channel 'application.sysMsgFlow.channel#0' has 1 subscriber(s).
2020-01-08 14:24:10 603 [INFO] EventDrivenConsumer: 159 : started sysMsgFlow.org.springframework.integration.config.ConsumerEndpointFactoryBean#1
2020-01-08 14:24:10 603 [INFO] EventDrivenConsumer: 107 : Adding {service-activator} as a subscriber to the 'sysMsgFlow.channel#1' channel
2020-01-08 14:24:10 603 [INFO] DirectChannel: 64 : Channel 'application.sysMsgFlow.channel#1' has 1 subscriber(s).
2020-01-08 14:24:10 603 [INFO] EventDrivenConsumer: 159 : started sysMsgFlow.org.springframework.integration.config.ConsumerEndpointFactoryBean#2
2020-01-08 14:24:10 603 [INFO] EventDrivenConsumer: 107 : Adding {filter} as a subscriber to the 'sysMsgFlow.channel#2' channel
2020-01-08 14:24:10 603 [INFO] DirectChannel: 64 : Channel 'application.sysMsgFlow.channel#2' has 1 subscriber(s).
2020-01-08 14:24:10 603 [INFO] EventDrivenConsumer: 159 : started sysMsgFlow.org.springframework.integration.config.ConsumerEndpointFactoryBean#3
2020-01-08 14:24:10 603 [INFO] EventDrivenConsumer: 107 : Adding {mqtt:outbound-channel-adapter} as a subscriber to the 'sysMsgFlow.channel#3' channel
2020-01-08 14:24:10 604 [INFO] DirectChannel: 64 : Channel 'application.sysMsgFlow.channel#3' has 1 subscriber(s).
2020-01-08 14:24:10 604 [INFO] EventDrivenConsumer: 159 : started sysMsgFlow.org.springframework.integration.config.ConsumerEndpointFactoryBean#4
2020-01-08 14:24:10 607 [INFO] MqttPahoMessageDrivenChannelAdapter: 159 : started bizInbound
2020-01-08 14:24:10 608 [INFO] EventDrivenConsumer: 107 : Adding {bridge} as a subscriber to the 'mqttInboundChannel' channel
2020-01-08 14:24:10 608 [INFO] DirectChannel: 64 : Channel 'application.mqttInboundChannel' has 2 subscriber(s).
2020-01-08 14:24:10 608 [INFO] EventDrivenConsumer: 159 : started bizMsgFlow.org.springframework.integration.config.ConsumerEndpointFactoryBean#0
2020-01-08 14:24:10 608 [INFO] EventDrivenConsumer: 107 : Adding {service-activator} as a subscriber to the 'bizMsgFlow.channel#0' channel
2020-01-08 14:24:10 608 [INFO] ExecutorChannel: 64 : Channel 'application.bizMsgFlow.channel#0' has 1 subscriber(s).
2020-01-08 14:24:10 609 [INFO] EventDrivenConsumer: 159 : started bizMsgFlow.org.springframework.integration.config.ConsumerEndpointFactoryBean#1
2020-01-08 14:24:10 609 [INFO] EventDrivenConsumer: 107 : Adding {router} as a subscriber to the 'bizMsgFlow.channel#1' channel
2020-01-08 14:24:10 609 [INFO] DirectChannel: 64 : Channel 'application.bizMsgFlow.channel#1' has 1 subscriber(s).
2020-01-08 14:24:10 609 [INFO] EventDrivenConsumer: 159 : started bizMsgFlow.org.springframework.integration.config.ConsumerEndpointFactoryBean#2
2020-01-08 14:24:10 610 [INFO] EventDrivenConsumer: 107 : Adding {service-activator} as a subscriber to the 'bizMsgFlow.subFlow#0.channel#0' channel
2020-01-08 14:24:10 610 [INFO] DirectChannel: 64 : Channel 'application.bizMsgFlow.subFlow#0.channel#0' has 1 subscriber(s).
2020-01-08 14:24:10 610 [INFO] EventDrivenConsumer: 159 : started bizMsgFlow.subFlow#0.org.springframework.integration.config.ConsumerEndpointFactoryBean#0
2020-01-08 14:24:10 610 [INFO] EventDrivenConsumer: 107 : Adding {service-activator} as a subscriber to the 'bizMsgFlow.subFlow#1.channel#0' channel
2020-01-08 14:24:10 610 [INFO] DirectChannel: 64 : Channel 'application.bizMsgFlow.subFlow#1.channel#0' has 1 subscriber(s).
2020-01-08 14:24:10 611 [INFO] EventDrivenConsumer: 159 : started bizMsgFlow.subFlow#1.org.springframework.integration.config.ConsumerEndpointFactoryBean#0
2020-01-08 14:24:10 611 [INFO] EventDrivenConsumer: 107 : Adding {service-activator} as a subscriber to the 'bizMsgFlow.subFlow#2.channel#0' channel
2020-01-08 14:24:10 611 [INFO] DirectChannel: 64 : Channel 'application.bizMsgFlow.subFlow#2.channel#0' has 1 subscriber(s).
2020-01-08 14:24:10 611 [INFO] EventDrivenConsumer: 159 : started bizMsgFlow.subFlow#2.org.springframework.integration.config.ConsumerEndpointFactoryBean#0
2020-01-08 14:24:10 611 [INFO] EventDrivenConsumer: 107 : Adding {service-activator} as a subscriber to the 'bizMsgFlow.subFlow#3.channel#0' channel
2020-01-08 14:24:10 611 [INFO] DirectChannel: 64 : Channel 'application.bizMsgFlow.subFlow#3.channel#0' has 1 subscriber(s).
2020-01-08 14:24:10 611 [INFO] EventDrivenConsumer: 159 : started bizMsgFlow.subFlow#3.org.springframework.integration.config.ConsumerEndpointFactoryBean#0
2020-01-08 14:24:10 611 [INFO] EventDrivenConsumer: 107 : Adding {bridge} as a subscriber to the 'bizMsgFlow.channel#2' channel
2020-01-08 14:24:10 611 [INFO] DirectChannel: 64 : Channel 'application.bizMsgFlow.channel#2' has 1 subscriber(s).
2020-01-08 14:24:10 612 [INFO] EventDrivenConsumer: 159 : started bizMsgFlow.org.springframework.integration.config.ConsumerEndpointFactoryBean#3
2020-01-08 14:24:10 612 [INFO] EventDrivenConsumer: 107 : Adding {message-handler:mqttSpringIntegration.mqttOutbound.serviceActivator} as a subscriber to the 'mqttOutboundChannel' channel
2020-01-08 14:24:10 612 [INFO] DirectChannel: 64 : Channel 'application.mqttOutboundChannel' has 1 subscriber(s).
2020-01-08 14:24:10 612 [INFO] EventDrivenConsumer: 159 : started mqttSpringIntegration.mqttOutbound.serviceActivator
2020-01-08 14:24:10 612 [INFO] GatewayProxyFactoryBean$MethodInvocationGateway: 159 : started mqttPublisher
2020-01-08 14:24:10 612 [INFO] GatewayProxyFactoryBean: 159 : started mqttPublisher
2020-01-08 14:24:10 618 [INFO] Http11NioProtocol: 173 : Starting ProtocolHandler ["http-nio-9090"]
2020-01-08 14:24:10 635 [INFO] TomcatWebServer: 202 : Tomcat started on port(s): 9090 (http) with context path ''
2020-01-08 14:24:10 638 [INFO] SpringIntegrationApplication: 59 : Started SpringIntegrationApplication in 3.538 seconds (JVM running for 5.233)
2020-01-08 14:24:48 316 [INFO] SpringIntegrationApplication: 37 : 
=========================================================
                                                         
          Welcome to Spring Integration!                 
                                                         
    For more information please visit:                   
    https://spring.io/projects/spring-integration        
                                                         
                                                         
    这是一个基于MQTT订阅的消息处理服务 -                     
    订阅关键的TOPIC，将收到的mqtt消息处理并最终写入数据        
=========================================================
2020-01-08 14:24:48 455 [INFO] SpringIntegrationApplication: 37 : 
=========================================================
                                                         
          Welcome to Spring Integration!                 
                                                         
    For more information please visit:                   
    https://spring.io/projects/spring-integration        
                                                         
                                                         
    这是一个基于MQTT订阅的消息处理服务 -                     
    订阅关键的TOPIC，将收到的mqtt消息处理并最终写入数据        
=========================================================
2020-01-08 14:24:48 847 [INFO] SpringIntegrationApplication: 50 : Starting SpringIntegrationApplication on DESKTOP-QA9ODS5 with PID 23824 (D:\kunbu\spring-integration\target\classes started by mojun in D:\kunbu\spring-integration)
2020-01-08 14:24:48 848 [INFO] SpringIntegrationApplication: 648 : No active profile set, falling back to default profiles: default
2020-01-08 14:24:48 895 [INFO] DevToolsPropertyDefaultsPostProcessor: 225 : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2020-01-08 14:24:48 896 [INFO] DevToolsPropertyDefaultsPostProcessor: 225 : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2020-01-08 14:24:49 697 [INFO] RepositoryConfigurationDelegate: 126 : Bootstrapping Spring Data repositories in DEFAULT mode.
2020-01-08 14:24:49 719 [INFO] RepositoryConfigurationDelegate: 182 : Finished Spring Data repository scanning in 19ms. Found 0 repository interfaces.
2020-01-08 14:24:49 914 [INFO] DefaultConfiguringBeanFactoryPostProcessor: 193 : No bean named 'errorChannel' has been explicitly defined. Therefore, a default PublishSubscribeChannel will be created.
2020-01-08 14:24:49 922 [INFO] DefaultConfiguringBeanFactoryPostProcessor: 280 : No bean named 'taskScheduler' has been explicitly defined. Therefore, a default ThreadPoolTaskScheduler will be created.
2020-01-08 14:24:49 925 [INFO] DefaultConfiguringBeanFactoryPostProcessor: 431 : No bean named 'integrationHeaderChannelRegistry' has been explicitly defined. Therefore, a default DefaultHeaderChannelRegistry will be created.
2020-01-08 14:24:49 994 [INFO] PostProcessorRegistrationDelegate$BeanPostProcessorChecker: 330 : Bean 'org.springframework.integration.config.IntegrationManagementConfiguration' of type [org.springframework.integration.config.IntegrationManagementConfiguration$$EnhancerBySpringCGLIB$$626598d5] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-01-08 14:24:50 003 [INFO] PostProcessorRegistrationDelegate$BeanPostProcessorChecker: 330 : Bean 'integrationDisposableAutoCreatedBeans' of type [org.springframework.integration.config.annotation.Disposables] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-01-08 14:24:50 251 [INFO] TomcatWebServer: 90 : Tomcat initialized with port(s): 9090 (http)
2020-01-08 14:24:50 262 [INFO] Http11NioProtocol: 173 : Initializing ProtocolHandler ["http-nio-9090"]
2020-01-08 14:24:50 268 [INFO] StandardService: 173 : Starting service [Tomcat]
2020-01-08 14:24:50 269 [INFO] StandardEngine: 173 : Starting Servlet engine: [Apache Tomcat/9.0.26]
2020-01-08 14:24:50 381 [INFO] [/]: 173 : Initializing Spring embedded WebApplicationContext
2020-01-08 14:24:50 382 [INFO] ContextLoader: 284 : Root WebApplicationContext: initialization completed in 1486 ms
2020-01-08 14:24:51 361 [INFO] cluster: 71 : Cluster created with settings {hosts=[localhost:27017], mode=SINGLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}
2020-01-08 14:24:51 397 [INFO] connection: 71 : Opened connection [connectionId{localValue:1, serverValue:31}] to localhost:27017
2020-01-08 14:24:51 400 [INFO] cluster: 71 : Monitor thread successfully connected to server with description ServerDescription{address=localhost:27017, type=STANDALONE, state=CONNECTED, ok=true, version=ServerVersion{versionList=[3, 6, 12]}, minWireVersion=0, maxWireVersion=6, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=1932799}
2020-01-08 14:24:51 445 [WARN] CustomConversions: 207 : Registering converter from class java.time.LocalDateTime to class java.time.Instant as reading converter although it doesn't convert from a store-supported type! You might wanna check you annotation setup at the converter implementation.
2020-01-08 14:24:51 446 [WARN] CustomConversions: 207 : Registering converter from class java.time.Instant to class java.time.LocalDateTime as reading converter although it doesn't convert from a store-supported type! You might wanna check you annotation setup at the converter implementation.
2020-01-08 14:24:51 527 [INFO] OptionalLiveReloadServer: 57 : LiveReload server is running on port 35729
2020-01-08 14:24:51 537 [WARN] CustomConversions: 207 : Registering converter from class java.time.LocalDateTime to class java.time.Instant as reading converter although it doesn't convert from a store-supported type! You might wanna check you annotation setup at the converter implementation.
2020-01-08 14:24:51 538 [WARN] CustomConversions: 207 : Registering converter from class java.time.Instant to class java.time.LocalDateTime as reading converter although it doesn't convert from a store-supported type! You might wanna check you annotation setup at the converter implementation.
2020-01-08 14:24:51 582 [INFO] connection: 71 : Opened connection [connectionId{localValue:2, serverValue:32}] to localhost:27017
2020-01-08 14:24:51 918 [INFO] ThreadPoolTaskExecutor: 171 : Initializing ExecutorService 'applicationTaskExecutor'
2020-01-08 14:24:52 023 [INFO] ThreadPoolTaskScheduler: 171 : Initializing ExecutorService 'taskScheduler'
2020-01-08 14:24:52 200 [INFO] EventDrivenConsumer: 107 : Adding {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2020-01-08 14:24:52 200 [INFO] PublishSubscribeChannel: 64 : Channel 'application.errorChannel' has 1 subscriber(s).
2020-01-08 14:24:52 200 [INFO] EventDrivenConsumer: 159 : started _org.springframework.integration.errorLogger
2020-01-08 14:24:52 229 [INFO] MqttPahoMessageDrivenChannelAdapter: 159 : started sysInbound
2020-01-08 14:24:52 229 [INFO] EventDrivenConsumer: 107 : Adding {bridge} as a subscriber to the 'mqttInboundChannel' channel
2020-01-08 14:24:52 230 [INFO] DirectChannel: 64 : Channel 'application.mqttInboundChannel' has 1 subscriber(s).
2020-01-08 14:24:52 230 [INFO] EventDrivenConsumer: 159 : started sysMsgFlow.org.springframework.integration.config.ConsumerEndpointFactoryBean#0
2020-01-08 14:24:52 230 [INFO] EventDrivenConsumer: 107 : Adding {service-activator} as a subscriber to the 'sysMsgFlow.channel#0' channel
2020-01-08 14:24:52 230 [INFO] ExecutorChannel: 64 : Channel 'application.sysMsgFlow.channel#0' has 1 subscriber(s).
2020-01-08 14:24:52 230 [INFO] EventDrivenConsumer: 159 : started sysMsgFlow.org.springframework.integration.config.ConsumerEndpointFactoryBean#1
2020-01-08 14:24:52 230 [INFO] EventDrivenConsumer: 107 : Adding {service-activator} as a subscriber to the 'sysMsgFlow.channel#1' channel
2020-01-08 14:24:52 230 [INFO] DirectChannel: 64 : Channel 'application.sysMsgFlow.channel#1' has 1 subscriber(s).
2020-01-08 14:24:52 231 [INFO] EventDrivenConsumer: 159 : started sysMsgFlow.org.springframework.integration.config.ConsumerEndpointFactoryBean#2
2020-01-08 14:24:52 231 [INFO] EventDrivenConsumer: 107 : Adding {filter} as a subscriber to the 'sysMsgFlow.channel#2' channel
2020-01-08 14:24:52 231 [INFO] DirectChannel: 64 : Channel 'application.sysMsgFlow.channel#2' has 1 subscriber(s).
2020-01-08 14:24:52 231 [INFO] EventDrivenConsumer: 159 : started sysMsgFlow.org.springframework.integration.config.ConsumerEndpointFactoryBean#3
2020-01-08 14:24:52 231 [INFO] EventDrivenConsumer: 107 : Adding {mqtt:outbound-channel-adapter} as a subscriber to the 'sysMsgFlow.channel#3' channel
2020-01-08 14:24:52 231 [INFO] DirectChannel: 64 : Channel 'application.sysMsgFlow.channel#3' has 1 subscriber(s).
2020-01-08 14:24:52 231 [INFO] EventDrivenConsumer: 159 : started sysMsgFlow.org.springframework.integration.config.ConsumerEndpointFactoryBean#4
2020-01-08 14:24:52 235 [INFO] MqttPahoMessageDrivenChannelAdapter: 159 : started bizInbound
2020-01-08 14:24:52 235 [INFO] EventDrivenConsumer: 107 : Adding {bridge} as a subscriber to the 'mqttInboundChannel' channel
2020-01-08 14:24:52 236 [INFO] DirectChannel: 64 : Channel 'application.mqttInboundChannel' has 2 subscriber(s).
2020-01-08 14:24:52 236 [INFO] EventDrivenConsumer: 159 : started bizMsgFlow.org.springframework.integration.config.ConsumerEndpointFactoryBean#0
2020-01-08 14:24:52 236 [INFO] EventDrivenConsumer: 107 : Adding {service-activator} as a subscriber to the 'bizMsgFlow.channel#0' channel
2020-01-08 14:24:52 236 [INFO] ExecutorChannel: 64 : Channel 'application.bizMsgFlow.channel#0' has 1 subscriber(s).
2020-01-08 14:24:52 236 [INFO] EventDrivenConsumer: 159 : started bizMsgFlow.org.springframework.integration.config.ConsumerEndpointFactoryBean#1
2020-01-08 14:24:52 237 [INFO] EventDrivenConsumer: 107 : Adding {router} as a subscriber to the 'bizMsgFlow.channel#1' channel
2020-01-08 14:24:52 237 [INFO] DirectChannel: 64 : Channel 'application.bizMsgFlow.channel#1' has 1 subscriber(s).
2020-01-08 14:24:52 237 [INFO] EventDrivenConsumer: 159 : started bizMsgFlow.org.springframework.integration.config.ConsumerEndpointFactoryBean#2
2020-01-08 14:24:52 237 [INFO] EventDrivenConsumer: 107 : Adding {service-activator} as a subscriber to the 'bizMsgFlow.subFlow#0.channel#0' channel
2020-01-08 14:24:52 238 [INFO] DirectChannel: 64 : Channel 'application.bizMsgFlow.subFlow#0.channel#0' has 1 subscriber(s).
2020-01-08 14:24:52 238 [INFO] EventDrivenConsumer: 159 : started bizMsgFlow.subFlow#0.org.springframework.integration.config.ConsumerEndpointFactoryBean#0
2020-01-08 14:24:52 238 [INFO] EventDrivenConsumer: 107 : Adding {service-activator} as a subscriber to the 'bizMsgFlow.subFlow#1.channel#0' channel
2020-01-08 14:24:52 238 [INFO] DirectChannel: 64 : Channel 'application.bizMsgFlow.subFlow#1.channel#0' has 1 subscriber(s).
2020-01-08 14:24:52 238 [INFO] EventDrivenConsumer: 159 : started bizMsgFlow.subFlow#1.org.springframework.integration.config.ConsumerEndpointFactoryBean#0
2020-01-08 14:24:52 239 [INFO] EventDrivenConsumer: 107 : Adding {service-activator} as a subscriber to the 'bizMsgFlow.subFlow#2.channel#0' channel
2020-01-08 14:24:52 239 [INFO] DirectChannel: 64 : Channel 'application.bizMsgFlow.subFlow#2.channel#0' has 1 subscriber(s).
2020-01-08 14:24:52 239 [INFO] EventDrivenConsumer: 159 : started bizMsgFlow.subFlow#2.org.springframework.integration.config.ConsumerEndpointFactoryBean#0
2020-01-08 14:24:52 239 [INFO] EventDrivenConsumer: 107 : Adding {service-activator} as a subscriber to the 'bizMsgFlow.subFlow#3.channel#0' channel
2020-01-08 14:24:52 239 [INFO] DirectChannel: 64 : Channel 'application.bizMsgFlow.subFlow#3.channel#0' has 1 subscriber(s).
2020-01-08 14:24:52 239 [INFO] EventDrivenConsumer: 159 : started bizMsgFlow.subFlow#3.org.springframework.integration.config.ConsumerEndpointFactoryBean#0
2020-01-08 14:24:52 239 [INFO] EventDrivenConsumer: 107 : Adding {bridge} as a subscriber to the 'bizMsgFlow.channel#2' channel
2020-01-08 14:24:52 240 [INFO] DirectChannel: 64 : Channel 'application.bizMsgFlow.channel#2' has 1 subscriber(s).
2020-01-08 14:24:52 240 [INFO] EventDrivenConsumer: 159 : started bizMsgFlow.org.springframework.integration.config.ConsumerEndpointFactoryBean#3
2020-01-08 14:24:52 240 [INFO] EventDrivenConsumer: 107 : Adding {message-handler:mqttSpringIntegration.mqttOutbound.serviceActivator} as a subscriber to the 'mqttOutboundChannel' channel
2020-01-08 14:24:52 240 [INFO] DirectChannel: 64 : Channel 'application.mqttOutboundChannel' has 1 subscriber(s).
2020-01-08 14:24:52 241 [INFO] EventDrivenConsumer: 159 : started mqttSpringIntegration.mqttOutbound.serviceActivator
2020-01-08 14:24:52 241 [INFO] GatewayProxyFactoryBean$MethodInvocationGateway: 159 : started mqttPublisher
2020-01-08 14:24:52 241 [INFO] GatewayProxyFactoryBean: 159 : started mqttPublisher
2020-01-08 14:24:52 252 [INFO] Http11NioProtocol: 173 : Starting ProtocolHandler ["http-nio-9090"]
2020-01-08 14:24:52 287 [INFO] TomcatWebServer: 202 : Tomcat started on port(s): 9090 (http) with context path ''
2020-01-08 14:24:52 293 [INFO] SpringIntegrationApplication: 59 : Started SpringIntegrationApplication in 3.831 seconds (JVM running for 5.319)
2020-01-08 14:35:24 768 [INFO] MessageTransferUtil: 33 : received sys message, header:{mqtt_receivedRetained=false, id=b44324ee-b805-6720-f0ee-2c5cdfd08787, mqtt_duplicate=false, mqtt_receivedTopic=kunbu/biz/98D863BE7116/inf/, mqtt_receivedQos=1, timestamp=1578465324765}, payload:{       "mt":"J00",
       "dt":"0F060B0B",
       "elem":[
           {"id":"operationMode","data":"432804"},
           {"id":"burningStateDHW","data":"30"},
           {"id":"burningStateCH","data":"31"},
           {"id":"temperatureUnit","data":"30"},
          {"id":"waterPressureUnit","data":"31"},
           {"id":"hotWaterTempSetting","data":"34"},
           {"id":"heatingTempSetting","data":"2D"},
           {"id":"waterPressure","data":"0000"},
           {"id":"errorCode","data":"0"},
          {"id":"hotWaterTempBound","data":"3C25"},
           {"id":"heatingTempBound","data":"5228"}
        ],
        "lt":"2019-12-20T09:35:30+08:00"
 }
2020-01-08 14:39:12 478 [INFO] SpringIntegrationApplication: 37 : 
=========================================================
                                                         
          Welcome to Spring Integration!                 
                                                         
    For more information please visit:                   
    https://spring.io/projects/spring-integration        
                                                         
                                                         
    这是一个基于MQTT订阅的消息处理服务 -                     
    订阅关键的TOPIC，将收到的mqtt消息处理并最终写入数据        
=========================================================
2020-01-08 14:39:12 581 [INFO] SpringIntegrationApplication: 37 : 
=========================================================
                                                         
          Welcome to Spring Integration!                 
                                                         
    For more information please visit:                   
    https://spring.io/projects/spring-integration        
                                                         
                                                         
    这是一个基于MQTT订阅的消息处理服务 -                     
    订阅关键的TOPIC，将收到的mqtt消息处理并最终写入数据        
=========================================================
2020-01-08 14:39:12 887 [INFO] SpringIntegrationApplication: 50 : Starting SpringIntegrationApplication on DESKTOP-QA9ODS5 with PID 11300 (D:\kunbu\spring-integration\target\classes started by mojun in D:\kunbu\spring-integration)
2020-01-08 14:39:12 888 [INFO] SpringIntegrationApplication: 648 : No active profile set, falling back to default profiles: default
2020-01-08 14:39:12 924 [INFO] DevToolsPropertyDefaultsPostProcessor: 225 : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2020-01-08 14:39:12 924 [INFO] DevToolsPropertyDefaultsPostProcessor: 225 : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2020-01-08 14:39:13 462 [INFO] RepositoryConfigurationDelegate: 126 : Bootstrapping Spring Data repositories in DEFAULT mode.
2020-01-08 14:39:13 489 [INFO] RepositoryConfigurationDelegate: 182 : Finished Spring Data repository scanning in 24ms. Found 0 repository interfaces.
2020-01-08 14:39:13 718 [INFO] DefaultConfiguringBeanFactoryPostProcessor: 193 : No bean named 'errorChannel' has been explicitly defined. Therefore, a default PublishSubscribeChannel will be created.
2020-01-08 14:39:13 725 [INFO] DefaultConfiguringBeanFactoryPostProcessor: 280 : No bean named 'taskScheduler' has been explicitly defined. Therefore, a default ThreadPoolTaskScheduler will be created.
2020-01-08 14:39:13 729 [INFO] DefaultConfiguringBeanFactoryPostProcessor: 431 : No bean named 'integrationHeaderChannelRegistry' has been explicitly defined. Therefore, a default DefaultHeaderChannelRegistry will be created.
2020-01-08 14:39:13 846 [INFO] PostProcessorRegistrationDelegate$BeanPostProcessorChecker: 330 : Bean 'org.springframework.integration.config.IntegrationManagementConfiguration' of type [org.springframework.integration.config.IntegrationManagementConfiguration$$EnhancerBySpringCGLIB$$d6676e7f] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-01-08 14:39:13 864 [INFO] PostProcessorRegistrationDelegate$BeanPostProcessorChecker: 330 : Bean 'integrationDisposableAutoCreatedBeans' of type [org.springframework.integration.config.annotation.Disposables] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-01-08 14:39:14 389 [INFO] TomcatWebServer: 90 : Tomcat initialized with port(s): 9090 (http)
2020-01-08 14:39:14 413 [INFO] Http11NioProtocol: 173 : Initializing ProtocolHandler ["http-nio-9090"]
2020-01-08 14:39:14 430 [INFO] StandardService: 173 : Starting service [Tomcat]
2020-01-08 14:39:14 431 [INFO] StandardEngine: 173 : Starting Servlet engine: [Apache Tomcat/9.0.26]
2020-01-08 14:39:14 693 [INFO] [/]: 173 : Initializing Spring embedded WebApplicationContext
2020-01-08 14:39:14 693 [INFO] ContextLoader: 284 : Root WebApplicationContext: initialization completed in 1768 ms
2020-01-08 14:39:16 170 [INFO] cluster: 71 : Cluster created with settings {hosts=[localhost:27017], mode=SINGLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}
2020-01-08 14:39:16 214 [INFO] connection: 71 : Opened connection [connectionId{localValue:1, serverValue:33}] to localhost:27017
2020-01-08 14:39:16 217 [INFO] cluster: 71 : Monitor thread successfully connected to server with description ServerDescription{address=localhost:27017, type=STANDALONE, state=CONNECTED, ok=true, version=ServerVersion{versionList=[3, 6, 12]}, minWireVersion=0, maxWireVersion=6, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=2168900}
2020-01-08 14:39:16 262 [WARN] CustomConversions: 207 : Registering converter from class java.time.LocalDateTime to class java.time.Instant as reading converter although it doesn't convert from a store-supported type! You might wanna check you annotation setup at the converter implementation.
2020-01-08 14:39:16 263 [WARN] CustomConversions: 207 : Registering converter from class java.time.Instant to class java.time.LocalDateTime as reading converter although it doesn't convert from a store-supported type! You might wanna check you annotation setup at the converter implementation.
2020-01-08 14:39:16 350 [INFO] OptionalLiveReloadServer: 57 : LiveReload server is running on port 35729
2020-01-08 14:39:16 361 [WARN] CustomConversions: 207 : Registering converter from class java.time.LocalDateTime to class java.time.Instant as reading converter although it doesn't convert from a store-supported type! You might wanna check you annotation setup at the converter implementation.
2020-01-08 14:39:16 362 [WARN] CustomConversions: 207 : Registering converter from class java.time.Instant to class java.time.LocalDateTime as reading converter although it doesn't convert from a store-supported type! You might wanna check you annotation setup at the converter implementation.
2020-01-08 14:39:16 410 [INFO] connection: 71 : Opened connection [connectionId{localValue:2, serverValue:34}] to localhost:27017
2020-01-08 14:39:16 530 [INFO] MqttSpringIntegration: 63 : >>> mqtt options:{"bizClientId":"consumer-biz-subscriber","bizTopic":["kunbu/biz/+/bsc/","kunbu/biz/+/log/","kunbu/biz/+/inf/"],"cleanSession":false,"clientId":"consumer-publisher","host":"tcp://127.0.0.1:1883","password":"123456","sysClientId":"consumer-sys-subscriber","sysTopic":["$SYS/brokers/+/client/+/connected","$SYS/brokers/+/client/+/disconnected"],"userName":"mqtt-kunbu"}
2020-01-08 14:39:16 821 [INFO] ThreadPoolTaskExecutor: 171 : Initializing ExecutorService 'applicationTaskExecutor'
2020-01-08 14:39:16 944 [INFO] ThreadPoolTaskScheduler: 171 : Initializing ExecutorService 'taskScheduler'
2020-01-08 14:39:17 137 [INFO] EventDrivenConsumer: 107 : Adding {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2020-01-08 14:39:17 138 [INFO] PublishSubscribeChannel: 64 : Channel 'application.errorChannel' has 1 subscriber(s).
2020-01-08 14:39:17 138 [INFO] EventDrivenConsumer: 159 : started _org.springframework.integration.errorLogger
2020-01-08 14:39:17 165 [INFO] MqttPahoMessageDrivenChannelAdapter: 159 : started sysInbound
2020-01-08 14:39:17 165 [INFO] EventDrivenConsumer: 107 : Adding {bridge} as a subscriber to the 'mqttInboundChannel' channel
2020-01-08 14:39:17 165 [INFO] DirectChannel: 64 : Channel 'application.mqttInboundChannel' has 1 subscriber(s).
2020-01-08 14:39:17 166 [INFO] EventDrivenConsumer: 159 : started sysMsgFlow.org.springframework.integration.config.ConsumerEndpointFactoryBean#0
2020-01-08 14:39:17 166 [INFO] EventDrivenConsumer: 107 : Adding {service-activator} as a subscriber to the 'sysMsgFlow.channel#0' channel
2020-01-08 14:39:17 166 [INFO] ExecutorChannel: 64 : Channel 'application.sysMsgFlow.channel#0' has 1 subscriber(s).
2020-01-08 14:39:17 166 [INFO] EventDrivenConsumer: 159 : started sysMsgFlow.org.springframework.integration.config.ConsumerEndpointFactoryBean#1
2020-01-08 14:39:17 166 [INFO] EventDrivenConsumer: 107 : Adding {service-activator} as a subscriber to the 'sysMsgFlow.channel#1' channel
2020-01-08 14:39:17 166 [INFO] DirectChannel: 64 : Channel 'application.sysMsgFlow.channel#1' has 1 subscriber(s).
2020-01-08 14:39:17 166 [INFO] EventDrivenConsumer: 159 : started sysMsgFlow.org.springframework.integration.config.ConsumerEndpointFactoryBean#2
2020-01-08 14:39:17 167 [INFO] EventDrivenConsumer: 107 : Adding {filter} as a subscriber to the 'sysMsgFlow.channel#2' channel
2020-01-08 14:39:17 167 [INFO] DirectChannel: 64 : Channel 'application.sysMsgFlow.channel#2' has 1 subscriber(s).
2020-01-08 14:39:17 167 [INFO] EventDrivenConsumer: 159 : started sysMsgFlow.org.springframework.integration.config.ConsumerEndpointFactoryBean#3
2020-01-08 14:39:17 167 [INFO] EventDrivenConsumer: 107 : Adding {mqtt:outbound-channel-adapter} as a subscriber to the 'sysMsgFlow.channel#3' channel
2020-01-08 14:39:17 167 [INFO] DirectChannel: 64 : Channel 'application.sysMsgFlow.channel#3' has 1 subscriber(s).
2020-01-08 14:39:17 167 [INFO] EventDrivenConsumer: 159 : started sysMsgFlow.org.springframework.integration.config.ConsumerEndpointFactoryBean#4
2020-01-08 14:39:17 172 [INFO] MqttPahoMessageDrivenChannelAdapter: 159 : started bizInbound
2020-01-08 14:39:17 172 [INFO] EventDrivenConsumer: 107 : Adding {bridge} as a subscriber to the 'mqttInboundChannel' channel
2020-01-08 14:39:17 172 [INFO] DirectChannel: 64 : Channel 'application.mqttInboundChannel' has 2 subscriber(s).
2020-01-08 14:39:17 172 [INFO] EventDrivenConsumer: 159 : started bizMsgFlow.org.springframework.integration.config.ConsumerEndpointFactoryBean#0
2020-01-08 14:39:17 172 [INFO] EventDrivenConsumer: 107 : Adding {service-activator} as a subscriber to the 'bizMsgFlow.channel#0' channel
2020-01-08 14:39:17 173 [INFO] ExecutorChannel: 64 : Channel 'application.bizMsgFlow.channel#0' has 1 subscriber(s).
2020-01-08 14:39:17 173 [INFO] EventDrivenConsumer: 159 : started bizMsgFlow.org.springframework.integration.config.ConsumerEndpointFactoryBean#1
2020-01-08 14:39:17 173 [INFO] EventDrivenConsumer: 107 : Adding {router} as a subscriber to the 'bizMsgFlow.channel#1' channel
2020-01-08 14:39:17 173 [INFO] DirectChannel: 64 : Channel 'application.bizMsgFlow.channel#1' has 1 subscriber(s).
2020-01-08 14:39:17 173 [INFO] EventDrivenConsumer: 159 : started bizMsgFlow.org.springframework.integration.config.ConsumerEndpointFactoryBean#2
2020-01-08 14:39:17 173 [INFO] EventDrivenConsumer: 107 : Adding {service-activator} as a subscriber to the 'bizMsgFlow.subFlow#0.channel#0' channel
2020-01-08 14:39:17 174 [INFO] DirectChannel: 64 : Channel 'application.bizMsgFlow.subFlow#0.channel#0' has 1 subscriber(s).
2020-01-08 14:39:17 174 [INFO] EventDrivenConsumer: 159 : started bizMsgFlow.subFlow#0.org.springframework.integration.config.ConsumerEndpointFactoryBean#0
2020-01-08 14:39:17 174 [INFO] EventDrivenConsumer: 107 : Adding {service-activator} as a subscriber to the 'bizMsgFlow.subFlow#1.channel#0' channel
2020-01-08 14:39:17 174 [INFO] DirectChannel: 64 : Channel 'application.bizMsgFlow.subFlow#1.channel#0' has 1 subscriber(s).
2020-01-08 14:39:17 174 [INFO] EventDrivenConsumer: 159 : started bizMsgFlow.subFlow#1.org.springframework.integration.config.ConsumerEndpointFactoryBean#0
2020-01-08 14:39:17 174 [INFO] EventDrivenConsumer: 107 : Adding {service-activator} as a subscriber to the 'bizMsgFlow.subFlow#2.channel#0' channel
2020-01-08 14:39:17 174 [INFO] DirectChannel: 64 : Channel 'application.bizMsgFlow.subFlow#2.channel#0' has 1 subscriber(s).
2020-01-08 14:39:17 175 [INFO] EventDrivenConsumer: 159 : started bizMsgFlow.subFlow#2.org.springframework.integration.config.ConsumerEndpointFactoryBean#0
2020-01-08 14:39:17 175 [INFO] EventDrivenConsumer: 107 : Adding {service-activator} as a subscriber to the 'bizMsgFlow.subFlow#3.channel#0' channel
2020-01-08 14:39:17 175 [INFO] DirectChannel: 64 : Channel 'application.bizMsgFlow.subFlow#3.channel#0' has 1 subscriber(s).
2020-01-08 14:39:17 175 [INFO] EventDrivenConsumer: 159 : started bizMsgFlow.subFlow#3.org.springframework.integration.config.ConsumerEndpointFactoryBean#0
2020-01-08 14:39:17 175 [INFO] EventDrivenConsumer: 107 : Adding {bridge} as a subscriber to the 'bizMsgFlow.channel#2' channel
2020-01-08 14:39:17 175 [INFO] DirectChannel: 64 : Channel 'application.bizMsgFlow.channel#2' has 1 subscriber(s).
2020-01-08 14:39:17 175 [INFO] EventDrivenConsumer: 159 : started bizMsgFlow.org.springframework.integration.config.ConsumerEndpointFactoryBean#3
2020-01-08 14:39:17 175 [INFO] EventDrivenConsumer: 107 : Adding {message-handler:mqttSpringIntegration.mqttOutbound.serviceActivator} as a subscriber to the 'mqttOutboundChannel' channel
2020-01-08 14:39:17 176 [INFO] DirectChannel: 64 : Channel 'application.mqttOutboundChannel' has 1 subscriber(s).
2020-01-08 14:39:17 176 [INFO] EventDrivenConsumer: 159 : started mqttSpringIntegration.mqttOutbound.serviceActivator
2020-01-08 14:39:17 176 [INFO] GatewayProxyFactoryBean$MethodInvocationGateway: 159 : started mqttPublisher
2020-01-08 14:39:17 176 [INFO] GatewayProxyFactoryBean: 159 : started mqttPublisher
2020-01-08 14:39:17 182 [INFO] Http11NioProtocol: 173 : Starting ProtocolHandler ["http-nio-9090"]
2020-01-08 14:39:17 199 [INFO] TomcatWebServer: 202 : Tomcat started on port(s): 9090 (http) with context path ''
2020-01-08 14:39:17 203 [INFO] SpringIntegrationApplication: 59 : Started SpringIntegrationApplication in 4.616 seconds (JVM running for 6.185)
2020-01-08 14:40:54 376 [INFO] MessageTransferUtil: 33 : received sys message, header:{mqtt_receivedRetained=false, id=6864d093-57aa-5274-4944-c48eb47ec3a2, mqtt_duplicate=false, mqtt_receivedTopic=kunbu/biz/98D863BE7116/inf/, mqtt_receivedQos=1, timestamp=1578465654372}, payload:{       "mt":"J00",
       "dt":"0F060B0B",
       "elem":[
           {"id":"operationMode","data":"432804"},
           {"id":"burningStateDHW","data":"30"},
           {"id":"burningStateCH","data":"31"},
           {"id":"temperatureUnit","data":"30"},
          {"id":"waterPressureUnit","data":"31"},
           {"id":"hotWaterTempSetting","data":"34"},
           {"id":"heatingTempSetting","data":"2D"},
           {"id":"waterPressure","data":"0000"},
           {"id":"errorCode","data":"0"},
          {"id":"hotWaterTempBound","data":"3C25"},
           {"id":"heatingTempBound","data":"5228"}
        ],
        "lt":"2019-12-20T09:35:30+08:00"
 }
2020-01-08 14:42:31 631 [main] INFO  [INFO] SpringIntegrationApplication: 37 : 
=========================================================
                                                         
          Welcome to Spring Integration!                 
                                                         
    For more information please visit:                   
    https://spring.io/projects/spring-integration        
                                                         
                                                         
    这是一个基于MQTT订阅的消息处理服务 -                     
    订阅关键的TOPIC，将收到的mqtt消息处理并最终写入数据        
=========================================================
2020-01-08 14:42:31 858 [restartedMain] INFO  [INFO] SpringIntegrationApplication: 37 : 
=========================================================
                                                         
          Welcome to Spring Integration!                 
                                                         
    For more information please visit:                   
    https://spring.io/projects/spring-integration        
                                                         
                                                         
    这是一个基于MQTT订阅的消息处理服务 -                     
    订阅关键的TOPIC，将收到的mqtt消息处理并最终写入数据        
=========================================================
2020-01-08 14:42:32 297 [restartedMain] INFO  [INFO] SpringIntegrationApplication: 50 : Starting SpringIntegrationApplication on DESKTOP-QA9ODS5 with PID 5800 (D:\kunbu\spring-integration\target\classes started by mojun in D:\kunbu\spring-integration)
2020-01-08 14:42:32 298 [restartedMain] INFO  [INFO] SpringIntegrationApplication: 648 : No active profile set, falling back to default profiles: default
2020-01-08 14:42:32 334 [restartedMain] INFO  [INFO] DevToolsPropertyDefaultsPostProcessor: 225 : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2020-01-08 14:42:32 334 [restartedMain] INFO  [INFO] DevToolsPropertyDefaultsPostProcessor: 225 : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2020-01-08 14:42:32 915 [restartedMain] INFO  [INFO] RepositoryConfigurationDelegate: 126 : Bootstrapping Spring Data repositories in DEFAULT mode.
2020-01-08 14:42:32 939 [restartedMain] INFO  [INFO] RepositoryConfigurationDelegate: 182 : Finished Spring Data repository scanning in 20ms. Found 0 repository interfaces.
2020-01-08 14:42:33 111 [restartedMain] INFO  [INFO] DefaultConfiguringBeanFactoryPostProcessor: 193 : No bean named 'errorChannel' has been explicitly defined. Therefore, a default PublishSubscribeChannel will be created.
2020-01-08 14:42:33 118 [restartedMain] INFO  [INFO] DefaultConfiguringBeanFactoryPostProcessor: 280 : No bean named 'taskScheduler' has been explicitly defined. Therefore, a default ThreadPoolTaskScheduler will be created.
2020-01-08 14:42:33 122 [restartedMain] INFO  [INFO] DefaultConfiguringBeanFactoryPostProcessor: 431 : No bean named 'integrationHeaderChannelRegistry' has been explicitly defined. Therefore, a default DefaultHeaderChannelRegistry will be created.
2020-01-08 14:42:33 186 [restartedMain] INFO  [INFO] PostProcessorRegistrationDelegate$BeanPostProcessorChecker: 330 : Bean 'org.springframework.integration.config.IntegrationManagementConfiguration' of type [org.springframework.integration.config.IntegrationManagementConfiguration$$EnhancerBySpringCGLIB$$520ae7a3] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-01-08 14:42:33 196 [restartedMain] INFO  [INFO] PostProcessorRegistrationDelegate$BeanPostProcessorChecker: 330 : Bean 'integrationDisposableAutoCreatedBeans' of type [org.springframework.integration.config.annotation.Disposables] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-01-08 14:42:33 482 [restartedMain] INFO  [INFO] TomcatWebServer: 90 : Tomcat initialized with port(s): 9090 (http)
2020-01-08 14:42:33 499 [restartedMain] INFO  [INFO] Http11NioProtocol: 173 : Initializing ProtocolHandler ["http-nio-9090"]
2020-01-08 14:42:33 510 [restartedMain] INFO  [INFO] StandardService: 173 : Starting service [Tomcat]
2020-01-08 14:42:33 511 [restartedMain] INFO  [INFO] StandardEngine: 173 : Starting Servlet engine: [Apache Tomcat/9.0.26]
2020-01-08 14:42:33 739 [restartedMain] INFO  [INFO] [/]: 173 : Initializing Spring embedded WebApplicationContext
2020-01-08 14:42:33 740 [restartedMain] INFO  [INFO] ContextLoader: 284 : Root WebApplicationContext: initialization completed in 1404 ms
2020-01-08 14:42:34 816 [restartedMain] INFO  [INFO] cluster: 71 : Cluster created with settings {hosts=[localhost:27017], mode=SINGLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}
2020-01-08 14:42:34 853 [cluster-ClusterId{value='5e1579daf4ac9c16a8cbd9c1', description='null'}-localhost:27017] INFO  [INFO] connection: 71 : Opened connection [connectionId{localValue:1, serverValue:35}] to localhost:27017
2020-01-08 14:42:34 857 [cluster-ClusterId{value='5e1579daf4ac9c16a8cbd9c1', description='null'}-localhost:27017] INFO  [INFO] cluster: 71 : Monitor thread successfully connected to server with description ServerDescription{address=localhost:27017, type=STANDALONE, state=CONNECTED, ok=true, version=ServerVersion{versionList=[3, 6, 12]}, minWireVersion=0, maxWireVersion=6, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=2150400}
2020-01-08 14:42:34 905 [restartedMain] WARN  [WARN] CustomConversions: 207 : Registering converter from class java.time.LocalDateTime to class java.time.Instant as reading converter although it doesn't convert from a store-supported type! You might wanna check you annotation setup at the converter implementation.
2020-01-08 14:42:34 905 [restartedMain] WARN  [WARN] CustomConversions: 207 : Registering converter from class java.time.Instant to class java.time.LocalDateTime as reading converter although it doesn't convert from a store-supported type! You might wanna check you annotation setup at the converter implementation.
2020-01-08 14:42:34 991 [restartedMain] INFO  [INFO] OptionalLiveReloadServer: 57 : LiveReload server is running on port 35729
2020-01-08 14:42:35 002 [restartedMain] WARN  [WARN] CustomConversions: 207 : Registering converter from class java.time.LocalDateTime to class java.time.Instant as reading converter although it doesn't convert from a store-supported type! You might wanna check you annotation setup at the converter implementation.
2020-01-08 14:42:35 002 [restartedMain] WARN  [WARN] CustomConversions: 207 : Registering converter from class java.time.Instant to class java.time.LocalDateTime as reading converter although it doesn't convert from a store-supported type! You might wanna check you annotation setup at the converter implementation.
2020-01-08 14:42:35 048 [restartedMain] INFO  [INFO] connection: 71 : Opened connection [connectionId{localValue:2, serverValue:36}] to localhost:27017
2020-01-08 14:42:35 155 [restartedMain] INFO  [INFO] MqttSpringIntegration: 63 : >>> mqtt options:{"bizClientId":"consumer-biz-subscriber","bizTopic":["kunbu/biz/+/bsc/","kunbu/biz/+/log/","kunbu/biz/+/inf/"],"cleanSession":false,"clientId":"consumer-publisher","host":"tcp://127.0.0.1:1883","password":"123456","sysClientId":"consumer-sys-subscriber","sysTopic":["$SYS/brokers/+/client/+/connected","$SYS/brokers/+/client/+/disconnected"],"userName":"mqtt-kunbu"}
2020-01-08 14:42:35 420 [restartedMain] INFO  [INFO] ThreadPoolTaskExecutor: 171 : Initializing ExecutorService 'applicationTaskExecutor'
2020-01-08 14:42:35 529 [restartedMain] INFO  [INFO] ThreadPoolTaskScheduler: 171 : Initializing ExecutorService 'taskScheduler'
2020-01-08 14:42:35 728 [restartedMain] INFO  [INFO] EventDrivenConsumer: 107 : Adding {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2020-01-08 14:42:35 729 [restartedMain] INFO  [INFO] PublishSubscribeChannel: 64 : Channel 'application.errorChannel' has 1 subscriber(s).
2020-01-08 14:42:35 729 [restartedMain] INFO  [INFO] EventDrivenConsumer: 159 : started _org.springframework.integration.errorLogger
2020-01-08 14:42:35 756 [restartedMain] INFO  [INFO] MqttPahoMessageDrivenChannelAdapter: 159 : started sysInbound
2020-01-08 14:42:35 757 [restartedMain] INFO  [INFO] EventDrivenConsumer: 107 : Adding {bridge} as a subscriber to the 'mqttInboundChannel' channel
2020-01-08 14:42:35 757 [restartedMain] INFO  [INFO] DirectChannel: 64 : Channel 'application.mqttInboundChannel' has 1 subscriber(s).
2020-01-08 14:42:35 757 [restartedMain] INFO  [INFO] EventDrivenConsumer: 159 : started sysMsgFlow.org.springframework.integration.config.ConsumerEndpointFactoryBean#0
2020-01-08 14:42:35 757 [restartedMain] INFO  [INFO] EventDrivenConsumer: 107 : Adding {service-activator} as a subscriber to the 'sysMsgFlow.channel#0' channel
2020-01-08 14:42:35 757 [restartedMain] INFO  [INFO] ExecutorChannel: 64 : Channel 'application.sysMsgFlow.channel#0' has 1 subscriber(s).
2020-01-08 14:42:35 757 [restartedMain] INFO  [INFO] EventDrivenConsumer: 159 : started sysMsgFlow.org.springframework.integration.config.ConsumerEndpointFactoryBean#1
2020-01-08 14:42:35 757 [restartedMain] INFO  [INFO] EventDrivenConsumer: 107 : Adding {service-activator} as a subscriber to the 'sysMsgFlow.channel#1' channel
2020-01-08 14:42:35 758 [restartedMain] INFO  [INFO] DirectChannel: 64 : Channel 'application.sysMsgFlow.channel#1' has 1 subscriber(s).
2020-01-08 14:42:35 758 [restartedMain] INFO  [INFO] EventDrivenConsumer: 159 : started sysMsgFlow.org.springframework.integration.config.ConsumerEndpointFactoryBean#2
2020-01-08 14:42:35 758 [restartedMain] INFO  [INFO] EventDrivenConsumer: 107 : Adding {filter} as a subscriber to the 'sysMsgFlow.channel#2' channel
2020-01-08 14:42:35 758 [restartedMain] INFO  [INFO] DirectChannel: 64 : Channel 'application.sysMsgFlow.channel#2' has 1 subscriber(s).
2020-01-08 14:42:35 758 [restartedMain] INFO  [INFO] EventDrivenConsumer: 159 : started sysMsgFlow.org.springframework.integration.config.ConsumerEndpointFactoryBean#3
2020-01-08 14:42:35 758 [restartedMain] INFO  [INFO] EventDrivenConsumer: 107 : Adding {mqtt:outbound-channel-adapter} as a subscriber to the 'sysMsgFlow.channel#3' channel
2020-01-08 14:42:35 758 [restartedMain] INFO  [INFO] DirectChannel: 64 : Channel 'application.sysMsgFlow.channel#3' has 1 subscriber(s).
2020-01-08 14:42:35 758 [restartedMain] INFO  [INFO] EventDrivenConsumer: 159 : started sysMsgFlow.org.springframework.integration.config.ConsumerEndpointFactoryBean#4
2020-01-08 14:42:35 762 [restartedMain] INFO  [INFO] MqttPahoMessageDrivenChannelAdapter: 159 : started bizInbound
2020-01-08 14:42:35 763 [restartedMain] INFO  [INFO] EventDrivenConsumer: 107 : Adding {bridge} as a subscriber to the 'mqttInboundChannel' channel
2020-01-08 14:42:35 763 [restartedMain] INFO  [INFO] DirectChannel: 64 : Channel 'application.mqttInboundChannel' has 2 subscriber(s).
2020-01-08 14:42:35 763 [restartedMain] INFO  [INFO] EventDrivenConsumer: 159 : started bizMsgFlow.org.springframework.integration.config.ConsumerEndpointFactoryBean#0
2020-01-08 14:42:35 763 [restartedMain] INFO  [INFO] EventDrivenConsumer: 107 : Adding {service-activator} as a subscriber to the 'bizMsgFlow.channel#0' channel
2020-01-08 14:42:35 763 [restartedMain] INFO  [INFO] ExecutorChannel: 64 : Channel 'application.bizMsgFlow.channel#0' has 1 subscriber(s).
2020-01-08 14:42:35 764 [restartedMain] INFO  [INFO] EventDrivenConsumer: 159 : started bizMsgFlow.org.springframework.integration.config.ConsumerEndpointFactoryBean#1
2020-01-08 14:42:35 764 [restartedMain] INFO  [INFO] EventDrivenConsumer: 107 : Adding {router} as a subscriber to the 'bizMsgFlow.channel#1' channel
2020-01-08 14:42:35 764 [restartedMain] INFO  [INFO] DirectChannel: 64 : Channel 'application.bizMsgFlow.channel#1' has 1 subscriber(s).
2020-01-08 14:42:35 764 [restartedMain] INFO  [INFO] EventDrivenConsumer: 159 : started bizMsgFlow.org.springframework.integration.config.ConsumerEndpointFactoryBean#2
2020-01-08 14:42:35 764 [restartedMain] INFO  [INFO] EventDrivenConsumer: 107 : Adding {service-activator} as a subscriber to the 'bizMsgFlow.subFlow#0.channel#0' channel
2020-01-08 14:42:35 765 [restartedMain] INFO  [INFO] DirectChannel: 64 : Channel 'application.bizMsgFlow.subFlow#0.channel#0' has 1 subscriber(s).
2020-01-08 14:42:35 765 [restartedMain] INFO  [INFO] EventDrivenConsumer: 159 : started bizMsgFlow.subFlow#0.org.springframework.integration.config.ConsumerEndpointFactoryBean#0
2020-01-08 14:42:35 765 [restartedMain] INFO  [INFO] EventDrivenConsumer: 107 : Adding {service-activator} as a subscriber to the 'bizMsgFlow.subFlow#1.channel#0' channel
2020-01-08 14:42:35 765 [restartedMain] INFO  [INFO] DirectChannel: 64 : Channel 'application.bizMsgFlow.subFlow#1.channel#0' has 1 subscriber(s).
2020-01-08 14:42:35 765 [restartedMain] INFO  [INFO] EventDrivenConsumer: 159 : started bizMsgFlow.subFlow#1.org.springframework.integration.config.ConsumerEndpointFactoryBean#0
2020-01-08 14:42:35 766 [restartedMain] INFO  [INFO] EventDrivenConsumer: 107 : Adding {service-activator} as a subscriber to the 'bizMsgFlow.subFlow#2.channel#0' channel
2020-01-08 14:42:35 766 [restartedMain] INFO  [INFO] DirectChannel: 64 : Channel 'application.bizMsgFlow.subFlow#2.channel#0' has 1 subscriber(s).
2020-01-08 14:42:35 766 [restartedMain] INFO  [INFO] EventDrivenConsumer: 159 : started bizMsgFlow.subFlow#2.org.springframework.integration.config.ConsumerEndpointFactoryBean#0
2020-01-08 14:42:35 766 [restartedMain] INFO  [INFO] EventDrivenConsumer: 107 : Adding {service-activator} as a subscriber to the 'bizMsgFlow.subFlow#3.channel#0' channel
2020-01-08 14:42:35 766 [restartedMain] INFO  [INFO] DirectChannel: 64 : Channel 'application.bizMsgFlow.subFlow#3.channel#0' has 1 subscriber(s).
2020-01-08 14:42:35 766 [restartedMain] INFO  [INFO] EventDrivenConsumer: 159 : started bizMsgFlow.subFlow#3.org.springframework.integration.config.ConsumerEndpointFactoryBean#0
2020-01-08 14:42:35 766 [restartedMain] INFO  [INFO] EventDrivenConsumer: 107 : Adding {bridge} as a subscriber to the 'bizMsgFlow.channel#2' channel
2020-01-08 14:42:35 766 [restartedMain] INFO  [INFO] DirectChannel: 64 : Channel 'application.bizMsgFlow.channel#2' has 1 subscriber(s).
2020-01-08 14:42:35 767 [restartedMain] INFO  [INFO] EventDrivenConsumer: 159 : started bizMsgFlow.org.springframework.integration.config.ConsumerEndpointFactoryBean#3
2020-01-08 14:42:35 767 [restartedMain] INFO  [INFO] EventDrivenConsumer: 107 : Adding {message-handler:mqttSpringIntegration.mqttOutbound.serviceActivator} as a subscriber to the 'mqttOutboundChannel' channel
2020-01-08 14:42:35 767 [restartedMain] INFO  [INFO] DirectChannel: 64 : Channel 'application.mqttOutboundChannel' has 1 subscriber(s).
2020-01-08 14:42:35 767 [restartedMain] INFO  [INFO] EventDrivenConsumer: 159 : started mqttSpringIntegration.mqttOutbound.serviceActivator
2020-01-08 14:42:35 767 [restartedMain] INFO  [INFO] GatewayProxyFactoryBean$MethodInvocationGateway: 159 : started mqttPublisher
2020-01-08 14:42:35 767 [restartedMain] INFO  [INFO] GatewayProxyFactoryBean: 159 : started mqttPublisher
2020-01-08 14:42:35 773 [restartedMain] INFO  [INFO] Http11NioProtocol: 173 : Starting ProtocolHandler ["http-nio-9090"]
2020-01-08 14:42:35 791 [restartedMain] INFO  [INFO] TomcatWebServer: 202 : Tomcat started on port(s): 9090 (http) with context path ''
2020-01-08 14:42:35 794 [restartedMain] INFO  [INFO] SpringIntegrationApplication: 59 : Started SpringIntegrationApplication in 3.924 seconds (JVM running for 5.699)
2020-01-08 14:43:11 779 [mqtt-sys-pool-0] INFO  [INFO] MessageTransferUtil: 33 : received sys message, header:{mqtt_receivedRetained=false, id=7802d850-597a-613a-77a0-415241dd9c3d, mqtt_duplicate=false, mqtt_receivedTopic=kunbu/biz/98D863BE7116/inf/, mqtt_receivedQos=1, timestamp=1578465791775}, payload:{       "mt":"J00",
       "dt":"0F060B0B",
       "elem":[
           {"id":"operationMode","data":"432804"},
           {"id":"burningStateDHW","data":"30"},
           {"id":"burningStateCH","data":"31"},
           {"id":"temperatureUnit","data":"30"},
          {"id":"waterPressureUnit","data":"31"},
           {"id":"hotWaterTempSetting","data":"34"},
           {"id":"heatingTempSetting","data":"2D"},
           {"id":"waterPressure","data":"0000"},
           {"id":"errorCode","data":"0"},
          {"id":"hotWaterTempBound","data":"3C25"},
           {"id":"heatingTempBound","data":"5228"}
        ],
        "lt":"2019-12-20T09:35:30+08:00"
 }
2020-01-08 14:53:34 677 [main] INFO  [INFO] SpringIntegrationApplication: 37 : 
=========================================================
                                                         
          Welcome to Spring Integration!                 
                                                         
    For more information please visit:                   
    https://spring.io/projects/spring-integration        
                                                         
                                                         
    这是一个基于MQTT订阅的消息处理服务 -                     
    订阅关键的TOPIC，将收到的mqtt消息处理并最终写入数据        
=========================================================
2020-01-08 14:53:34 805 [restartedMain] INFO  [INFO] SpringIntegrationApplication: 37 : 
=========================================================
                                                         
          Welcome to Spring Integration!                 
                                                         
    For more information please visit:                   
    https://spring.io/projects/spring-integration        
                                                         
                                                         
    这是一个基于MQTT订阅的消息处理服务 -                     
    订阅关键的TOPIC，将收到的mqtt消息处理并最终写入数据        
=========================================================
2020-01-08 14:53:35 188 [restartedMain] INFO  [INFO] SpringIntegrationApplication: 50 : Starting SpringIntegrationApplication on DESKTOP-QA9ODS5 with PID 25420 (D:\kunbu\spring-integration\target\classes started by mojun in D:\kunbu\spring-integration)
2020-01-08 14:53:35 188 [restartedMain] INFO  [INFO] SpringIntegrationApplication: 648 : No active profile set, falling back to default profiles: default
2020-01-08 14:53:35 220 [restartedMain] INFO  [INFO] DevToolsPropertyDefaultsPostProcessor: 225 : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2020-01-08 14:53:35 220 [restartedMain] INFO  [INFO] DevToolsPropertyDefaultsPostProcessor: 225 : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2020-01-08 14:53:35 763 [restartedMain] INFO  [INFO] RepositoryConfigurationDelegate: 126 : Bootstrapping Spring Data repositories in DEFAULT mode.
2020-01-08 14:53:35 787 [restartedMain] INFO  [INFO] RepositoryConfigurationDelegate: 182 : Finished Spring Data repository scanning in 20ms. Found 0 repository interfaces.
2020-01-08 14:53:35 973 [restartedMain] INFO  [INFO] DefaultConfiguringBeanFactoryPostProcessor: 193 : No bean named 'errorChannel' has been explicitly defined. Therefore, a default PublishSubscribeChannel will be created.
2020-01-08 14:53:35 979 [restartedMain] INFO  [INFO] DefaultConfiguringBeanFactoryPostProcessor: 280 : No bean named 'taskScheduler' has been explicitly defined. Therefore, a default ThreadPoolTaskScheduler will be created.
2020-01-08 14:53:35 983 [restartedMain] INFO  [INFO] DefaultConfiguringBeanFactoryPostProcessor: 431 : No bean named 'integrationHeaderChannelRegistry' has been explicitly defined. Therefore, a default DefaultHeaderChannelRegistry will be created.
2020-01-08 14:53:36 057 [restartedMain] INFO  [INFO] PostProcessorRegistrationDelegate$BeanPostProcessorChecker: 330 : Bean 'org.springframework.integration.config.IntegrationManagementConfiguration' of type [org.springframework.integration.config.IntegrationManagementConfiguration$$EnhancerBySpringCGLIB$$7f42aa39] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-01-08 14:53:36 071 [restartedMain] INFO  [INFO] PostProcessorRegistrationDelegate$BeanPostProcessorChecker: 330 : Bean 'integrationDisposableAutoCreatedBeans' of type [org.springframework.integration.config.annotation.Disposables] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-01-08 14:53:36 337 [restartedMain] INFO  [INFO] TomcatWebServer: 90 : Tomcat initialized with port(s): 9090 (http)
2020-01-08 14:53:36 348 [restartedMain] INFO  [INFO] Http11NioProtocol: 173 : Initializing ProtocolHandler ["http-nio-9090"]
2020-01-08 14:53:36 354 [restartedMain] INFO  [INFO] StandardService: 173 : Starting service [Tomcat]
2020-01-08 14:53:36 355 [restartedMain] INFO  [INFO] StandardEngine: 173 : Starting Servlet engine: [Apache Tomcat/9.0.26]
2020-01-08 14:55:40 715 [main] INFO  [INFO] SpringIntegrationApplication: 37 : 
=========================================================
                                                         
          Welcome to Spring Integration!                 
                                                         
    For more information please visit:                   
    https://spring.io/projects/spring-integration        
                                                         
                                                         
    这是一个基于MQTT订阅的消息处理服务 -                     
    订阅关键的TOPIC，将收到的mqtt消息处理并最终写入数据        
=========================================================
2020-01-08 14:55:40 852 [restartedMain] INFO  [INFO] SpringIntegrationApplication: 37 : 
=========================================================
                                                         
          Welcome to Spring Integration!                 
                                                         
    For more information please visit:                   
    https://spring.io/projects/spring-integration        
                                                         
                                                         
    这是一个基于MQTT订阅的消息处理服务 -                     
    订阅关键的TOPIC，将收到的mqtt消息处理并最终写入数据        
=========================================================
2020-01-08 14:55:41 242 [restartedMain] INFO  [INFO] SpringIntegrationApplication: 50 : Starting SpringIntegrationApplication on DESKTOP-QA9ODS5 with PID 12848 (D:\kunbu\spring-integration\target\classes started by mojun in D:\kunbu\spring-integration)
2020-01-08 14:55:41 242 [restartedMain] INFO  [INFO] SpringIntegrationApplication: 648 : No active profile set, falling back to default profiles: default
2020-01-08 14:55:41 278 [restartedMain] INFO  [INFO] DevToolsPropertyDefaultsPostProcessor: 225 : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2020-01-08 14:55:41 279 [restartedMain] INFO  [INFO] DevToolsPropertyDefaultsPostProcessor: 225 : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2020-01-08 14:55:41 849 [restartedMain] INFO  [INFO] RepositoryConfigurationDelegate: 126 : Bootstrapping Spring Data repositories in DEFAULT mode.
2020-01-08 14:55:41 874 [restartedMain] INFO  [INFO] RepositoryConfigurationDelegate: 182 : Finished Spring Data repository scanning in 21ms. Found 0 repository interfaces.
2020-01-08 14:55:42 040 [restartedMain] INFO  [INFO] DefaultConfiguringBeanFactoryPostProcessor: 193 : No bean named 'errorChannel' has been explicitly defined. Therefore, a default PublishSubscribeChannel will be created.
2020-01-08 14:55:42 046 [restartedMain] INFO  [INFO] DefaultConfiguringBeanFactoryPostProcessor: 280 : No bean named 'taskScheduler' has been explicitly defined. Therefore, a default ThreadPoolTaskScheduler will be created.
2020-01-08 14:55:42 050 [restartedMain] INFO  [INFO] DefaultConfiguringBeanFactoryPostProcessor: 431 : No bean named 'integrationHeaderChannelRegistry' has been explicitly defined. Therefore, a default DefaultHeaderChannelRegistry will be created.
2020-01-08 14:55:42 124 [restartedMain] INFO  [INFO] PostProcessorRegistrationDelegate$BeanPostProcessorChecker: 330 : Bean 'org.springframework.integration.config.IntegrationManagementConfiguration' of type [org.springframework.integration.config.IntegrationManagementConfiguration$$EnhancerBySpringCGLIB$$839d094e] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-01-08 14:55:42 133 [restartedMain] INFO  [INFO] PostProcessorRegistrationDelegate$BeanPostProcessorChecker: 330 : Bean 'integrationDisposableAutoCreatedBeans' of type [org.springframework.integration.config.annotation.Disposables] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-01-08 14:55:42 377 [restartedMain] INFO  [INFO] TomcatWebServer: 90 : Tomcat initialized with port(s): 9090 (http)
2020-01-08 14:55:42 386 [restartedMain] INFO  [INFO] Http11NioProtocol: 173 : Initializing ProtocolHandler ["http-nio-9090"]
2020-01-08 14:55:42 394 [restartedMain] INFO  [INFO] StandardService: 173 : Starting service [Tomcat]
2020-01-08 14:55:42 394 [restartedMain] INFO  [INFO] StandardEngine: 173 : Starting Servlet engine: [Apache Tomcat/9.0.26]
2020-01-08 14:55:42 500 [restartedMain] INFO  [INFO] [/]: 173 : Initializing Spring embedded WebApplicationContext
2020-01-08 14:55:42 500 [restartedMain] INFO  [INFO] ContextLoader: 284 : Root WebApplicationContext: initialization completed in 1221 ms
2020-01-08 14:55:43 523 [restartedMain] INFO  [INFO] cluster: 71 : Cluster created with settings {hosts=[localhost:27017], mode=SINGLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}
2020-01-08 14:55:43 559 [cluster-ClusterId{value='5e157ceff4ac9c3230ee1edf', description='null'}-localhost:27017] INFO  [INFO] connection: 71 : Opened connection [connectionId{localValue:1, serverValue:37}] to localhost:27017
2020-01-08 14:55:43 563 [cluster-ClusterId{value='5e157ceff4ac9c3230ee1edf', description='null'}-localhost:27017] INFO  [INFO] cluster: 71 : Monitor thread successfully connected to server with description ServerDescription{address=localhost:27017, type=STANDALONE, state=CONNECTED, ok=true, version=ServerVersion{versionList=[3, 6, 12]}, minWireVersion=0, maxWireVersion=6, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=2159100}
2020-01-08 14:55:43 609 [restartedMain] WARN  [WARN] CustomConversions: 207 : Registering converter from class java.time.LocalDateTime to class java.time.Instant as reading converter although it doesn't convert from a store-supported type! You might wanna check you annotation setup at the converter implementation.
2020-01-08 14:55:43 610 [restartedMain] WARN  [WARN] CustomConversions: 207 : Registering converter from class java.time.Instant to class java.time.LocalDateTime as reading converter although it doesn't convert from a store-supported type! You might wanna check you annotation setup at the converter implementation.
2020-01-08 14:55:43 693 [restartedMain] INFO  [INFO] OptionalLiveReloadServer: 57 : LiveReload server is running on port 35729
2020-01-08 14:55:43 705 [restartedMain] WARN  [WARN] CustomConversions: 207 : Registering converter from class java.time.LocalDateTime to class java.time.Instant as reading converter although it doesn't convert from a store-supported type! You might wanna check you annotation setup at the converter implementation.
2020-01-08 14:55:43 706 [restartedMain] WARN  [WARN] CustomConversions: 207 : Registering converter from class java.time.Instant to class java.time.LocalDateTime as reading converter although it doesn't convert from a store-supported type! You might wanna check you annotation setup at the converter implementation.
2020-01-08 14:55:43 755 [restartedMain] INFO  [INFO] connection: 71 : Opened connection [connectionId{localValue:2, serverValue:38}] to localhost:27017
2020-01-08 14:55:43 872 [restartedMain] INFO  [INFO] MqttSpringIntegration: 64 : >>> mqtt options:{"bizClientId":"consumer-biz-subscriber","bizTopic":["kunbu/biz/+/bsc/","kunbu/biz/+/log/","kunbu/biz/+/inf/"],"cleanSession":false,"clientId":"consumer-publisher","host":"tcp://127.0.0.1:1883","password":"123456","sysClientId":"consumer-sys-subscriber","sysTopic":["$SYS/brokers/+/client/+/connected","$SYS/brokers/+/client/+/disconnected"],"userName":"mqtt-kunbu"}
2020-01-08 14:55:43 940 [restartedMain] INFO  [INFO] MqttSpringIntegration: 123 : >>> sys topics:[$SYS/brokers/+/client/+/connected, $SYS/brokers/+/client/+/disconnected]
2020-01-08 14:55:44 241 [restartedMain] INFO  [INFO] ThreadPoolTaskExecutor: 171 : Initializing ExecutorService 'applicationTaskExecutor'
2020-01-08 14:55:44 353 [restartedMain] INFO  [INFO] ThreadPoolTaskScheduler: 171 : Initializing ExecutorService 'taskScheduler'
2020-01-08 14:55:44 547 [restartedMain] INFO  [INFO] EventDrivenConsumer: 107 : Adding {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2020-01-08 14:55:44 548 [restartedMain] INFO  [INFO] PublishSubscribeChannel: 64 : Channel 'application.errorChannel' has 1 subscriber(s).
2020-01-08 14:55:44 548 [restartedMain] INFO  [INFO] EventDrivenConsumer: 159 : started _org.springframework.integration.errorLogger
2020-01-08 14:55:44 574 [restartedMain] INFO  [INFO] MqttPahoMessageDrivenChannelAdapter: 159 : started sysInbound
2020-01-08 14:55:44 575 [restartedMain] INFO  [INFO] EventDrivenConsumer: 107 : Adding {bridge} as a subscriber to the 'mqttInboundChannel' channel
2020-01-08 14:55:44 575 [restartedMain] INFO  [INFO] DirectChannel: 64 : Channel 'application.mqttInboundChannel' has 1 subscriber(s).
2020-01-08 14:55:44 575 [restartedMain] INFO  [INFO] EventDrivenConsumer: 159 : started sysMsgFlow.org.springframework.integration.config.ConsumerEndpointFactoryBean#0
2020-01-08 14:55:44 575 [restartedMain] INFO  [INFO] EventDrivenConsumer: 107 : Adding {service-activator} as a subscriber to the 'sysMsgFlow.channel#0' channel
2020-01-08 14:55:44 575 [restartedMain] INFO  [INFO] ExecutorChannel: 64 : Channel 'application.sysMsgFlow.channel#0' has 1 subscriber(s).
2020-01-08 14:55:44 575 [restartedMain] INFO  [INFO] EventDrivenConsumer: 159 : started sysMsgFlow.org.springframework.integration.config.ConsumerEndpointFactoryBean#1
2020-01-08 14:55:44 576 [restartedMain] INFO  [INFO] EventDrivenConsumer: 107 : Adding {service-activator} as a subscriber to the 'sysMsgFlow.channel#1' channel
2020-01-08 14:55:44 576 [restartedMain] INFO  [INFO] DirectChannel: 64 : Channel 'application.sysMsgFlow.channel#1' has 1 subscriber(s).
2020-01-08 14:55:44 576 [restartedMain] INFO  [INFO] EventDrivenConsumer: 159 : started sysMsgFlow.org.springframework.integration.config.ConsumerEndpointFactoryBean#2
2020-01-08 14:55:44 576 [restartedMain] INFO  [INFO] EventDrivenConsumer: 107 : Adding {filter} as a subscriber to the 'sysMsgFlow.channel#2' channel
2020-01-08 14:55:44 576 [restartedMain] INFO  [INFO] DirectChannel: 64 : Channel 'application.sysMsgFlow.channel#2' has 1 subscriber(s).
2020-01-08 14:55:44 576 [restartedMain] INFO  [INFO] EventDrivenConsumer: 159 : started sysMsgFlow.org.springframework.integration.config.ConsumerEndpointFactoryBean#3
2020-01-08 14:55:44 576 [restartedMain] INFO  [INFO] EventDrivenConsumer: 107 : Adding {mqtt:outbound-channel-adapter} as a subscriber to the 'sysMsgFlow.channel#3' channel
2020-01-08 14:55:44 576 [restartedMain] INFO  [INFO] DirectChannel: 64 : Channel 'application.sysMsgFlow.channel#3' has 1 subscriber(s).
2020-01-08 14:55:44 577 [restartedMain] INFO  [INFO] EventDrivenConsumer: 159 : started sysMsgFlow.org.springframework.integration.config.ConsumerEndpointFactoryBean#4
2020-01-08 14:55:44 580 [restartedMain] INFO  [INFO] MqttPahoMessageDrivenChannelAdapter: 159 : started bizInbound
2020-01-08 14:55:44 581 [restartedMain] INFO  [INFO] EventDrivenConsumer: 107 : Adding {bridge} as a subscriber to the 'mqttInboundChannel' channel
2020-01-08 14:55:44 581 [restartedMain] INFO  [INFO] DirectChannel: 64 : Channel 'application.mqttInboundChannel' has 2 subscriber(s).
2020-01-08 14:55:44 581 [restartedMain] INFO  [INFO] EventDrivenConsumer: 159 : started bizMsgFlow.org.springframework.integration.config.ConsumerEndpointFactoryBean#0
2020-01-08 14:55:44 581 [restartedMain] INFO  [INFO] EventDrivenConsumer: 107 : Adding {service-activator} as a subscriber to the 'bizMsgFlow.channel#0' channel
2020-01-08 14:55:44 581 [restartedMain] INFO  [INFO] ExecutorChannel: 64 : Channel 'application.bizMsgFlow.channel#0' has 1 subscriber(s).
2020-01-08 14:55:44 581 [restartedMain] INFO  [INFO] EventDrivenConsumer: 159 : started bizMsgFlow.org.springframework.integration.config.ConsumerEndpointFactoryBean#1
2020-01-08 14:55:44 581 [restartedMain] INFO  [INFO] EventDrivenConsumer: 107 : Adding {router} as a subscriber to the 'bizMsgFlow.channel#1' channel
2020-01-08 14:55:44 582 [restartedMain] INFO  [INFO] DirectChannel: 64 : Channel 'application.bizMsgFlow.channel#1' has 1 subscriber(s).
2020-01-08 14:55:44 582 [restartedMain] INFO  [INFO] EventDrivenConsumer: 159 : started bizMsgFlow.org.springframework.integration.config.ConsumerEndpointFactoryBean#2
2020-01-08 14:55:44 582 [restartedMain] INFO  [INFO] EventDrivenConsumer: 107 : Adding {service-activator} as a subscriber to the 'bizMsgFlow.subFlow#0.channel#0' channel
2020-01-08 14:55:44 582 [restartedMain] INFO  [INFO] DirectChannel: 64 : Channel 'application.bizMsgFlow.subFlow#0.channel#0' has 1 subscriber(s).
2020-01-08 14:55:44 582 [restartedMain] INFO  [INFO] EventDrivenConsumer: 159 : started bizMsgFlow.subFlow#0.org.springframework.integration.config.ConsumerEndpointFactoryBean#0
2020-01-08 14:55:44 582 [restartedMain] INFO  [INFO] EventDrivenConsumer: 107 : Adding {service-activator} as a subscriber to the 'bizMsgFlow.subFlow#1.channel#0' channel
2020-01-08 14:55:44 583 [restartedMain] INFO  [INFO] DirectChannel: 64 : Channel 'application.bizMsgFlow.subFlow#1.channel#0' has 1 subscriber(s).
2020-01-08 14:55:44 583 [restartedMain] INFO  [INFO] EventDrivenConsumer: 159 : started bizMsgFlow.subFlow#1.org.springframework.integration.config.ConsumerEndpointFactoryBean#0
2020-01-08 14:55:44 583 [restartedMain] INFO  [INFO] EventDrivenConsumer: 107 : Adding {service-activator} as a subscriber to the 'bizMsgFlow.subFlow#2.channel#0' channel
2020-01-08 14:55:44 583 [restartedMain] INFO  [INFO] DirectChannel: 64 : Channel 'application.bizMsgFlow.subFlow#2.channel#0' has 1 subscriber(s).
2020-01-08 14:55:44 583 [restartedMain] INFO  [INFO] EventDrivenConsumer: 159 : started bizMsgFlow.subFlow#2.org.springframework.integration.config.ConsumerEndpointFactoryBean#0
2020-01-08 14:55:44 583 [restartedMain] INFO  [INFO] EventDrivenConsumer: 107 : Adding {service-activator} as a subscriber to the 'bizMsgFlow.subFlow#3.channel#0' channel
2020-01-08 14:55:44 583 [restartedMain] INFO  [INFO] DirectChannel: 64 : Channel 'application.bizMsgFlow.subFlow#3.channel#0' has 1 subscriber(s).
2020-01-08 14:55:44 583 [restartedMain] INFO  [INFO] EventDrivenConsumer: 159 : started bizMsgFlow.subFlow#3.org.springframework.integration.config.ConsumerEndpointFactoryBean#0
2020-01-08 14:55:44 583 [restartedMain] INFO  [INFO] EventDrivenConsumer: 107 : Adding {bridge} as a subscriber to the 'bizMsgFlow.channel#2' channel
2020-01-08 14:55:44 584 [restartedMain] INFO  [INFO] DirectChannel: 64 : Channel 'application.bizMsgFlow.channel#2' has 1 subscriber(s).
2020-01-08 14:55:44 584 [restartedMain] INFO  [INFO] EventDrivenConsumer: 159 : started bizMsgFlow.org.springframework.integration.config.ConsumerEndpointFactoryBean#3
2020-01-08 14:55:44 584 [restartedMain] INFO  [INFO] EventDrivenConsumer: 107 : Adding {message-handler:mqttSpringIntegration.mqttOutbound.serviceActivator} as a subscriber to the 'mqttOutboundChannel' channel
2020-01-08 14:55:44 584 [restartedMain] INFO  [INFO] DirectChannel: 64 : Channel 'application.mqttOutboundChannel' has 1 subscriber(s).
2020-01-08 14:55:44 584 [restartedMain] INFO  [INFO] EventDrivenConsumer: 159 : started mqttSpringIntegration.mqttOutbound.serviceActivator
2020-01-08 14:55:44 584 [restartedMain] INFO  [INFO] GatewayProxyFactoryBean$MethodInvocationGateway: 159 : started mqttPublisher
2020-01-08 14:55:44 584 [restartedMain] INFO  [INFO] GatewayProxyFactoryBean: 159 : started mqttPublisher
2020-01-08 14:55:44 591 [restartedMain] INFO  [INFO] Http11NioProtocol: 173 : Starting ProtocolHandler ["http-nio-9090"]
2020-01-08 14:55:44 608 [restartedMain] INFO  [INFO] TomcatWebServer: 202 : Tomcat started on port(s): 9090 (http) with context path ''
2020-01-08 14:55:44 611 [restartedMain] INFO  [INFO] SpringIntegrationApplication: 59 : Started SpringIntegrationApplication in 3.753 seconds (JVM running for 5.349)
2020-01-08 14:56:06 517 [mqtt-sys-pool-0] INFO  [INFO] MessageTransferUtil: 33 : received sys message, header:{mqtt_receivedRetained=false, id=21cd1891-9242-b086-a837-8ad5e5f06344, mqtt_duplicate=false, mqtt_receivedTopic=kunbu/biz/98D863BE7116/inf/, mqtt_receivedQos=1, timestamp=1578466566513}, payload:{       "mt":"J00",
       "dt":"0F060B0B",
       "elem":[
           {"id":"operationMode","data":"432804"},
           {"id":"burningStateDHW","data":"30"},
           {"id":"burningStateCH","data":"31"},
           {"id":"temperatureUnit","data":"30"},
          {"id":"waterPressureUnit","data":"31"},
           {"id":"hotWaterTempSetting","data":"34"},
           {"id":"heatingTempSetting","data":"2D"},
           {"id":"waterPressure","data":"0000"},
           {"id":"errorCode","data":"0"},
          {"id":"hotWaterTempBound","data":"3C25"},
           {"id":"heatingTempBound","data":"5228"}
        ],
        "lt":"2019-12-20T09:35:30+08:00"
 }
2020-01-08 14:57:17 833 [main] INFO  [INFO] SpringIntegrationApplication: 37 : 
=========================================================
                                                         
          Welcome to Spring Integration!                 
                                                         
    For more information please visit:                   
    https://spring.io/projects/spring-integration        
                                                         
                                                         
    这是一个基于MQTT订阅的消息处理服务 -                     
    订阅关键的TOPIC，将收到的mqtt消息处理并最终写入数据        
=========================================================
2020-01-08 14:57:18 010 [restartedMain] INFO  [INFO] SpringIntegrationApplication: 37 : 
=========================================================
                                                         
          Welcome to Spring Integration!                 
                                                         
    For more information please visit:                   
    https://spring.io/projects/spring-integration        
                                                         
                                                         
    这是一个基于MQTT订阅的消息处理服务 -                     
    订阅关键的TOPIC，将收到的mqtt消息处理并最终写入数据        
=========================================================
2020-01-08 14:57:18 437 [restartedMain] INFO  [INFO] SpringIntegrationApplication: 50 : Starting SpringIntegrationApplication on DESKTOP-QA9ODS5 with PID 18248 (D:\kunbu\spring-integration\target\classes started by mojun in D:\kunbu\spring-integration)
2020-01-08 14:57:18 438 [restartedMain] INFO  [INFO] SpringIntegrationApplication: 648 : No active profile set, falling back to default profiles: default
2020-01-08 14:57:18 484 [restartedMain] INFO  [INFO] DevToolsPropertyDefaultsPostProcessor: 225 : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2020-01-08 14:57:18 485 [restartedMain] INFO  [INFO] DevToolsPropertyDefaultsPostProcessor: 225 : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2020-01-08 14:57:19 216 [restartedMain] INFO  [INFO] RepositoryConfigurationDelegate: 126 : Bootstrapping Spring Data repositories in DEFAULT mode.
2020-01-08 14:57:19 240 [restartedMain] INFO  [INFO] RepositoryConfigurationDelegate: 182 : Finished Spring Data repository scanning in 21ms. Found 0 repository interfaces.
2020-01-08 14:57:19 445 [restartedMain] INFO  [INFO] DefaultConfiguringBeanFactoryPostProcessor: 193 : No bean named 'errorChannel' has been explicitly defined. Therefore, a default PublishSubscribeChannel will be created.
2020-01-08 14:57:19 451 [restartedMain] INFO  [INFO] DefaultConfiguringBeanFactoryPostProcessor: 280 : No bean named 'taskScheduler' has been explicitly defined. Therefore, a default ThreadPoolTaskScheduler will be created.
2020-01-08 14:57:19 456 [restartedMain] INFO  [INFO] DefaultConfiguringBeanFactoryPostProcessor: 431 : No bean named 'integrationHeaderChannelRegistry' has been explicitly defined. Therefore, a default DefaultHeaderChannelRegistry will be created.
2020-01-08 14:57:19 534 [restartedMain] INFO  [INFO] PostProcessorRegistrationDelegate$BeanPostProcessorChecker: 330 : Bean 'org.springframework.integration.config.IntegrationManagementConfiguration' of type [org.springframework.integration.config.IntegrationManagementConfiguration$$EnhancerBySpringCGLIB$$9e9cbc0c] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-01-08 14:57:19 545 [restartedMain] INFO  [INFO] PostProcessorRegistrationDelegate$BeanPostProcessorChecker: 330 : Bean 'integrationDisposableAutoCreatedBeans' of type [org.springframework.integration.config.annotation.Disposables] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-01-08 14:57:19 846 [restartedMain] INFO  [INFO] TomcatWebServer: 90 : Tomcat initialized with port(s): 9090 (http)
2020-01-08 14:57:19 863 [restartedMain] INFO  [INFO] Http11NioProtocol: 173 : Initializing ProtocolHandler ["http-nio-9090"]
2020-01-08 14:57:19 873 [restartedMain] INFO  [INFO] StandardService: 173 : Starting service [Tomcat]
2020-01-08 14:57:19 873 [restartedMain] INFO  [INFO] StandardEngine: 173 : Starting Servlet engine: [Apache Tomcat/9.0.26]
2020-01-08 14:57:20 056 [restartedMain] INFO  [INFO] [/]: 173 : Initializing Spring embedded WebApplicationContext
2020-01-08 14:57:20 056 [restartedMain] INFO  [INFO] ContextLoader: 284 : Root WebApplicationContext: initialization completed in 1571 ms
2020-01-08 14:57:21 004 [restartedMain] INFO  [INFO] cluster: 71 : Cluster created with settings {hosts=[localhost:27017], mode=SINGLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}
2020-01-08 14:57:21 052 [cluster-ClusterId{value='5e157d51f4ac9c4748235f46', description='null'}-localhost:27017] INFO  [INFO] connection: 71 : Opened connection [connectionId{localValue:1, serverValue:39}] to localhost:27017
2020-01-08 14:57:21 055 [cluster-ClusterId{value='5e157d51f4ac9c4748235f46', description='null'}-localhost:27017] INFO  [INFO] cluster: 71 : Monitor thread successfully connected to server with description ServerDescription{address=localhost:27017, type=STANDALONE, state=CONNECTED, ok=true, version=ServerVersion{versionList=[3, 6, 12]}, minWireVersion=0, maxWireVersion=6, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=2358800}
2020-01-08 14:57:21 107 [restartedMain] WARN  [WARN] CustomConversions: 207 : Registering converter from class java.time.LocalDateTime to class java.time.Instant as reading converter although it doesn't convert from a store-supported type! You might wanna check you annotation setup at the converter implementation.
2020-01-08 14:57:21 108 [restartedMain] WARN  [WARN] CustomConversions: 207 : Registering converter from class java.time.Instant to class java.time.LocalDateTime as reading converter although it doesn't convert from a store-supported type! You might wanna check you annotation setup at the converter implementation.
2020-01-08 14:57:21 212 [restartedMain] INFO  [INFO] OptionalLiveReloadServer: 57 : LiveReload server is running on port 35729
2020-01-08 14:57:21 227 [restartedMain] WARN  [WARN] CustomConversions: 207 : Registering converter from class java.time.LocalDateTime to class java.time.Instant as reading converter although it doesn't convert from a store-supported type! You might wanna check you annotation setup at the converter implementation.
2020-01-08 14:57:21 227 [restartedMain] WARN  [WARN] CustomConversions: 207 : Registering converter from class java.time.Instant to class java.time.LocalDateTime as reading converter although it doesn't convert from a store-supported type! You might wanna check you annotation setup at the converter implementation.
2020-01-08 14:57:21 280 [restartedMain] INFO  [INFO] connection: 71 : Opened connection [connectionId{localValue:2, serverValue:40}] to localhost:27017
2020-01-08 14:57:21 397 [restartedMain] INFO  [INFO] MqttSpringIntegration: 64 : >>> mqtt options:{"bizClientId":"consumer-biz-subscriber","bizTopic":["kunbu/biz/+/bsc/","kunbu/biz/+/log/","kunbu/biz/+/inf/"],"cleanSession":false,"clientId":"consumer-publisher","host":"tcp://127.0.0.1:1883","password":"123456","sysClientId":"consumer-sys-subscriber","sysTopic":["$SYS/brokers/+/client/+/connected","$SYS/brokers/+/client/+/disconnected"],"userName":"mqtt-kunbu"}
2020-01-08 14:57:21 466 [restartedMain] INFO  [INFO] MqttSpringIntegration: 123 : >>> sys topics:[$SYS/brokers/+/client/+/connected, $SYS/brokers/+/client/+/disconnected]
2020-01-08 15:06:50 982 [main] INFO  [INFO] SpringIntegrationApplication: 37 : 
=========================================================
                                                         
          Welcome to Spring Integration!                 
                                                         
    For more information please visit:                   
    https://spring.io/projects/spring-integration        
                                                         
                                                         
    这是一个基于MQTT订阅的消息处理服务 -                     
    订阅关键的TOPIC，将收到的mqtt消息处理并最终写入数据        
=========================================================
2020-01-08 15:06:51 135 [restartedMain] INFO  [INFO] SpringIntegrationApplication: 37 : 
=========================================================
                                                         
          Welcome to Spring Integration!                 
                                                         
    For more information please visit:                   
    https://spring.io/projects/spring-integration        
                                                         
                                                         
    这是一个基于MQTT订阅的消息处理服务 -                     
    订阅关键的TOPIC，将收到的mqtt消息处理并最终写入数据        
=========================================================
2020-01-08 15:06:51 518 [restartedMain] INFO  [INFO] SpringIntegrationApplication: 50 : Starting SpringIntegrationApplication on DESKTOP-QA9ODS5 with PID 6412 (D:\kunbu\spring-integration\target\classes started by mojun in D:\kunbu\spring-integration)
2020-01-08 15:06:51 519 [restartedMain] INFO  [INFO] SpringIntegrationApplication: 648 : No active profile set, falling back to default profiles: default
2020-01-08 15:06:51 557 [restartedMain] INFO  [INFO] DevToolsPropertyDefaultsPostProcessor: 225 : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2020-01-08 15:06:51 558 [restartedMain] INFO  [INFO] DevToolsPropertyDefaultsPostProcessor: 225 : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2020-01-08 15:06:52 150 [restartedMain] INFO  [INFO] RepositoryConfigurationDelegate: 126 : Bootstrapping Spring Data repositories in DEFAULT mode.
2020-01-08 15:06:52 173 [restartedMain] INFO  [INFO] RepositoryConfigurationDelegate: 182 : Finished Spring Data repository scanning in 19ms. Found 0 repository interfaces.
2020-01-08 15:06:52 339 [restartedMain] INFO  [INFO] DefaultConfiguringBeanFactoryPostProcessor: 193 : No bean named 'errorChannel' has been explicitly defined. Therefore, a default PublishSubscribeChannel will be created.
2020-01-08 15:06:52 345 [restartedMain] INFO  [INFO] DefaultConfiguringBeanFactoryPostProcessor: 280 : No bean named 'taskScheduler' has been explicitly defined. Therefore, a default ThreadPoolTaskScheduler will be created.
2020-01-08 15:06:52 348 [restartedMain] INFO  [INFO] DefaultConfiguringBeanFactoryPostProcessor: 431 : No bean named 'integrationHeaderChannelRegistry' has been explicitly defined. Therefore, a default DefaultHeaderChannelRegistry will be created.
2020-01-08 15:06:52 417 [restartedMain] INFO  [INFO] PostProcessorRegistrationDelegate$BeanPostProcessorChecker: 330 : Bean 'org.springframework.integration.config.IntegrationManagementConfiguration' of type [org.springframework.integration.config.IntegrationManagementConfiguration$$EnhancerBySpringCGLIB$$7b7e3169] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-01-08 15:06:52 427 [restartedMain] INFO  [INFO] PostProcessorRegistrationDelegate$BeanPostProcessorChecker: 330 : Bean 'integrationDisposableAutoCreatedBeans' of type [org.springframework.integration.config.annotation.Disposables] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-01-08 15:06:52 673 [restartedMain] INFO  [INFO] TomcatWebServer: 90 : Tomcat initialized with port(s): 9090 (http)
2020-01-08 15:06:52 684 [restartedMain] INFO  [INFO] Http11NioProtocol: 173 : Initializing ProtocolHandler ["http-nio-9090"]
2020-01-08 15:06:52 690 [restartedMain] INFO  [INFO] StandardService: 173 : Starting service [Tomcat]
2020-01-08 15:06:52 691 [restartedMain] INFO  [INFO] StandardEngine: 173 : Starting Servlet engine: [Apache Tomcat/9.0.26]
2020-01-08 15:06:52 803 [restartedMain] INFO  [INFO] [/]: 173 : Initializing Spring embedded WebApplicationContext
2020-01-08 15:06:52 804 [restartedMain] INFO  [INFO] ContextLoader: 284 : Root WebApplicationContext: initialization completed in 1246 ms
2020-01-08 15:06:53 792 [restartedMain] INFO  [INFO] cluster: 71 : Cluster created with settings {hosts=[localhost:27017], mode=SINGLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}
2020-01-08 15:06:53 829 [cluster-ClusterId{value='5e157f8df4ac9c190cc61095', description='null'}-localhost:27017] INFO  [INFO] connection: 71 : Opened connection [connectionId{localValue:1, serverValue:41}] to localhost:27017
2020-01-08 15:06:53 832 [cluster-ClusterId{value='5e157f8df4ac9c190cc61095', description='null'}-localhost:27017] INFO  [INFO] cluster: 71 : Monitor thread successfully connected to server with description ServerDescription{address=localhost:27017, type=STANDALONE, state=CONNECTED, ok=true, version=ServerVersion{versionList=[3, 6, 12]}, minWireVersion=0, maxWireVersion=6, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=2086100}
2020-01-08 15:06:53 880 [restartedMain] WARN  [WARN] CustomConversions: 207 : Registering converter from class java.time.LocalDateTime to class java.time.Instant as reading converter although it doesn't convert from a store-supported type! You might wanna check you annotation setup at the converter implementation.
2020-01-08 15:06:53 881 [restartedMain] WARN  [WARN] CustomConversions: 207 : Registering converter from class java.time.Instant to class java.time.LocalDateTime as reading converter although it doesn't convert from a store-supported type! You might wanna check you annotation setup at the converter implementation.
2020-01-08 15:06:53 964 [restartedMain] INFO  [INFO] OptionalLiveReloadServer: 57 : LiveReload server is running on port 35729
2020-01-08 15:06:53 975 [restartedMain] WARN  [WARN] CustomConversions: 207 : Registering converter from class java.time.LocalDateTime to class java.time.Instant as reading converter although it doesn't convert from a store-supported type! You might wanna check you annotation setup at the converter implementation.
2020-01-08 15:06:53 975 [restartedMain] WARN  [WARN] CustomConversions: 207 : Registering converter from class java.time.Instant to class java.time.LocalDateTime as reading converter although it doesn't convert from a store-supported type! You might wanna check you annotation setup at the converter implementation.
2020-01-08 15:06:54 023 [restartedMain] INFO  [INFO] connection: 71 : Opened connection [connectionId{localValue:2, serverValue:42}] to localhost:27017
2020-01-08 15:06:54 135 [restartedMain] INFO  [INFO] MqttSpringIntegration: 64 : >>> mqtt options:{"bizClientId":"consumer-biz-subscriber","bizTopic":["kunbu/biz/+/bsc/","kunbu/biz/+/log/","kunbu/biz/+/inf/"],"cleanSession":false,"clientId":"consumer-publisher","host":"tcp://127.0.0.1:1883","password":"123456","sysClientId":"consumer-sys-subscriber","sysTopic":["$SYS/brokers/+/client/+/connected","$SYS/brokers/+/client/+/disconnected"],"userName":"mqtt-kunbu"}
2020-01-08 15:06:54 200 [restartedMain] INFO  [INFO] MqttSpringIntegration: 118 : >>> sys topics:[$SYS/brokers/+/client/+/connected, $SYS/brokers/+/client/+/disconnected]
2020-01-08 15:06:54 454 [restartedMain] INFO  [INFO] ThreadPoolTaskExecutor: 171 : Initializing ExecutorService 'applicationTaskExecutor'
2020-01-08 15:06:54 572 [restartedMain] INFO  [INFO] ThreadPoolTaskScheduler: 171 : Initializing ExecutorService 'taskScheduler'
2020-01-08 15:06:54 771 [restartedMain] INFO  [INFO] EventDrivenConsumer: 107 : Adding {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2020-01-08 15:06:54 772 [restartedMain] INFO  [INFO] PublishSubscribeChannel: 64 : Channel 'application.errorChannel' has 1 subscriber(s).
2020-01-08 15:06:54 772 [restartedMain] INFO  [INFO] EventDrivenConsumer: 159 : started _org.springframework.integration.errorLogger
2020-01-08 15:06:54 798 [restartedMain] INFO  [INFO] MqttPahoMessageDrivenChannelAdapter: 159 : started sysInbound
2020-01-08 15:06:54 799 [restartedMain] INFO  [INFO] EventDrivenConsumer: 107 : Adding {bridge} as a subscriber to the 'sysMsgFlow.channel#0' channel
2020-01-08 15:06:54 799 [restartedMain] INFO  [INFO] DirectChannel: 64 : Channel 'application.sysMsgFlow.channel#0' has 1 subscriber(s).
2020-01-08 15:06:54 799 [restartedMain] INFO  [INFO] EventDrivenConsumer: 159 : started sysMsgFlow.org.springframework.integration.config.ConsumerEndpointFactoryBean#0
2020-01-08 15:06:54 799 [restartedMain] INFO  [INFO] EventDrivenConsumer: 107 : Adding {service-activator} as a subscriber to the 'sysMsgFlow.channel#1' channel
2020-01-08 15:06:54 799 [restartedMain] INFO  [INFO] ExecutorChannel: 64 : Channel 'application.sysMsgFlow.channel#1' has 1 subscriber(s).
2020-01-08 15:06:54 799 [restartedMain] INFO  [INFO] EventDrivenConsumer: 159 : started sysMsgFlow.org.springframework.integration.config.ConsumerEndpointFactoryBean#1
2020-01-08 15:06:54 800 [restartedMain] INFO  [INFO] EventDrivenConsumer: 107 : Adding {service-activator} as a subscriber to the 'sysMsgFlow.channel#2' channel
2020-01-08 15:06:54 800 [restartedMain] INFO  [INFO] DirectChannel: 64 : Channel 'application.sysMsgFlow.channel#2' has 1 subscriber(s).
2020-01-08 15:06:54 800 [restartedMain] INFO  [INFO] EventDrivenConsumer: 159 : started sysMsgFlow.org.springframework.integration.config.ConsumerEndpointFactoryBean#2
2020-01-08 15:06:54 800 [restartedMain] INFO  [INFO] EventDrivenConsumer: 107 : Adding {filter} as a subscriber to the 'sysMsgFlow.channel#3' channel
2020-01-08 15:06:54 800 [restartedMain] INFO  [INFO] DirectChannel: 64 : Channel 'application.sysMsgFlow.channel#3' has 1 subscriber(s).
2020-01-08 15:06:54 800 [restartedMain] INFO  [INFO] EventDrivenConsumer: 159 : started sysMsgFlow.org.springframework.integration.config.ConsumerEndpointFactoryBean#3
2020-01-08 15:06:54 800 [restartedMain] INFO  [INFO] EventDrivenConsumer: 107 : Adding {mqtt:outbound-channel-adapter} as a subscriber to the 'sysMsgFlow.channel#4' channel
2020-01-08 15:06:54 800 [restartedMain] INFO  [INFO] DirectChannel: 64 : Channel 'application.sysMsgFlow.channel#4' has 1 subscriber(s).
2020-01-08 15:06:54 801 [restartedMain] INFO  [INFO] EventDrivenConsumer: 159 : started sysMsgFlow.org.springframework.integration.config.ConsumerEndpointFactoryBean#4
2020-01-08 15:06:54 806 [restartedMain] INFO  [INFO] MqttPahoMessageDrivenChannelAdapter: 159 : started bizInbound
2020-01-08 15:06:54 807 [restartedMain] INFO  [INFO] EventDrivenConsumer: 107 : Adding {bridge} as a subscriber to the 'bizMsgFlow.channel#0' channel
2020-01-08 15:06:54 807 [restartedMain] INFO  [INFO] DirectChannel: 64 : Channel 'application.bizMsgFlow.channel#0' has 1 subscriber(s).
2020-01-08 15:06:54 807 [restartedMain] INFO  [INFO] EventDrivenConsumer: 159 : started bizMsgFlow.org.springframework.integration.config.ConsumerEndpointFactoryBean#0
2020-01-08 15:06:54 807 [restartedMain] INFO  [INFO] EventDrivenConsumer: 107 : Adding {service-activator} as a subscriber to the 'bizMsgFlow.channel#1' channel
2020-01-08 15:06:54 807 [restartedMain] INFO  [INFO] ExecutorChannel: 64 : Channel 'application.bizMsgFlow.channel#1' has 1 subscriber(s).
2020-01-08 15:06:54 807 [restartedMain] INFO  [INFO] EventDrivenConsumer: 159 : started bizMsgFlow.org.springframework.integration.config.ConsumerEndpointFactoryBean#1
2020-01-08 15:06:54 807 [restartedMain] INFO  [INFO] EventDrivenConsumer: 107 : Adding {router} as a subscriber to the 'bizMsgFlow.channel#2' channel
2020-01-08 15:06:54 807 [restartedMain] INFO  [INFO] DirectChannel: 64 : Channel 'application.bizMsgFlow.channel#2' has 1 subscriber(s).
2020-01-08 15:06:54 808 [restartedMain] INFO  [INFO] EventDrivenConsumer: 159 : started bizMsgFlow.org.springframework.integration.config.ConsumerEndpointFactoryBean#2
2020-01-08 15:06:54 808 [restartedMain] INFO  [INFO] EventDrivenConsumer: 107 : Adding {service-activator} as a subscriber to the 'bizMsgFlow.subFlow#0.channel#0' channel
2020-01-08 15:06:54 808 [restartedMain] INFO  [INFO] DirectChannel: 64 : Channel 'application.bizMsgFlow.subFlow#0.channel#0' has 1 subscriber(s).
2020-01-08 15:06:54 808 [restartedMain] INFO  [INFO] EventDrivenConsumer: 159 : started bizMsgFlow.subFlow#0.org.springframework.integration.config.ConsumerEndpointFactoryBean#0
2020-01-08 15:06:54 808 [restartedMain] INFO  [INFO] EventDrivenConsumer: 107 : Adding {service-activator} as a subscriber to the 'bizMsgFlow.subFlow#1.channel#0' channel
2020-01-08 15:06:54 808 [restartedMain] INFO  [INFO] DirectChannel: 64 : Channel 'application.bizMsgFlow.subFlow#1.channel#0' has 1 subscriber(s).
2020-01-08 15:06:54 809 [restartedMain] INFO  [INFO] EventDrivenConsumer: 159 : started bizMsgFlow.subFlow#1.org.springframework.integration.config.ConsumerEndpointFactoryBean#0
2020-01-08 15:06:54 809 [restartedMain] INFO  [INFO] EventDrivenConsumer: 107 : Adding {service-activator} as a subscriber to the 'bizMsgFlow.subFlow#2.channel#0' channel
2020-01-08 15:06:54 809 [restartedMain] INFO  [INFO] DirectChannel: 64 : Channel 'application.bizMsgFlow.subFlow#2.channel#0' has 1 subscriber(s).
2020-01-08 15:06:54 809 [restartedMain] INFO  [INFO] EventDrivenConsumer: 159 : started bizMsgFlow.subFlow#2.org.springframework.integration.config.ConsumerEndpointFactoryBean#0
2020-01-08 15:06:54 809 [restartedMain] INFO  [INFO] EventDrivenConsumer: 107 : Adding {service-activator} as a subscriber to the 'bizMsgFlow.subFlow#3.channel#0' channel
2020-01-08 15:06:54 809 [restartedMain] INFO  [INFO] DirectChannel: 64 : Channel 'application.bizMsgFlow.subFlow#3.channel#0' has 1 subscriber(s).
2020-01-08 15:06:54 809 [restartedMain] INFO  [INFO] EventDrivenConsumer: 159 : started bizMsgFlow.subFlow#3.org.springframework.integration.config.ConsumerEndpointFactoryBean#0
2020-01-08 15:06:54 810 [restartedMain] INFO  [INFO] EventDrivenConsumer: 107 : Adding {bridge} as a subscriber to the 'bizMsgFlow.channel#3' channel
2020-01-08 15:06:54 810 [restartedMain] INFO  [INFO] DirectChannel: 64 : Channel 'application.bizMsgFlow.channel#3' has 1 subscriber(s).
2020-01-08 15:06:54 810 [restartedMain] INFO  [INFO] EventDrivenConsumer: 159 : started bizMsgFlow.org.springframework.integration.config.ConsumerEndpointFactoryBean#3
2020-01-08 15:06:54 810 [restartedMain] INFO  [INFO] EventDrivenConsumer: 107 : Adding {message-handler:mqttSpringIntegration.mqttOutbound.serviceActivator} as a subscriber to the 'mqttOutboundChannel' channel
2020-01-08 15:06:54 810 [mqtt-biz-pool-0] INFO  [INFO] MessageTransferUtil: 74 : received biz message, header:{mqtt_receivedRetained=false, id=f0df7e27-82e6-2e82-673d-a727ccf3f419, mqtt_duplicate=false, mqtt_receivedTopic=kunbu/biz/98D863BE7116/inf/, mqtt_receivedQos=1, timestamp=1578467214808}, payload:{       "mt":"J00",
       "dt":"0F060B0B",
       "elem":[
           {"id":"operationMode","data":"432804"},
           {"id":"burningStateDHW","data":"30"},
           {"id":"burningStateCH","data":"31"},
           {"id":"temperatureUnit","data":"30"},
          {"id":"waterPressureUnit","data":"31"},
           {"id":"hotWaterTempSetting","data":"34"},
           {"id":"heatingTempSetting","data":"2D"},
           {"id":"waterPressure","data":"0000"},
           {"id":"errorCode","data":"0"},
          {"id":"hotWaterTempBound","data":"3C25"},
           {"id":"heatingTempBound","data":"5228"}
        ],
        "lt":"2019-12-20T09:35:30+08:00"
 }
2020-01-08 15:06:54 811 [restartedMain] INFO  [INFO] DirectChannel: 64 : Channel 'application.mqttOutboundChannel' has 1 subscriber(s).
2020-01-08 15:06:54 811 [restartedMain] INFO  [INFO] EventDrivenConsumer: 159 : started mqttSpringIntegration.mqttOutbound.serviceActivator
2020-01-08 15:06:54 811 [restartedMain] INFO  [INFO] GatewayProxyFactoryBean$MethodInvocationGateway: 159 : started mqttPublisher
2020-01-08 15:06:54 811 [restartedMain] INFO  [INFO] GatewayProxyFactoryBean: 159 : started mqttPublisher
2020-01-08 15:06:54 817 [restartedMain] INFO  [INFO] Http11NioProtocol: 173 : Starting ProtocolHandler ["http-nio-9090"]
2020-01-08 15:06:54 819 [mqtt-biz-pool-0] ERROR [ERROR] MessageTransferUtil: 88 : >>> mqttMessage2BizMessage 转业务数据失败.
java.lang.IllegalArgumentException: No enum constant com.scosyf.mqtt.integration.constant.biz.DeviceTypeEnum.0F060B0B
	at java.lang.Enum.valueOf(Enum.java:238) ~[?:1.8.0_181]
	at com.scosyf.mqtt.integration.constant.biz.DeviceTypeEnum.valueOf(DeviceTypeEnum.java:3) ~[classes/:?]
	at com.scosyf.mqtt.integration.utils.MessageTransferUtil.mqttMessage2BizMessage(MessageTransferUtil.java:85) ~[classes/:?]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:1.8.0_181]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:1.8.0_181]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:1.8.0_181]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[?:1.8.0_181]
	at org.springframework.integration.handler.LambdaMessageProcessor.processMessage(LambdaMessageProcessor.java:102) ~[spring-integration-core-5.1.8.RELEASE.jar:5.1.8.RELEASE]
	at org.springframework.integration.handler.ServiceActivatingHandler.handleRequestMessage(ServiceActivatingHandler.java:93) ~[spring-integration-core-5.1.8.RELEASE.jar:5.1.8.RELEASE]
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.handleMessageInternal(AbstractReplyProducingMessageHandler.java:123) ~[spring-integration-core-5.1.8.RELEASE.jar:5.1.8.RELEASE]
	at org.springframework.integration.handler.AbstractMessageHandler.handleMessage(AbstractMessageHandler.java:169) ~[spring-integration-core-5.1.8.RELEASE.jar:5.1.8.RELEASE]
	at org.springframework.integration.dispatcher.AbstractDispatcher.tryOptimizedDispatch(AbstractDispatcher.java:115) ~[spring-integration-core-5.1.8.RELEASE.jar:5.1.8.RELEASE]
	at org.springframework.integration.dispatcher.UnicastingDispatcher.doDispatch(UnicastingDispatcher.java:132) ~[spring-integration-core-5.1.8.RELEASE.jar:5.1.8.RELEASE]
	at org.springframework.integration.dispatcher.UnicastingDispatcher.access$000(UnicastingDispatcher.java:52) ~[spring-integration-core-5.1.8.RELEASE.jar:5.1.8.RELEASE]
	at org.springframework.integration.dispatcher.UnicastingDispatcher$1.run(UnicastingDispatcher.java:113) ~[spring-integration-core-5.1.8.RELEASE.jar:5.1.8.RELEASE]
	at org.springframework.integration.util.ErrorHandlingTaskExecutor.lambda$execute$0(ErrorHandlingTaskExecutor.java:57) ~[spring-integration-core-5.1.8.RELEASE.jar:5.1.8.RELEASE]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [?:1.8.0_181]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [?:1.8.0_181]
	at java.lang.Thread.run(Thread.java:748) [?:1.8.0_181]
2020-01-08 15:06:54 835 [restartedMain] INFO  [INFO] TomcatWebServer: 202 : Tomcat started on port(s): 9090 (http) with context path ''
2020-01-08 15:06:54 838 [restartedMain] INFO  [INFO] SpringIntegrationApplication: 59 : Started SpringIntegrationApplication in 3.698 seconds (JVM running for 5.422)
2020-01-08 15:07:21 411 [mqtt-biz-pool-1] INFO  [INFO] MessageTransferUtil: 74 : received biz message, header:{mqtt_receivedRetained=false, id=0dc2bfd9-e504-a6bb-9e9c-db27c7a65016, mqtt_duplicate=false, mqtt_receivedTopic=kunbu/biz/98D863BE7116/inf/, mqtt_receivedQos=1, timestamp=1578467241410}, payload:{       "mt":"J00",
       "dt":"0F060B0B",
       "elem":[
           {"id":"operationMode","data":"432804"},
           {"id":"burningStateDHW","data":"30"},
           {"id":"burningStateCH","data":"31"},
           {"id":"temperatureUnit","data":"30"},
          {"id":"waterPressureUnit","data":"31"},
           {"id":"hotWaterTempSetting","data":"34"},
           {"id":"heatingTempSetting","data":"2D"},
           {"id":"waterPressure","data":"0000"},
           {"id":"errorCode","data":"0"},
          {"id":"hotWaterTempBound","data":"3C25"},
           {"id":"heatingTempBound","data":"5228"}
        ],
        "lt":"2019-12-20T09:35:30+08:00"
 }
2020-01-08 15:07:21 412 [mqtt-biz-pool-1] ERROR [ERROR] MessageTransferUtil: 88 : >>> mqttMessage2BizMessage 转业务数据失败.
java.lang.IllegalArgumentException: No enum constant com.scosyf.mqtt.integration.constant.biz.DeviceTypeEnum.0F060B0B
	at java.lang.Enum.valueOf(Enum.java:238) ~[?:1.8.0_181]
	at com.scosyf.mqtt.integration.constant.biz.DeviceTypeEnum.valueOf(DeviceTypeEnum.java:3) ~[classes/:?]
	at com.scosyf.mqtt.integration.utils.MessageTransferUtil.mqttMessage2BizMessage(MessageTransferUtil.java:85) ~[classes/:?]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:1.8.0_181]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:1.8.0_181]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:1.8.0_181]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[?:1.8.0_181]
	at org.springframework.integration.handler.LambdaMessageProcessor.processMessage(LambdaMessageProcessor.java:102) ~[spring-integration-core-5.1.8.RELEASE.jar:5.1.8.RELEASE]
	at org.springframework.integration.handler.ServiceActivatingHandler.handleRequestMessage(ServiceActivatingHandler.java:93) ~[spring-integration-core-5.1.8.RELEASE.jar:5.1.8.RELEASE]
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.handleMessageInternal(AbstractReplyProducingMessageHandler.java:123) ~[spring-integration-core-5.1.8.RELEASE.jar:5.1.8.RELEASE]
	at org.springframework.integration.handler.AbstractMessageHandler.handleMessage(AbstractMessageHandler.java:169) ~[spring-integration-core-5.1.8.RELEASE.jar:5.1.8.RELEASE]
	at org.springframework.integration.dispatcher.AbstractDispatcher.tryOptimizedDispatch(AbstractDispatcher.java:115) ~[spring-integration-core-5.1.8.RELEASE.jar:5.1.8.RELEASE]
	at org.springframework.integration.dispatcher.UnicastingDispatcher.doDispatch(UnicastingDispatcher.java:132) ~[spring-integration-core-5.1.8.RELEASE.jar:5.1.8.RELEASE]
	at org.springframework.integration.dispatcher.UnicastingDispatcher.access$000(UnicastingDispatcher.java:52) ~[spring-integration-core-5.1.8.RELEASE.jar:5.1.8.RELEASE]
	at org.springframework.integration.dispatcher.UnicastingDispatcher$1.run(UnicastingDispatcher.java:113) ~[spring-integration-core-5.1.8.RELEASE.jar:5.1.8.RELEASE]
	at org.springframework.integration.util.ErrorHandlingTaskExecutor.lambda$execute$0(ErrorHandlingTaskExecutor.java:57) ~[spring-integration-core-5.1.8.RELEASE.jar:5.1.8.RELEASE]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [?:1.8.0_181]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [?:1.8.0_181]
	at java.lang.Thread.run(Thread.java:748) [?:1.8.0_181]
2020-01-08 15:15:48 918 [main] INFO  [INFO] SpringIntegrationApplication: 37 : 
=========================================================
                                                         
          Welcome to Spring Integration!                 
                                                         
    For more information please visit:                   
    https://spring.io/projects/spring-integration        
                                                         
                                                         
    这是一个基于MQTT订阅的消息处理服务 -                     
    订阅关键的TOPIC，将收到的mqtt消息处理并最终写入数据        
=========================================================
2020-01-08 15:15:49 073 [restartedMain] INFO  [INFO] SpringIntegrationApplication: 37 : 
=========================================================
                                                         
          Welcome to Spring Integration!                 
                                                         
    For more information please visit:                   
    https://spring.io/projects/spring-integration        
                                                         
                                                         
    这是一个基于MQTT订阅的消息处理服务 -                     
    订阅关键的TOPIC，将收到的mqtt消息处理并最终写入数据        
=========================================================
2020-01-08 15:15:49 473 [restartedMain] INFO  [INFO] SpringIntegrationApplication: 50 : Starting SpringIntegrationApplication on DESKTOP-QA9ODS5 with PID 2728 (D:\kunbu\spring-integration\target\classes started by mojun in D:\kunbu\spring-integration)
2020-01-08 15:15:49 474 [restartedMain] INFO  [INFO] SpringIntegrationApplication: 648 : No active profile set, falling back to default profiles: default
2020-01-08 15:15:49 521 [restartedMain] INFO  [INFO] DevToolsPropertyDefaultsPostProcessor: 225 : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2020-01-08 15:15:49 521 [restartedMain] INFO  [INFO] DevToolsPropertyDefaultsPostProcessor: 225 : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2020-01-08 15:15:50 183 [restartedMain] INFO  [INFO] RepositoryConfigurationDelegate: 126 : Bootstrapping Spring Data repositories in DEFAULT mode.
2020-01-08 15:15:50 207 [restartedMain] INFO  [INFO] RepositoryConfigurationDelegate: 182 : Finished Spring Data repository scanning in 20ms. Found 0 repository interfaces.
2020-01-08 15:15:50 397 [restartedMain] INFO  [INFO] DefaultConfiguringBeanFactoryPostProcessor: 193 : No bean named 'errorChannel' has been explicitly defined. Therefore, a default PublishSubscribeChannel will be created.
2020-01-08 15:15:50 403 [restartedMain] INFO  [INFO] DefaultConfiguringBeanFactoryPostProcessor: 280 : No bean named 'taskScheduler' has been explicitly defined. Therefore, a default ThreadPoolTaskScheduler will be created.
2020-01-08 15:15:50 407 [restartedMain] INFO  [INFO] DefaultConfiguringBeanFactoryPostProcessor: 431 : No bean named 'integrationHeaderChannelRegistry' has been explicitly defined. Therefore, a default DefaultHeaderChannelRegistry will be created.
2020-01-08 15:15:50 476 [restartedMain] INFO  [INFO] PostProcessorRegistrationDelegate$BeanPostProcessorChecker: 330 : Bean 'org.springframework.integration.config.IntegrationManagementConfiguration' of type [org.springframework.integration.config.IntegrationManagementConfiguration$$EnhancerBySpringCGLIB$$d1f3a31] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-01-08 15:15:50 486 [restartedMain] INFO  [INFO] PostProcessorRegistrationDelegate$BeanPostProcessorChecker: 330 : Bean 'integrationDisposableAutoCreatedBeans' of type [org.springframework.integration.config.annotation.Disposables] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-01-08 15:15:50 736 [restartedMain] INFO  [INFO] TomcatWebServer: 90 : Tomcat initialized with port(s): 9090 (http)
2020-01-08 15:15:50 746 [restartedMain] INFO  [INFO] Http11NioProtocol: 173 : Initializing ProtocolHandler ["http-nio-9090"]
2020-01-08 15:15:50 753 [restartedMain] INFO  [INFO] StandardService: 173 : Starting service [Tomcat]
2020-01-08 15:15:50 754 [restartedMain] INFO  [INFO] StandardEngine: 173 : Starting Servlet engine: [Apache Tomcat/9.0.26]
2020-01-08 15:15:50 869 [restartedMain] INFO  [INFO] [/]: 173 : Initializing Spring embedded WebApplicationContext
2020-01-08 15:15:50 869 [restartedMain] INFO  [INFO] ContextLoader: 284 : Root WebApplicationContext: initialization completed in 1348 ms
2020-01-08 15:15:51 826 [restartedMain] INFO  [INFO] cluster: 71 : Cluster created with settings {hosts=[localhost:27017], mode=SINGLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}
2020-01-08 15:15:51 862 [cluster-ClusterId{value='5e1581a7f4ac9c0aa80d278f', description='null'}-localhost:27017] INFO  [INFO] connection: 71 : Opened connection [connectionId{localValue:1, serverValue:43}] to localhost:27017
2020-01-08 15:15:51 865 [cluster-ClusterId{value='5e1581a7f4ac9c0aa80d278f', description='null'}-localhost:27017] INFO  [INFO] cluster: 71 : Monitor thread successfully connected to server with description ServerDescription{address=localhost:27017, type=STANDALONE, state=CONNECTED, ok=true, version=ServerVersion{versionList=[3, 6, 12]}, minWireVersion=0, maxWireVersion=6, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=1978601}
2020-01-08 15:15:51 913 [restartedMain] WARN  [WARN] CustomConversions: 207 : Registering converter from class java.time.LocalDateTime to class java.time.Instant as reading converter although it doesn't convert from a store-supported type! You might wanna check you annotation setup at the converter implementation.
2020-01-08 15:15:51 914 [restartedMain] WARN  [WARN] CustomConversions: 207 : Registering converter from class java.time.Instant to class java.time.LocalDateTime as reading converter although it doesn't convert from a store-supported type! You might wanna check you annotation setup at the converter implementation.
2020-01-08 15:15:51 991 [restartedMain] INFO  [INFO] OptionalLiveReloadServer: 57 : LiveReload server is running on port 35729
2020-01-08 15:15:52 007 [restartedMain] WARN  [WARN] CustomConversions: 207 : Registering converter from class java.time.LocalDateTime to class java.time.Instant as reading converter although it doesn't convert from a store-supported type! You might wanna check you annotation setup at the converter implementation.
2020-01-08 15:15:52 007 [restartedMain] WARN  [WARN] CustomConversions: 207 : Registering converter from class java.time.Instant to class java.time.LocalDateTime as reading converter although it doesn't convert from a store-supported type! You might wanna check you annotation setup at the converter implementation.
2020-01-08 15:15:52 051 [restartedMain] INFO  [INFO] connection: 71 : Opened connection [connectionId{localValue:2, serverValue:44}] to localhost:27017
2020-01-08 15:15:52 405 [restartedMain] INFO  [INFO] ThreadPoolTaskExecutor: 171 : Initializing ExecutorService 'applicationTaskExecutor'
2020-01-08 15:15:52 508 [restartedMain] INFO  [INFO] ThreadPoolTaskScheduler: 171 : Initializing ExecutorService 'taskScheduler'
2020-01-08 15:15:52 690 [restartedMain] INFO  [INFO] EventDrivenConsumer: 107 : Adding {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2020-01-08 15:15:52 691 [restartedMain] INFO  [INFO] PublishSubscribeChannel: 64 : Channel 'application.errorChannel' has 1 subscriber(s).
2020-01-08 15:15:52 691 [restartedMain] INFO  [INFO] EventDrivenConsumer: 159 : started _org.springframework.integration.errorLogger
2020-01-08 15:15:52 720 [restartedMain] INFO  [INFO] MqttPahoMessageDrivenChannelAdapter: 159 : started sysInbound
2020-01-08 15:15:52 720 [restartedMain] INFO  [INFO] EventDrivenConsumer: 107 : Adding {bridge} as a subscriber to the 'sysMsgFlow.channel#0' channel
2020-01-08 15:15:52 720 [restartedMain] INFO  [INFO] DirectChannel: 64 : Channel 'application.sysMsgFlow.channel#0' has 1 subscriber(s).
2020-01-08 15:15:52 720 [restartedMain] INFO  [INFO] EventDrivenConsumer: 159 : started sysMsgFlow.org.springframework.integration.config.ConsumerEndpointFactoryBean#0
2020-01-08 15:15:52 721 [restartedMain] INFO  [INFO] EventDrivenConsumer: 107 : Adding {service-activator} as a subscriber to the 'sysMsgFlow.channel#1' channel
2020-01-08 15:15:52 721 [restartedMain] INFO  [INFO] ExecutorChannel: 64 : Channel 'application.sysMsgFlow.channel#1' has 1 subscriber(s).
2020-01-08 15:15:52 721 [restartedMain] INFO  [INFO] EventDrivenConsumer: 159 : started sysMsgFlow.org.springframework.integration.config.ConsumerEndpointFactoryBean#1
2020-01-08 15:15:52 721 [restartedMain] INFO  [INFO] EventDrivenConsumer: 107 : Adding {service-activator} as a subscriber to the 'sysMsgFlow.channel#2' channel
2020-01-08 15:15:52 721 [restartedMain] INFO  [INFO] DirectChannel: 64 : Channel 'application.sysMsgFlow.channel#2' has 1 subscriber(s).
2020-01-08 15:15:52 721 [restartedMain] INFO  [INFO] EventDrivenConsumer: 159 : started sysMsgFlow.org.springframework.integration.config.ConsumerEndpointFactoryBean#2
2020-01-08 15:15:52 721 [restartedMain] INFO  [INFO] EventDrivenConsumer: 107 : Adding {filter} as a subscriber to the 'sysMsgFlow.channel#3' channel
2020-01-08 15:15:52 721 [restartedMain] INFO  [INFO] DirectChannel: 64 : Channel 'application.sysMsgFlow.channel#3' has 1 subscriber(s).
2020-01-08 15:15:52 722 [restartedMain] INFO  [INFO] EventDrivenConsumer: 159 : started sysMsgFlow.org.springframework.integration.config.ConsumerEndpointFactoryBean#3
2020-01-08 15:15:52 722 [restartedMain] INFO  [INFO] EventDrivenConsumer: 107 : Adding {mqtt:outbound-channel-adapter} as a subscriber to the 'sysMsgFlow.channel#4' channel
2020-01-08 15:15:52 722 [restartedMain] INFO  [INFO] DirectChannel: 64 : Channel 'application.sysMsgFlow.channel#4' has 1 subscriber(s).
2020-01-08 15:15:52 722 [restartedMain] INFO  [INFO] EventDrivenConsumer: 159 : started sysMsgFlow.org.springframework.integration.config.ConsumerEndpointFactoryBean#4
2020-01-08 15:15:52 726 [restartedMain] INFO  [INFO] MqttPahoMessageDrivenChannelAdapter: 159 : started bizInbound
2020-01-08 15:15:52 726 [restartedMain] INFO  [INFO] EventDrivenConsumer: 107 : Adding {bridge} as a subscriber to the 'bizMsgFlow.channel#0' channel
2020-01-08 15:15:52 726 [restartedMain] INFO  [INFO] DirectChannel: 64 : Channel 'application.bizMsgFlow.channel#0' has 1 subscriber(s).
2020-01-08 15:15:52 726 [restartedMain] INFO  [INFO] EventDrivenConsumer: 159 : started bizMsgFlow.org.springframework.integration.config.ConsumerEndpointFactoryBean#0
2020-01-08 15:15:52 726 [restartedMain] INFO  [INFO] EventDrivenConsumer: 107 : Adding {service-activator} as a subscriber to the 'bizMsgFlow.channel#1' channel
2020-01-08 15:15:52 726 [restartedMain] INFO  [INFO] ExecutorChannel: 64 : Channel 'application.bizMsgFlow.channel#1' has 1 subscriber(s).
2020-01-08 15:15:52 726 [restartedMain] INFO  [INFO] EventDrivenConsumer: 159 : started bizMsgFlow.org.springframework.integration.config.ConsumerEndpointFactoryBean#1
2020-01-08 15:15:52 727 [restartedMain] INFO  [INFO] EventDrivenConsumer: 107 : Adding {router} as a subscriber to the 'bizMsgFlow.channel#2' channel
2020-01-08 15:15:52 727 [restartedMain] INFO  [INFO] DirectChannel: 64 : Channel 'application.bizMsgFlow.channel#2' has 1 subscriber(s).
2020-01-08 15:15:52 727 [restartedMain] INFO  [INFO] EventDrivenConsumer: 159 : started bizMsgFlow.org.springframework.integration.config.ConsumerEndpointFactoryBean#2
2020-01-08 15:15:52 727 [restartedMain] INFO  [INFO] EventDrivenConsumer: 107 : Adding {service-activator} as a subscriber to the 'bizMsgFlow.subFlow#0.channel#0' channel
2020-01-08 15:15:52 727 [restartedMain] INFO  [INFO] DirectChannel: 64 : Channel 'application.bizMsgFlow.subFlow#0.channel#0' has 1 subscriber(s).
2020-01-08 15:15:52 727 [restartedMain] INFO  [INFO] EventDrivenConsumer: 159 : started bizMsgFlow.subFlow#0.org.springframework.integration.config.ConsumerEndpointFactoryBean#0
2020-01-08 15:15:52 727 [restartedMain] INFO  [INFO] EventDrivenConsumer: 107 : Adding {service-activator} as a subscriber to the 'bizMsgFlow.subFlow#1.channel#0' channel
2020-01-08 15:15:52 728 [restartedMain] INFO  [INFO] DirectChannel: 64 : Channel 'application.bizMsgFlow.subFlow#1.channel#0' has 1 subscriber(s).
2020-01-08 15:15:52 728 [restartedMain] INFO  [INFO] EventDrivenConsumer: 159 : started bizMsgFlow.subFlow#1.org.springframework.integration.config.ConsumerEndpointFactoryBean#0
2020-01-08 15:15:52 728 [restartedMain] INFO  [INFO] EventDrivenConsumer: 107 : Adding {service-activator} as a subscriber to the 'bizMsgFlow.subFlow#2.channel#0' channel
2020-01-08 15:15:52 728 [restartedMain] INFO  [INFO] DirectChannel: 64 : Channel 'application.bizMsgFlow.subFlow#2.channel#0' has 1 subscriber(s).
2020-01-08 15:15:52 728 [restartedMain] INFO  [INFO] EventDrivenConsumer: 159 : started bizMsgFlow.subFlow#2.org.springframework.integration.config.ConsumerEndpointFactoryBean#0
2020-01-08 15:15:52 728 [restartedMain] INFO  [INFO] EventDrivenConsumer: 107 : Adding {service-activator} as a subscriber to the 'bizMsgFlow.subFlow#3.channel#0' channel
2020-01-08 15:15:52 728 [restartedMain] INFO  [INFO] DirectChannel: 64 : Channel 'application.bizMsgFlow.subFlow#3.channel#0' has 1 subscriber(s).
2020-01-08 15:15:52 729 [restartedMain] INFO  [INFO] EventDrivenConsumer: 159 : started bizMsgFlow.subFlow#3.org.springframework.integration.config.ConsumerEndpointFactoryBean#0
2020-01-08 15:15:52 729 [restartedMain] INFO  [INFO] EventDrivenConsumer: 107 : Adding {bridge} as a subscriber to the 'bizMsgFlow.channel#3' channel
2020-01-08 15:15:52 729 [restartedMain] INFO  [INFO] DirectChannel: 64 : Channel 'application.bizMsgFlow.channel#3' has 1 subscriber(s).
2020-01-08 15:15:52 729 [restartedMain] INFO  [INFO] EventDrivenConsumer: 159 : started bizMsgFlow.org.springframework.integration.config.ConsumerEndpointFactoryBean#3
2020-01-08 15:15:52 729 [restartedMain] INFO  [INFO] EventDrivenConsumer: 107 : Adding {message-handler:mqttSpringIntegration.mqttOutbound.serviceActivator} as a subscriber to the 'mqttOutboundChannel' channel
2020-01-08 15:15:52 731 [restartedMain] INFO  [INFO] DirectChannel: 64 : Channel 'application.mqttOutboundChannel' has 1 subscriber(s).
2020-01-08 15:15:52 731 [restartedMain] INFO  [INFO] EventDrivenConsumer: 159 : started mqttSpringIntegration.mqttOutbound.serviceActivator
2020-01-08 15:15:52 731 [restartedMain] INFO  [INFO] GatewayProxyFactoryBean$MethodInvocationGateway: 159 : started mqttPublisher
2020-01-08 15:15:52 732 [restartedMain] INFO  [INFO] GatewayProxyFactoryBean: 159 : started mqttPublisher
2020-01-08 15:15:52 739 [restartedMain] INFO  [INFO] Http11NioProtocol: 173 : Starting ProtocolHandler ["http-nio-9090"]
2020-01-08 15:15:52 757 [restartedMain] INFO  [INFO] TomcatWebServer: 202 : Tomcat started on port(s): 9090 (http) with context path ''
2020-01-08 15:15:52 760 [restartedMain] INFO  [INFO] SpringIntegrationApplication: 59 : Started SpringIntegrationApplication in 3.679 seconds (JVM running for 5.287)
2020-01-08 15:16:05 159 [mqtt-biz-pool-0] INFO  [INFO] MessageTransferUtil: 74 : received biz message, header:{mqtt_receivedRetained=false, id=3ce50df3-bbea-240c-cde2-ba2cf77db192, mqtt_duplicate=false, mqtt_receivedTopic=kunbu/biz/98D863BE7116/inf/, mqtt_receivedQos=1, timestamp=1578467765156}, payload:{       "mt":"J00",
       "dt":"0F060B0B",
       "elem":[
           {"id":"operationMode","data":"432804"},
           {"id":"burningStateDHW","data":"30"},
           {"id":"burningStateCH","data":"31"},
           {"id":"temperatureUnit","data":"30"},
          {"id":"waterPressureUnit","data":"31"},
           {"id":"hotWaterTempSetting","data":"34"},
           {"id":"heatingTempSetting","data":"2D"},
           {"id":"waterPressure","data":"0000"},
           {"id":"errorCode","data":"0"},
          {"id":"hotWaterTempBound","data":"3C25"},
           {"id":"heatingTempBound","data":"5228"}
        ],
        "lt":"2019-12-20T09:35:30+08:00"
 }
2020-01-08 15:16:05 212 [mqtt-biz-pool-0] ERROR [ERROR] MessageTransferUtil: 92 : >>> mqttMessage2BizMessage 转业务数据异常.
java.lang.IllegalArgumentException: No enum constant com.scosyf.mqtt.integration.constant.biz.DeviceTypeEnum.0F060B0B
	at java.lang.Enum.valueOf(Enum.java:238) ~[?:1.8.0_181]
	at com.scosyf.mqtt.integration.constant.biz.DeviceTypeEnum.valueOf(DeviceTypeEnum.java:3) ~[classes/:?]
	at com.scosyf.mqtt.integration.utils.MessageTransferUtil.mqttMessage2BizMessage(MessageTransferUtil.java:85) ~[classes/:?]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:1.8.0_181]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:1.8.0_181]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:1.8.0_181]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[?:1.8.0_181]
	at org.springframework.integration.handler.LambdaMessageProcessor.processMessage(LambdaMessageProcessor.java:102) ~[spring-integration-core-5.1.8.RELEASE.jar:5.1.8.RELEASE]
	at org.springframework.integration.handler.ServiceActivatingHandler.handleRequestMessage(ServiceActivatingHandler.java:93) ~[spring-integration-core-5.1.8.RELEASE.jar:5.1.8.RELEASE]
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.handleMessageInternal(AbstractReplyProducingMessageHandler.java:123) ~[spring-integration-core-5.1.8.RELEASE.jar:5.1.8.RELEASE]
	at org.springframework.integration.handler.AbstractMessageHandler.handleMessage(AbstractMessageHandler.java:169) ~[spring-integration-core-5.1.8.RELEASE.jar:5.1.8.RELEASE]
	at org.springframework.integration.dispatcher.AbstractDispatcher.tryOptimizedDispatch(AbstractDispatcher.java:115) ~[spring-integration-core-5.1.8.RELEASE.jar:5.1.8.RELEASE]
	at org.springframework.integration.dispatcher.UnicastingDispatcher.doDispatch(UnicastingDispatcher.java:132) ~[spring-integration-core-5.1.8.RELEASE.jar:5.1.8.RELEASE]
	at org.springframework.integration.dispatcher.UnicastingDispatcher.access$000(UnicastingDispatcher.java:52) ~[spring-integration-core-5.1.8.RELEASE.jar:5.1.8.RELEASE]
	at org.springframework.integration.dispatcher.UnicastingDispatcher$1.run(UnicastingDispatcher.java:113) ~[spring-integration-core-5.1.8.RELEASE.jar:5.1.8.RELEASE]
	at org.springframework.integration.util.ErrorHandlingTaskExecutor.lambda$execute$0(ErrorHandlingTaskExecutor.java:57) ~[spring-integration-core-5.1.8.RELEASE.jar:5.1.8.RELEASE]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [?:1.8.0_181]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [?:1.8.0_181]
	at java.lang.Thread.run(Thread.java:748) [?:1.8.0_181]
2020-01-08 15:16:33 301 [main] INFO  [INFO] SpringIntegrationApplication: 37 : 
=========================================================
                                                         
          Welcome to Spring Integration!                 
                                                         
    For more information please visit:                   
    https://spring.io/projects/spring-integration        
                                                         
                                                         
    这是一个基于MQTT订阅的消息处理服务 -                     
    订阅关键的TOPIC，将收到的mqtt消息处理并最终写入数据        
=========================================================
2020-01-08 15:16:33 445 [restartedMain] INFO  [INFO] SpringIntegrationApplication: 37 : 
=========================================================
                                                         
          Welcome to Spring Integration!                 
                                                         
    For more information please visit:                   
    https://spring.io/projects/spring-integration        
                                                         
                                                         
    这是一个基于MQTT订阅的消息处理服务 -                     
    订阅关键的TOPIC，将收到的mqtt消息处理并最终写入数据        
=========================================================
2020-01-08 15:16:33 849 [restartedMain] INFO  [INFO] SpringIntegrationApplication: 50 : Starting SpringIntegrationApplication on DESKTOP-QA9ODS5 with PID 4248 (D:\kunbu\spring-integration\target\classes started by mojun in D:\kunbu\spring-integration)
2020-01-08 15:16:33 850 [restartedMain] INFO  [INFO] SpringIntegrationApplication: 648 : No active profile set, falling back to default profiles: default
2020-01-08 15:16:33 890 [restartedMain] INFO  [INFO] DevToolsPropertyDefaultsPostProcessor: 225 : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2020-01-08 15:16:33 890 [restartedMain] INFO  [INFO] DevToolsPropertyDefaultsPostProcessor: 225 : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2020-01-08 15:16:34 481 [restartedMain] INFO  [INFO] RepositoryConfigurationDelegate: 126 : Bootstrapping Spring Data repositories in DEFAULT mode.
2020-01-08 15:16:34 506 [restartedMain] INFO  [INFO] RepositoryConfigurationDelegate: 182 : Finished Spring Data repository scanning in 22ms. Found 0 repository interfaces.
2020-01-08 15:16:34 690 [restartedMain] INFO  [INFO] DefaultConfiguringBeanFactoryPostProcessor: 193 : No bean named 'errorChannel' has been explicitly defined. Therefore, a default PublishSubscribeChannel will be created.
2020-01-08 15:16:34 697 [restartedMain] INFO  [INFO] DefaultConfiguringBeanFactoryPostProcessor: 280 : No bean named 'taskScheduler' has been explicitly defined. Therefore, a default ThreadPoolTaskScheduler will be created.
2020-01-08 15:16:34 700 [restartedMain] INFO  [INFO] DefaultConfiguringBeanFactoryPostProcessor: 431 : No bean named 'integrationHeaderChannelRegistry' has been explicitly defined. Therefore, a default DefaultHeaderChannelRegistry will be created.
2020-01-08 15:16:34 769 [restartedMain] INFO  [INFO] PostProcessorRegistrationDelegate$BeanPostProcessorChecker: 330 : Bean 'org.springframework.integration.config.IntegrationManagementConfiguration' of type [org.springframework.integration.config.IntegrationManagementConfiguration$$EnhancerBySpringCGLIB$$daff9f2] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-01-08 15:16:34 779 [restartedMain] INFO  [INFO] PostProcessorRegistrationDelegate$BeanPostProcessorChecker: 330 : Bean 'integrationDisposableAutoCreatedBeans' of type [org.springframework.integration.config.annotation.Disposables] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-01-08 15:16:35 038 [restartedMain] INFO  [INFO] TomcatWebServer: 90 : Tomcat initialized with port(s): 9090 (http)
2020-01-08 15:16:35 049 [restartedMain] INFO  [INFO] Http11NioProtocol: 173 : Initializing ProtocolHandler ["http-nio-9090"]
2020-01-08 15:16:35 056 [restartedMain] INFO  [INFO] StandardService: 173 : Starting service [Tomcat]
2020-01-08 15:16:35 056 [restartedMain] INFO  [INFO] StandardEngine: 173 : Starting Servlet engine: [Apache Tomcat/9.0.26]
2020-01-08 15:16:35 223 [restartedMain] INFO  [INFO] [/]: 173 : Initializing Spring embedded WebApplicationContext
2020-01-08 15:16:35 224 [restartedMain] INFO  [INFO] ContextLoader: 284 : Root WebApplicationContext: initialization completed in 1334 ms
2020-01-08 15:16:36 174 [restartedMain] INFO  [INFO] cluster: 71 : Cluster created with settings {hosts=[localhost:27017], mode=SINGLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}
2020-01-08 15:16:36 212 [cluster-ClusterId{value='5e1581d4f4ac9c109899fad6', description='null'}-localhost:27017] INFO  [INFO] connection: 71 : Opened connection [connectionId{localValue:1, serverValue:45}] to localhost:27017
2020-01-08 15:16:36 215 [cluster-ClusterId{value='5e1581d4f4ac9c109899fad6', description='null'}-localhost:27017] INFO  [INFO] cluster: 71 : Monitor thread successfully connected to server with description ServerDescription{address=localhost:27017, type=STANDALONE, state=CONNECTED, ok=true, version=ServerVersion{versionList=[3, 6, 12]}, minWireVersion=0, maxWireVersion=6, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=1916900}
2020-01-08 15:16:36 262 [restartedMain] WARN  [WARN] CustomConversions: 207 : Registering converter from class java.time.LocalDateTime to class java.time.Instant as reading converter although it doesn't convert from a store-supported type! You might wanna check you annotation setup at the converter implementation.
2020-01-08 15:16:36 263 [restartedMain] WARN  [WARN] CustomConversions: 207 : Registering converter from class java.time.Instant to class java.time.LocalDateTime as reading converter although it doesn't convert from a store-supported type! You might wanna check you annotation setup at the converter implementation.
2020-01-08 15:16:36 341 [restartedMain] INFO  [INFO] OptionalLiveReloadServer: 57 : LiveReload server is running on port 35729
2020-01-08 15:16:36 359 [restartedMain] WARN  [WARN] CustomConversions: 207 : Registering converter from class java.time.LocalDateTime to class java.time.Instant as reading converter although it doesn't convert from a store-supported type! You might wanna check you annotation setup at the converter implementation.
2020-01-08 15:16:36 360 [restartedMain] WARN  [WARN] CustomConversions: 207 : Registering converter from class java.time.Instant to class java.time.LocalDateTime as reading converter although it doesn't convert from a store-supported type! You might wanna check you annotation setup at the converter implementation.
2020-01-08 15:16:36 409 [restartedMain] INFO  [INFO] connection: 71 : Opened connection [connectionId{localValue:2, serverValue:46}] to localhost:27017
2020-01-08 15:16:36 742 [restartedMain] INFO  [INFO] ThreadPoolTaskExecutor: 171 : Initializing ExecutorService 'applicationTaskExecutor'
2020-01-08 15:16:36 852 [restartedMain] INFO  [INFO] ThreadPoolTaskScheduler: 171 : Initializing ExecutorService 'taskScheduler'
2020-01-08 15:16:37 036 [restartedMain] INFO  [INFO] EventDrivenConsumer: 107 : Adding {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2020-01-08 15:16:37 037 [restartedMain] INFO  [INFO] PublishSubscribeChannel: 64 : Channel 'application.errorChannel' has 1 subscriber(s).
2020-01-08 15:16:37 037 [restartedMain] INFO  [INFO] EventDrivenConsumer: 159 : started _org.springframework.integration.errorLogger
2020-01-08 15:16:37 066 [restartedMain] INFO  [INFO] MqttPahoMessageDrivenChannelAdapter: 159 : started sysInbound
2020-01-08 15:16:37 067 [restartedMain] INFO  [INFO] EventDrivenConsumer: 107 : Adding {bridge} as a subscriber to the 'sysMsgFlow.channel#0' channel
2020-01-08 15:16:37 067 [restartedMain] INFO  [INFO] DirectChannel: 64 : Channel 'application.sysMsgFlow.channel#0' has 1 subscriber(s).
2020-01-08 15:16:37 067 [restartedMain] INFO  [INFO] EventDrivenConsumer: 159 : started sysMsgFlow.org.springframework.integration.config.ConsumerEndpointFactoryBean#0
2020-01-08 15:16:37 067 [restartedMain] INFO  [INFO] EventDrivenConsumer: 107 : Adding {service-activator} as a subscriber to the 'sysMsgFlow.channel#1' channel
2020-01-08 15:16:37 068 [restartedMain] INFO  [INFO] ExecutorChannel: 64 : Channel 'application.sysMsgFlow.channel#1' has 1 subscriber(s).
2020-01-08 15:16:37 068 [restartedMain] INFO  [INFO] EventDrivenConsumer: 159 : started sysMsgFlow.org.springframework.integration.config.ConsumerEndpointFactoryBean#1
2020-01-08 15:16:37 068 [restartedMain] INFO  [INFO] EventDrivenConsumer: 107 : Adding {service-activator} as a subscriber to the 'sysMsgFlow.channel#2' channel
2020-01-08 15:16:37 068 [restartedMain] INFO  [INFO] DirectChannel: 64 : Channel 'application.sysMsgFlow.channel#2' has 1 subscriber(s).
2020-01-08 15:16:37 068 [restartedMain] INFO  [INFO] EventDrivenConsumer: 159 : started sysMsgFlow.org.springframework.integration.config.ConsumerEndpointFactoryBean#2
2020-01-08 15:16:37 069 [restartedMain] INFO  [INFO] EventDrivenConsumer: 107 : Adding {filter} as a subscriber to the 'sysMsgFlow.channel#3' channel
2020-01-08 15:16:37 069 [restartedMain] INFO  [INFO] DirectChannel: 64 : Channel 'application.sysMsgFlow.channel#3' has 1 subscriber(s).
2020-01-08 15:16:37 069 [restartedMain] INFO  [INFO] EventDrivenConsumer: 159 : started sysMsgFlow.org.springframework.integration.config.ConsumerEndpointFactoryBean#3
2020-01-08 15:16:37 069 [restartedMain] INFO  [INFO] EventDrivenConsumer: 107 : Adding {mqtt:outbound-channel-adapter} as a subscriber to the 'sysMsgFlow.channel#4' channel
2020-01-08 15:16:37 069 [restartedMain] INFO  [INFO] DirectChannel: 64 : Channel 'application.sysMsgFlow.channel#4' has 1 subscriber(s).
2020-01-08 15:16:37 070 [restartedMain] INFO  [INFO] EventDrivenConsumer: 159 : started sysMsgFlow.org.springframework.integration.config.ConsumerEndpointFactoryBean#4
2020-01-08 15:16:37 074 [restartedMain] INFO  [INFO] MqttPahoMessageDrivenChannelAdapter: 159 : started bizInbound
2020-01-08 15:16:37 075 [restartedMain] INFO  [INFO] EventDrivenConsumer: 107 : Adding {bridge} as a subscriber to the 'bizMsgFlow.channel#0' channel
2020-01-08 15:16:37 075 [restartedMain] INFO  [INFO] DirectChannel: 64 : Channel 'application.bizMsgFlow.channel#0' has 1 subscriber(s).
2020-01-08 15:16:37 075 [restartedMain] INFO  [INFO] EventDrivenConsumer: 159 : started bizMsgFlow.org.springframework.integration.config.ConsumerEndpointFactoryBean#0
2020-01-08 15:16:37 075 [restartedMain] INFO  [INFO] EventDrivenConsumer: 107 : Adding {service-activator} as a subscriber to the 'bizMsgFlow.channel#1' channel
2020-01-08 15:16:37 075 [restartedMain] INFO  [INFO] ExecutorChannel: 64 : Channel 'application.bizMsgFlow.channel#1' has 1 subscriber(s).
2020-01-08 15:16:37 075 [restartedMain] INFO  [INFO] EventDrivenConsumer: 159 : started bizMsgFlow.org.springframework.integration.config.ConsumerEndpointFactoryBean#1
2020-01-08 15:16:37 075 [restartedMain] INFO  [INFO] EventDrivenConsumer: 107 : Adding {router} as a subscriber to the 'bizMsgFlow.channel#2' channel
2020-01-08 15:16:37 075 [restartedMain] INFO  [INFO] DirectChannel: 64 : Channel 'application.bizMsgFlow.channel#2' has 1 subscriber(s).
2020-01-08 15:16:37 076 [restartedMain] INFO  [INFO] EventDrivenConsumer: 159 : started bizMsgFlow.org.springframework.integration.config.ConsumerEndpointFactoryBean#2
2020-01-08 15:16:37 076 [restartedMain] INFO  [INFO] EventDrivenConsumer: 107 : Adding {service-activator} as a subscriber to the 'bizMsgFlow.subFlow#0.channel#0' channel
2020-01-08 15:16:37 076 [restartedMain] INFO  [INFO] DirectChannel: 64 : Channel 'application.bizMsgFlow.subFlow#0.channel#0' has 1 subscriber(s).
2020-01-08 15:16:37 076 [restartedMain] INFO  [INFO] EventDrivenConsumer: 159 : started bizMsgFlow.subFlow#0.org.springframework.integration.config.ConsumerEndpointFactoryBean#0
2020-01-08 15:16:37 076 [restartedMain] INFO  [INFO] EventDrivenConsumer: 107 : Adding {service-activator} as a subscriber to the 'bizMsgFlow.subFlow#1.channel#0' channel
2020-01-08 15:16:37 076 [restartedMain] INFO  [INFO] DirectChannel: 64 : Channel 'application.bizMsgFlow.subFlow#1.channel#0' has 1 subscriber(s).
2020-01-08 15:16:37 077 [restartedMain] INFO  [INFO] EventDrivenConsumer: 159 : started bizMsgFlow.subFlow#1.org.springframework.integration.config.ConsumerEndpointFactoryBean#0
2020-01-08 15:16:37 077 [restartedMain] INFO  [INFO] EventDrivenConsumer: 107 : Adding {service-activator} as a subscriber to the 'bizMsgFlow.subFlow#2.channel#0' channel
2020-01-08 15:16:37 077 [restartedMain] INFO  [INFO] DirectChannel: 64 : Channel 'application.bizMsgFlow.subFlow#2.channel#0' has 1 subscriber(s).
2020-01-08 15:16:37 077 [restartedMain] INFO  [INFO] EventDrivenConsumer: 159 : started bizMsgFlow.subFlow#2.org.springframework.integration.config.ConsumerEndpointFactoryBean#0
2020-01-08 15:16:37 077 [restartedMain] INFO  [INFO] EventDrivenConsumer: 107 : Adding {service-activator} as a subscriber to the 'bizMsgFlow.subFlow#3.channel#0' channel
2020-01-08 15:16:37 077 [restartedMain] INFO  [INFO] DirectChannel: 64 : Channel 'application.bizMsgFlow.subFlow#3.channel#0' has 1 subscriber(s).
2020-01-08 15:16:37 077 [restartedMain] INFO  [INFO] EventDrivenConsumer: 159 : started bizMsgFlow.subFlow#3.org.springframework.integration.config.ConsumerEndpointFactoryBean#0
2020-01-08 15:16:37 077 [restartedMain] INFO  [INFO] EventDrivenConsumer: 107 : Adding {bridge} as a subscriber to the 'bizMsgFlow.channel#3' channel
2020-01-08 15:16:37 077 [restartedMain] INFO  [INFO] DirectChannel: 64 : Channel 'application.bizMsgFlow.channel#3' has 1 subscriber(s).
2020-01-08 15:16:37 078 [restartedMain] INFO  [INFO] EventDrivenConsumer: 159 : started bizMsgFlow.org.springframework.integration.config.ConsumerEndpointFactoryBean#3
2020-01-08 15:16:37 078 [restartedMain] INFO  [INFO] EventDrivenConsumer: 107 : Adding {message-handler:mqttSpringIntegration.mqttOutbound.serviceActivator} as a subscriber to the 'mqttOutboundChannel' channel
2020-01-08 15:16:37 079 [restartedMain] INFO  [INFO] DirectChannel: 64 : Channel 'application.mqttOutboundChannel' has 1 subscriber(s).
2020-01-08 15:16:37 079 [restartedMain] INFO  [INFO] EventDrivenConsumer: 159 : started mqttSpringIntegration.mqttOutbound.serviceActivator
2020-01-08 15:16:37 079 [restartedMain] INFO  [INFO] GatewayProxyFactoryBean$MethodInvocationGateway: 159 : started mqttPublisher
2020-01-08 15:16:37 080 [restartedMain] INFO  [INFO] GatewayProxyFactoryBean: 159 : started mqttPublisher
2020-01-08 15:16:37 085 [restartedMain] INFO  [INFO] Http11NioProtocol: 173 : Starting ProtocolHandler ["http-nio-9090"]
2020-01-08 15:16:37 103 [restartedMain] INFO  [INFO] TomcatWebServer: 202 : Tomcat started on port(s): 9090 (http) with context path ''
2020-01-08 15:16:37 107 [restartedMain] INFO  [INFO] SpringIntegrationApplication: 59 : Started SpringIntegrationApplication in 3.655 seconds (JVM running for 5.176)
2020-01-08 15:16:41 966 [mqtt-biz-pool-0] INFO  [INFO] MessageTransferUtil: 74 : received biz message, header:{mqtt_receivedRetained=false, id=65186137-ceb8-90e0-5349-d07563274c9e, mqtt_duplicate=false, mqtt_receivedTopic=kunbu/biz/98D863BE7116/inf/, mqtt_receivedQos=1, timestamp=1578467801964}, payload:{       "mt":"J00",
       "dt":"0F060B0B",
       "elem":[
           {"id":"operationMode","data":"432804"},
           {"id":"burningStateDHW","data":"30"},
           {"id":"burningStateCH","data":"31"},
           {"id":"temperatureUnit","data":"30"},
          {"id":"waterPressureUnit","data":"31"},
           {"id":"hotWaterTempSetting","data":"34"},
           {"id":"heatingTempSetting","data":"2D"},
           {"id":"waterPressure","data":"0000"},
           {"id":"errorCode","data":"0"},
          {"id":"hotWaterTempBound","data":"3C25"},
           {"id":"heatingTempBound","data":"5228"}
        ],
        "lt":"2019-12-20T09:35:30+08:00"
 }
2020-01-08 15:16:42 035 [mqtt-biz-pool-0] INFO  [INFO] J00MessageService: 27 : >>> handleDeviceInfo, message：J00Message{elem=[{key='null', value='null'}, {key='null', value='null'}, {key='null', value='null'}, {key='null', value='null'}, {key='null', value='null'}, {key='null', value='null'}, {key='null', value='null'}, {key='null', value='null'}, {key='null', value='null'}, {key='null', value='null'}, {key='null', value='null'}]} BizMessage{mt='J00', dt='0F060B0B', lt='2019-12-20T09:35:30+08:00', bizMsgTypeEnum=J00, deviceType=GB, productTypeEnum=HEAT_OVEN, bizId='98D863BE7116'} {, topicItems=[kunbu, biz, 98D863BE7116, inf]}
2020-01-08 15:22:23 194 [MQTT Rec: consumer-biz-subscriber] ERROR [ERROR] MqttPahoMessageDrivenChannelAdapter: 327 : Lost connection: 已断开连接; retrying...
2020-01-08 15:22:23 194 [MQTT Rec: consumer-sys-subscriber] ERROR [ERROR] MqttPahoMessageDrivenChannelAdapter: 327 : Lost connection: 已断开连接; retrying...
2020-01-08 15:22:37 211 [task-scheduler-1] ERROR [ERROR] MqttPahoMessageDrivenChannelAdapter: 264 : Error connecting or subscribing to [kunbu/biz/+/bsc/, kunbu/biz/+/log/, kunbu/biz/+/inf/]
org.eclipse.paho.client.mqttv3.MqttException: 无法连接至服务器
	at org.eclipse.paho.client.mqttv3.internal.TCPNetworkModule.start(TCPNetworkModule.java:94) ~[org.eclipse.paho.client.mqttv3-1.2.0.jar:?]
	at org.eclipse.paho.client.mqttv3.internal.ClientComms$ConnectBG.run(ClientComms.java:701) ~[org.eclipse.paho.client.mqttv3-1.2.0.jar:?]
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511) [?:1.8.0_181]
	at java.util.concurrent.FutureTask.run(FutureTask.java:266) [?:1.8.0_181]
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180) [?:1.8.0_181]
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293) [?:1.8.0_181]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [?:1.8.0_181]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [?:1.8.0_181]
	at java.lang.Thread.run(Thread.java:748) [?:1.8.0_181]
Caused by: java.net.ConnectException: Connection refused: connect
	at java.net.DualStackPlainSocketImpl.waitForConnect(Native Method) ~[?:1.8.0_181]
	at java.net.DualStackPlainSocketImpl.socketConnect(DualStackPlainSocketImpl.java:85) ~[?:1.8.0_181]
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350) ~[?:1.8.0_181]
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206) ~[?:1.8.0_181]
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188) ~[?:1.8.0_181]
	at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:172) ~[?:1.8.0_181]
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392) ~[?:1.8.0_181]
	at java.net.Socket.connect(Socket.java:589) ~[?:1.8.0_181]
	at org.eclipse.paho.client.mqttv3.internal.TCPNetworkModule.start(TCPNetworkModule.java:84) ~[org.eclipse.paho.client.mqttv3-1.2.0.jar:?]
	... 8 more
2020-01-08 15:22:37 216 [task-scheduler-1] ERROR [ERROR] MqttPahoMessageDrivenChannelAdapter: 314 : Exception while connecting and subscribing
org.eclipse.paho.client.mqttv3.MqttException: 无法连接至服务器
	at org.eclipse.paho.client.mqttv3.internal.TCPNetworkModule.start(TCPNetworkModule.java:94) ~[org.eclipse.paho.client.mqttv3-1.2.0.jar:?]
	at org.eclipse.paho.client.mqttv3.internal.ClientComms$ConnectBG.run(ClientComms.java:701) ~[org.eclipse.paho.client.mqttv3-1.2.0.jar:?]
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511) [?:1.8.0_181]
	at java.util.concurrent.FutureTask.run(FutureTask.java:266) [?:1.8.0_181]
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180) [?:1.8.0_181]
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293) [?:1.8.0_181]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [?:1.8.0_181]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [?:1.8.0_181]
	at java.lang.Thread.run(Thread.java:748) [?:1.8.0_181]
Caused by: java.net.ConnectException: Connection refused: connect
	at java.net.DualStackPlainSocketImpl.waitForConnect(Native Method) ~[?:1.8.0_181]
	at java.net.DualStackPlainSocketImpl.socketConnect(DualStackPlainSocketImpl.java:85) ~[?:1.8.0_181]
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350) ~[?:1.8.0_181]
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206) ~[?:1.8.0_181]
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188) ~[?:1.8.0_181]
	at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:172) ~[?:1.8.0_181]
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392) ~[?:1.8.0_181]
	at java.net.Socket.connect(Socket.java:589) ~[?:1.8.0_181]
	at org.eclipse.paho.client.mqttv3.internal.TCPNetworkModule.start(TCPNetworkModule.java:84) ~[org.eclipse.paho.client.mqttv3-1.2.0.jar:?]
	... 8 more
2020-01-08 15:22:37 219 [task-scheduler-2] ERROR [ERROR] MqttPahoMessageDrivenChannelAdapter: 264 : Error connecting or subscribing to [$SYS/brokers/+/client/+/connected, $SYS/brokers/+/client/+/disconnected]
org.eclipse.paho.client.mqttv3.MqttException: 无法连接至服务器
	at org.eclipse.paho.client.mqttv3.internal.TCPNetworkModule.start(TCPNetworkModule.java:94) ~[org.eclipse.paho.client.mqttv3-1.2.0.jar:?]
	at org.eclipse.paho.client.mqttv3.internal.ClientComms$ConnectBG.run(ClientComms.java:701) ~[org.eclipse.paho.client.mqttv3-1.2.0.jar:?]
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511) [?:1.8.0_181]
	at java.util.concurrent.FutureTask.run(FutureTask.java:266) [?:1.8.0_181]
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180) [?:1.8.0_181]
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293) [?:1.8.0_181]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [?:1.8.0_181]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [?:1.8.0_181]
	at java.lang.Thread.run(Thread.java:748) [?:1.8.0_181]
Caused by: java.net.ConnectException: Connection refused: connect
	at java.net.DualStackPlainSocketImpl.waitForConnect(Native Method) ~[?:1.8.0_181]
	at java.net.DualStackPlainSocketImpl.socketConnect(DualStackPlainSocketImpl.java:85) ~[?:1.8.0_181]
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350) ~[?:1.8.0_181]
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206) ~[?:1.8.0_181]
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188) ~[?:1.8.0_181]
	at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:172) ~[?:1.8.0_181]
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392) ~[?:1.8.0_181]
	at java.net.Socket.connect(Socket.java:589) ~[?:1.8.0_181]
	at org.eclipse.paho.client.mqttv3.internal.TCPNetworkModule.start(TCPNetworkModule.java:84) ~[org.eclipse.paho.client.mqttv3-1.2.0.jar:?]
	... 8 more
2020-01-08 15:22:37 220 [task-scheduler-2] ERROR [ERROR] MqttPahoMessageDrivenChannelAdapter: 314 : Exception while connecting and subscribing
org.eclipse.paho.client.mqttv3.MqttException: 无法连接至服务器
	at org.eclipse.paho.client.mqttv3.internal.TCPNetworkModule.start(TCPNetworkModule.java:94) ~[org.eclipse.paho.client.mqttv3-1.2.0.jar:?]
	at org.eclipse.paho.client.mqttv3.internal.ClientComms$ConnectBG.run(ClientComms.java:701) ~[org.eclipse.paho.client.mqttv3-1.2.0.jar:?]
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511) [?:1.8.0_181]
	at java.util.concurrent.FutureTask.run(FutureTask.java:266) [?:1.8.0_181]
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180) [?:1.8.0_181]
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293) [?:1.8.0_181]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [?:1.8.0_181]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [?:1.8.0_181]
	at java.lang.Thread.run(Thread.java:748) [?:1.8.0_181]
Caused by: java.net.ConnectException: Connection refused: connect
	at java.net.DualStackPlainSocketImpl.waitForConnect(Native Method) ~[?:1.8.0_181]
	at java.net.DualStackPlainSocketImpl.socketConnect(DualStackPlainSocketImpl.java:85) ~[?:1.8.0_181]
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350) ~[?:1.8.0_181]
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206) ~[?:1.8.0_181]
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188) ~[?:1.8.0_181]
	at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:172) ~[?:1.8.0_181]
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392) ~[?:1.8.0_181]
	at java.net.Socket.connect(Socket.java:589) ~[?:1.8.0_181]
	at org.eclipse.paho.client.mqttv3.internal.TCPNetworkModule.start(TCPNetworkModule.java:84) ~[org.eclipse.paho.client.mqttv3-1.2.0.jar:?]
	... 8 more
2020-01-08 15:23:02 615 [mqtt-biz-pool-1] INFO  [INFO] MessageTransferUtil: 74 : received biz message, header:{mqtt_receivedRetained=false, id=3bb0e457-3414-b98c-a31f-03f15e0ddca2, mqtt_duplicate=false, mqtt_receivedTopic=kunbu/biz/98D863BE7116/inf/, mqtt_receivedQos=1, timestamp=1578468182613}, payload:{       "mt":"J00",
       "dt":"0F060B0B",
       "elem":[
           {"id":"operationMode","data":"432804"},
           {"id":"burningStateDHW","data":"30"},
           {"id":"burningStateCH","data":"31"},
           {"id":"temperatureUnit","data":"30"},
          {"id":"waterPressureUnit","data":"31"},
           {"id":"hotWaterTempSetting","data":"34"},
           {"id":"heatingTempSetting","data":"2D"},
           {"id":"waterPressure","data":"0000"},
           {"id":"errorCode","data":"0"},
          {"id":"hotWaterTempBound","data":"3C25"},
           {"id":"heatingTempBound","data":"5228"}
        ],
        "lt":"2019-12-20T09:35:30+08:00"
 }
2020-01-08 15:23:02 616 [mqtt-biz-pool-1] INFO  [INFO] J00MessageService: 27 : >>> handleDeviceInfo, message：J00Message{elem=[{key='null', value='null'}, {key='null', value='null'}, {key='null', value='null'}, {key='null', value='null'}, {key='null', value='null'}, {key='null', value='null'}, {key='null', value='null'}, {key='null', value='null'}, {key='null', value='null'}, {key='null', value='null'}, {key='null', value='null'}]} BizMessage{mt='J00', dt='0F060B0B', lt='2019-12-20T09:35:30+08:00', bizMsgTypeEnum=J00, deviceType=GB, productTypeEnum=HEAT_OVEN, bizId='98D863BE7116'} {, topicItems=[kunbu, biz, 98D863BE7116, inf]}
2020-01-08 15:24:16 436 [main] INFO  [INFO] SpringIntegrationApplication: 37 : 
=========================================================
                                                         
          Welcome to Spring Integration!                 
                                                         
    For more information please visit:                   
    https://spring.io/projects/spring-integration        
                                                         
                                                         
    这是一个基于MQTT订阅的消息处理服务 -                     
    订阅关键的TOPIC，将收到的mqtt消息处理并最终写入数据        
=========================================================
2020-01-08 15:24:16 576 [restartedMain] INFO  [INFO] SpringIntegrationApplication: 37 : 
=========================================================
                                                         
          Welcome to Spring Integration!                 
                                                         
    For more information please visit:                   
    https://spring.io/projects/spring-integration        
                                                         
                                                         
    这是一个基于MQTT订阅的消息处理服务 -                     
    订阅关键的TOPIC，将收到的mqtt消息处理并最终写入数据        
=========================================================
2020-01-08 15:24:17 008 [restartedMain] INFO  [INFO] SpringIntegrationApplication: 50 : Starting SpringIntegrationApplication on DESKTOP-QA9ODS5 with PID 4560 (D:\kunbu\spring-integration\target\classes started by mojun in D:\kunbu\spring-integration)
2020-01-08 15:24:17 009 [restartedMain] INFO  [INFO] SpringIntegrationApplication: 648 : No active profile set, falling back to default profiles: default
2020-01-08 15:24:17 056 [restartedMain] INFO  [INFO] DevToolsPropertyDefaultsPostProcessor: 225 : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2020-01-08 15:24:17 057 [restartedMain] INFO  [INFO] DevToolsPropertyDefaultsPostProcessor: 225 : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2020-01-08 15:24:17 731 [restartedMain] INFO  [INFO] RepositoryConfigurationDelegate: 126 : Bootstrapping Spring Data repositories in DEFAULT mode.
2020-01-08 15:24:17 755 [restartedMain] INFO  [INFO] RepositoryConfigurationDelegate: 182 : Finished Spring Data repository scanning in 21ms. Found 0 repository interfaces.
2020-01-08 15:24:17 931 [restartedMain] INFO  [INFO] DefaultConfiguringBeanFactoryPostProcessor: 193 : No bean named 'errorChannel' has been explicitly defined. Therefore, a default PublishSubscribeChannel will be created.
2020-01-08 15:24:17 937 [restartedMain] INFO  [INFO] DefaultConfiguringBeanFactoryPostProcessor: 280 : No bean named 'taskScheduler' has been explicitly defined. Therefore, a default ThreadPoolTaskScheduler will be created.
2020-01-08 15:24:17 941 [restartedMain] INFO  [INFO] DefaultConfiguringBeanFactoryPostProcessor: 431 : No bean named 'integrationHeaderChannelRegistry' has been explicitly defined. Therefore, a default DefaultHeaderChannelRegistry will be created.
2020-01-08 15:24:18 015 [restartedMain] INFO  [INFO] PostProcessorRegistrationDelegate$BeanPostProcessorChecker: 330 : Bean 'org.springframework.integration.config.IntegrationManagementConfiguration' of type [org.springframework.integration.config.IntegrationManagementConfiguration$$EnhancerBySpringCGLIB$$eb458795] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-01-08 15:24:18 027 [restartedMain] INFO  [INFO] PostProcessorRegistrationDelegate$BeanPostProcessorChecker: 330 : Bean 'integrationDisposableAutoCreatedBeans' of type [org.springframework.integration.config.annotation.Disposables] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-01-08 15:24:18 274 [restartedMain] INFO  [INFO] TomcatWebServer: 90 : Tomcat initialized with port(s): 9090 (http)
2020-01-08 15:24:18 286 [restartedMain] INFO  [INFO] Http11NioProtocol: 173 : Initializing ProtocolHandler ["http-nio-9090"]
2020-01-08 15:24:18 293 [restartedMain] INFO  [INFO] StandardService: 173 : Starting service [Tomcat]
2020-01-08 15:24:18 294 [restartedMain] INFO  [INFO] StandardEngine: 173 : Starting Servlet engine: [Apache Tomcat/9.0.26]
2020-01-08 15:24:18 402 [restartedMain] INFO  [INFO] [/]: 173 : Initializing Spring embedded WebApplicationContext
2020-01-08 15:24:18 402 [restartedMain] INFO  [INFO] ContextLoader: 284 : Root WebApplicationContext: initialization completed in 1344 ms
2020-01-08 15:24:19 360 [restartedMain] INFO  [INFO] cluster: 71 : Cluster created with settings {hosts=[localhost:27017], mode=SINGLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}
2020-01-08 15:24:19 397 [cluster-ClusterId{value='5e1583a3f4ac9c11d0a442b4', description='null'}-localhost:27017] INFO  [INFO] connection: 71 : Opened connection [connectionId{localValue:1, serverValue:47}] to localhost:27017
2020-01-08 15:24:19 400 [cluster-ClusterId{value='5e1583a3f4ac9c11d0a442b4', description='null'}-localhost:27017] INFO  [INFO] cluster: 71 : Monitor thread successfully connected to server with description ServerDescription{address=localhost:27017, type=STANDALONE, state=CONNECTED, ok=true, version=ServerVersion{versionList=[3, 6, 12]}, minWireVersion=0, maxWireVersion=6, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=2052900}
2020-01-08 15:24:19 445 [restartedMain] WARN  [WARN] CustomConversions: 207 : Registering converter from class java.time.LocalDateTime to class java.time.Instant as reading converter although it doesn't convert from a store-supported type! You might wanna check you annotation setup at the converter implementation.
2020-01-08 15:24:19 446 [restartedMain] WARN  [WARN] CustomConversions: 207 : Registering converter from class java.time.Instant to class java.time.LocalDateTime as reading converter although it doesn't convert from a store-supported type! You might wanna check you annotation setup at the converter implementation.
2020-01-08 15:24:19 531 [restartedMain] INFO  [INFO] OptionalLiveReloadServer: 57 : LiveReload server is running on port 35729
2020-01-08 15:24:19 550 [restartedMain] WARN  [WARN] CustomConversions: 207 : Registering converter from class java.time.LocalDateTime to class java.time.Instant as reading converter although it doesn't convert from a store-supported type! You might wanna check you annotation setup at the converter implementation.
2020-01-08 15:24:19 551 [restartedMain] WARN  [WARN] CustomConversions: 207 : Registering converter from class java.time.Instant to class java.time.LocalDateTime as reading converter although it doesn't convert from a store-supported type! You might wanna check you annotation setup at the converter implementation.
2020-01-08 15:24:19 595 [restartedMain] INFO  [INFO] connection: 71 : Opened connection [connectionId{localValue:2, serverValue:48}] to localhost:27017
2020-01-08 15:24:19 934 [restartedMain] INFO  [INFO] ThreadPoolTaskExecutor: 171 : Initializing ExecutorService 'applicationTaskExecutor'
2020-01-08 15:24:20 039 [restartedMain] INFO  [INFO] ThreadPoolTaskScheduler: 171 : Initializing ExecutorService 'taskScheduler'
2020-01-08 15:24:20 218 [restartedMain] INFO  [INFO] EventDrivenConsumer: 107 : Adding {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2020-01-08 15:24:20 219 [restartedMain] INFO  [INFO] PublishSubscribeChannel: 64 : Channel 'application.errorChannel' has 1 subscriber(s).
2020-01-08 15:24:20 219 [restartedMain] INFO  [INFO] EventDrivenConsumer: 159 : started _org.springframework.integration.errorLogger
2020-01-08 15:24:20 250 [restartedMain] INFO  [INFO] MqttPahoMessageDrivenChannelAdapter: 159 : started sysInbound
2020-01-08 15:24:20 251 [restartedMain] INFO  [INFO] EventDrivenConsumer: 107 : Adding {bridge} as a subscriber to the 'sysMsgFlow.channel#0' channel
2020-01-08 15:24:20 251 [restartedMain] INFO  [INFO] DirectChannel: 64 : Channel 'application.sysMsgFlow.channel#0' has 1 subscriber(s).
2020-01-08 15:24:20 251 [restartedMain] INFO  [INFO] EventDrivenConsumer: 159 : started sysMsgFlow.org.springframework.integration.config.ConsumerEndpointFactoryBean#0
2020-01-08 15:24:20 251 [restartedMain] INFO  [INFO] EventDrivenConsumer: 107 : Adding {service-activator} as a subscriber to the 'sysMsgFlow.channel#1' channel
2020-01-08 15:24:20 251 [restartedMain] INFO  [INFO] ExecutorChannel: 64 : Channel 'application.sysMsgFlow.channel#1' has 1 subscriber(s).
2020-01-08 15:24:20 251 [restartedMain] INFO  [INFO] EventDrivenConsumer: 159 : started sysMsgFlow.org.springframework.integration.config.ConsumerEndpointFactoryBean#1
2020-01-08 15:24:20 252 [restartedMain] INFO  [INFO] EventDrivenConsumer: 107 : Adding {service-activator} as a subscriber to the 'sysMsgFlow.channel#2' channel
2020-01-08 15:24:20 252 [restartedMain] INFO  [INFO] DirectChannel: 64 : Channel 'application.sysMsgFlow.channel#2' has 1 subscriber(s).
2020-01-08 15:24:20 252 [restartedMain] INFO  [INFO] EventDrivenConsumer: 159 : started sysMsgFlow.org.springframework.integration.config.ConsumerEndpointFactoryBean#2
2020-01-08 15:24:20 252 [restartedMain] INFO  [INFO] EventDrivenConsumer: 107 : Adding {filter} as a subscriber to the 'sysMsgFlow.channel#3' channel
2020-01-08 15:24:20 252 [restartedMain] INFO  [INFO] DirectChannel: 64 : Channel 'application.sysMsgFlow.channel#3' has 1 subscriber(s).
2020-01-08 15:24:20 252 [restartedMain] INFO  [INFO] EventDrivenConsumer: 159 : started sysMsgFlow.org.springframework.integration.config.ConsumerEndpointFactoryBean#3
2020-01-08 15:24:20 252 [restartedMain] INFO  [INFO] EventDrivenConsumer: 107 : Adding {mqtt:outbound-channel-adapter} as a subscriber to the 'sysMsgFlow.channel#4' channel
2020-01-08 15:24:20 252 [restartedMain] INFO  [INFO] DirectChannel: 64 : Channel 'application.sysMsgFlow.channel#4' has 1 subscriber(s).
2020-01-08 15:24:20 253 [restartedMain] INFO  [INFO] EventDrivenConsumer: 159 : started sysMsgFlow.org.springframework.integration.config.ConsumerEndpointFactoryBean#4
2020-01-08 15:24:20 256 [restartedMain] INFO  [INFO] MqttPahoMessageDrivenChannelAdapter: 159 : started bizInbound
2020-01-08 15:24:20 257 [restartedMain] INFO  [INFO] EventDrivenConsumer: 107 : Adding {bridge} as a subscriber to the 'bizMsgFlow.channel#0' channel
2020-01-08 15:24:20 257 [restartedMain] INFO  [INFO] DirectChannel: 64 : Channel 'application.bizMsgFlow.channel#0' has 1 subscriber(s).
2020-01-08 15:24:20 257 [restartedMain] INFO  [INFO] EventDrivenConsumer: 159 : started bizMsgFlow.org.springframework.integration.config.ConsumerEndpointFactoryBean#0
2020-01-08 15:24:20 257 [restartedMain] INFO  [INFO] EventDrivenConsumer: 107 : Adding {service-activator} as a subscriber to the 'bizMsgFlow.channel#1' channel
2020-01-08 15:24:20 257 [restartedMain] INFO  [INFO] ExecutorChannel: 64 : Channel 'application.bizMsgFlow.channel#1' has 1 subscriber(s).
2020-01-08 15:24:20 257 [restartedMain] INFO  [INFO] EventDrivenConsumer: 159 : started bizMsgFlow.org.springframework.integration.config.ConsumerEndpointFactoryBean#1
2020-01-08 15:24:20 257 [restartedMain] INFO  [INFO] EventDrivenConsumer: 107 : Adding {router} as a subscriber to the 'bizMsgFlow.channel#2' channel
2020-01-08 15:24:20 257 [restartedMain] INFO  [INFO] DirectChannel: 64 : Channel 'application.bizMsgFlow.channel#2' has 1 subscriber(s).
2020-01-08 15:24:20 258 [restartedMain] INFO  [INFO] EventDrivenConsumer: 159 : started bizMsgFlow.org.springframework.integration.config.ConsumerEndpointFactoryBean#2
2020-01-08 15:24:20 258 [restartedMain] INFO  [INFO] EventDrivenConsumer: 107 : Adding {service-activator} as a subscriber to the 'bizMsgFlow.subFlow#0.channel#0' channel
2020-01-08 15:24:20 258 [restartedMain] INFO  [INFO] DirectChannel: 64 : Channel 'application.bizMsgFlow.subFlow#0.channel#0' has 1 subscriber(s).
2020-01-08 15:24:20 258 [restartedMain] INFO  [INFO] EventDrivenConsumer: 159 : started bizMsgFlow.subFlow#0.org.springframework.integration.config.ConsumerEndpointFactoryBean#0
2020-01-08 15:24:20 258 [restartedMain] INFO  [INFO] EventDrivenConsumer: 107 : Adding {service-activator} as a subscriber to the 'bizMsgFlow.subFlow#1.channel#0' channel
2020-01-08 15:24:20 258 [restartedMain] INFO  [INFO] DirectChannel: 64 : Channel 'application.bizMsgFlow.subFlow#1.channel#0' has 1 subscriber(s).
2020-01-08 15:24:20 258 [restartedMain] INFO  [INFO] EventDrivenConsumer: 159 : started bizMsgFlow.subFlow#1.org.springframework.integration.config.ConsumerEndpointFactoryBean#0
2020-01-08 15:24:20 259 [restartedMain] INFO  [INFO] EventDrivenConsumer: 107 : Adding {service-activator} as a subscriber to the 'bizMsgFlow.subFlow#2.channel#0' channel
2020-01-08 15:24:20 259 [restartedMain] INFO  [INFO] DirectChannel: 64 : Channel 'application.bizMsgFlow.subFlow#2.channel#0' has 1 subscriber(s).
2020-01-08 15:24:20 259 [restartedMain] INFO  [INFO] EventDrivenConsumer: 159 : started bizMsgFlow.subFlow#2.org.springframework.integration.config.ConsumerEndpointFactoryBean#0
2020-01-08 15:24:20 259 [restartedMain] INFO  [INFO] EventDrivenConsumer: 107 : Adding {service-activator} as a subscriber to the 'bizMsgFlow.subFlow#3.channel#0' channel
2020-01-08 15:24:20 259 [restartedMain] INFO  [INFO] DirectChannel: 64 : Channel 'application.bizMsgFlow.subFlow#3.channel#0' has 1 subscriber(s).
2020-01-08 15:24:20 259 [restartedMain] INFO  [INFO] EventDrivenConsumer: 159 : started bizMsgFlow.subFlow#3.org.springframework.integration.config.ConsumerEndpointFactoryBean#0
2020-01-08 15:24:20 259 [restartedMain] INFO  [INFO] EventDrivenConsumer: 107 : Adding {bridge} as a subscriber to the 'bizMsgFlow.channel#3' channel
2020-01-08 15:24:20 259 [restartedMain] INFO  [INFO] DirectChannel: 64 : Channel 'application.bizMsgFlow.channel#3' has 1 subscriber(s).
2020-01-08 15:24:20 260 [restartedMain] INFO  [INFO] EventDrivenConsumer: 159 : started bizMsgFlow.org.springframework.integration.config.ConsumerEndpointFactoryBean#3
2020-01-08 15:24:20 260 [restartedMain] INFO  [INFO] EventDrivenConsumer: 107 : Adding {message-handler:mqttSpringIntegration.mqttOutbound.serviceActivator} as a subscriber to the 'mqttOutboundChannel' channel
2020-01-08 15:24:20 261 [restartedMain] INFO  [INFO] DirectChannel: 64 : Channel 'application.mqttOutboundChannel' has 1 subscriber(s).
2020-01-08 15:24:20 261 [restartedMain] INFO  [INFO] EventDrivenConsumer: 159 : started mqttSpringIntegration.mqttOutbound.serviceActivator
2020-01-08 15:24:20 261 [restartedMain] INFO  [INFO] GatewayProxyFactoryBean$MethodInvocationGateway: 159 : started mqttPublisher
2020-01-08 15:24:20 261 [restartedMain] INFO  [INFO] GatewayProxyFactoryBean: 159 : started mqttPublisher
2020-01-08 15:24:20 268 [restartedMain] INFO  [INFO] Http11NioProtocol: 173 : Starting ProtocolHandler ["http-nio-9090"]
2020-01-08 15:24:20 285 [restartedMain] INFO  [INFO] TomcatWebServer: 202 : Tomcat started on port(s): 9090 (http) with context path ''
2020-01-08 15:24:20 287 [restartedMain] INFO  [INFO] SpringIntegrationApplication: 59 : Started SpringIntegrationApplication in 3.703 seconds (JVM running for 5.211)
2020-01-08 15:24:37 383 [mqtt-biz-pool-0] INFO  [INFO] MessageTransferUtil: 74 : received biz message, header:{mqtt_receivedRetained=false, id=2691d162-33ee-ffed-2b2c-88b8b7678abc, mqtt_duplicate=false, mqtt_receivedTopic=kunbu/biz/98D863BE7116/inf/, mqtt_receivedQos=1, timestamp=1578468277379}, payload:{       "mt":"J00",
       "dt":"0F060B0B",
       "elem":[
           {"id":"operationMode","data":"432804"},
           {"id":"burningStateDHW","data":"30"},
           {"id":"burningStateCH","data":"31"},
           {"id":"temperatureUnit","data":"30"},
          {"id":"waterPressureUnit","data":"31"},
           {"id":"hotWaterTempSetting","data":"34"},
           {"id":"heatingTempSetting","data":"2D"},
           {"id":"waterPressure","data":"0000"},
           {"id":"errorCode","data":"0"},
          {"id":"hotWaterTempBound","data":"3C25"},
           {"id":"heatingTempBound","data":"5228"}
        ],
        "lt":"2019-12-20T09:35:30+08:00"
 }
2020-01-08 15:24:37 452 [mqtt-biz-pool-0] INFO  [INFO] J00MessageService: 27 : >>> handleDeviceInfo, message：J00Message{elem=[{key='null', value='null'}, {key='null', value='null'}, {key='null', value='null'}, {key='null', value='null'}, {key='null', value='null'}, {key='null', value='null'}, {key='null', value='null'}, {key='null', value='null'}, {key='null', value='null'}, {key='null', value='null'}, {key='null', value='null'}]} BizMessage{mt='J00', dt='0F060B0B', lt='2019-12-20T09:35:30+08:00', bizMsgTypeEnum=J00, deviceType=GB, productTypeEnum=HEAT_OVEN, bizId='98D863BE7116'} {, topicItems=[kunbu, biz, 98D863BE7116, inf]}
2020-01-08 15:25:19 240 [mqtt-biz-pool-1] INFO  [INFO] MessageTransferUtil: 74 : received biz message, header:{mqtt_receivedRetained=false, id=31caedd7-5cad-435c-8371-e936e6177fca, mqtt_duplicate=false, mqtt_receivedTopic=kunbu/biz/98D863BE7116/inf/, mqtt_receivedQos=1, timestamp=1578468319239}, payload:{       "mt":"J00",
       "dt":"0F060B0B",
       "elem":[
{"key":"operationMode","value":"432804"},
          {"key":"burningStateDHW","value":"30"},
          {"key":"burningStateCH","value":"31"},
         {"key":"temperatureUnit","value":"30"},
          {"key":"waterPressureUnit","value":"31"},
          {"key":"hotWaterTempSetting","value":"34"},
         {"key":"heatingTempSetting","value":"2D"},
         {"key":"waterPressure","value":"0000"},
         {"key":"errorCode","value":"0"},
         {"key":"hotWaterTempBound","value":"3C25"},
       {"key":"heatingTempBound","value":"5228"}
        ],
        "lt":"2019-12-20T09:35:30+08:00"
 }
2020-01-08 15:25:19 241 [mqtt-biz-pool-1] INFO  [INFO] J00MessageService: 27 : >>> handleDeviceInfo, message：J00Message{elem=[{key='operationMode', value='432804'}, {key='burningStateDHW', value='30'}, {key='burningStateCH', value='31'}, {key='temperatureUnit', value='30'}, {key='waterPressureUnit', value='31'}, {key='hotWaterTempSetting', value='34'}, {key='heatingTempSetting', value='2D'}, {key='waterPressure', value='0000'}, {key='errorCode', value='0'}, {key='hotWaterTempBound', value='3C25'}, {key='heatingTempBound', value='5228'}]} BizMessage{mt='J00', dt='0F060B0B', lt='2019-12-20T09:35:30+08:00', bizMsgTypeEnum=J00, deviceType=GB, productTypeEnum=HEAT_OVEN, bizId='98D863BE7116'} {, topicItems=[kunbu, biz, 98D863BE7116, inf]}
2020-01-08 15:26:44 705 [MQTT Rec: consumer-sys-subscriber] ERROR [ERROR] MqttPahoMessageDrivenChannelAdapter: 327 : Lost connection: 已断开连接; retrying...
2020-01-08 15:26:44 705 [MQTT Rec: consumer-biz-subscriber] ERROR [ERROR] MqttPahoMessageDrivenChannelAdapter: 327 : Lost connection: 已断开连接; retrying...
2020-01-08 15:26:56 733 [task-scheduler-1] ERROR [ERROR] MqttPahoMessageDrivenChannelAdapter: 264 : Error connecting or subscribing to [kunbu/biz/+/bsc/, kunbu/biz/+/log/, kunbu/biz/+/inf/]
org.eclipse.paho.client.mqttv3.MqttException: 无法连接至服务器
	at org.eclipse.paho.client.mqttv3.internal.TCPNetworkModule.start(TCPNetworkModule.java:94) ~[org.eclipse.paho.client.mqttv3-1.2.0.jar:?]
	at org.eclipse.paho.client.mqttv3.internal.ClientComms$ConnectBG.run(ClientComms.java:701) ~[org.eclipse.paho.client.mqttv3-1.2.0.jar:?]
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511) [?:1.8.0_181]
	at java.util.concurrent.FutureTask.run(FutureTask.java:266) [?:1.8.0_181]
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180) [?:1.8.0_181]
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293) [?:1.8.0_181]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [?:1.8.0_181]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [?:1.8.0_181]
	at java.lang.Thread.run(Thread.java:748) [?:1.8.0_181]
Caused by: java.net.ConnectException: Connection refused: connect
	at java.net.DualStackPlainSocketImpl.waitForConnect(Native Method) ~[?:1.8.0_181]
	at java.net.DualStackPlainSocketImpl.socketConnect(DualStackPlainSocketImpl.java:85) ~[?:1.8.0_181]
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350) ~[?:1.8.0_181]
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206) ~[?:1.8.0_181]
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188) ~[?:1.8.0_181]
	at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:172) ~[?:1.8.0_181]
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392) ~[?:1.8.0_181]
	at java.net.Socket.connect(Socket.java:589) ~[?:1.8.0_181]
	at org.eclipse.paho.client.mqttv3.internal.TCPNetworkModule.start(TCPNetworkModule.java:84) ~[org.eclipse.paho.client.mqttv3-1.2.0.jar:?]
	... 8 more
2020-01-08 15:26:56 754 [task-scheduler-1] ERROR [ERROR] MqttPahoMessageDrivenChannelAdapter: 314 : Exception while connecting and subscribing
org.eclipse.paho.client.mqttv3.MqttException: 无法连接至服务器
	at org.eclipse.paho.client.mqttv3.internal.TCPNetworkModule.start(TCPNetworkModule.java:94) ~[org.eclipse.paho.client.mqttv3-1.2.0.jar:?]
	at org.eclipse.paho.client.mqttv3.internal.ClientComms$ConnectBG.run(ClientComms.java:701) ~[org.eclipse.paho.client.mqttv3-1.2.0.jar:?]
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511) [?:1.8.0_181]
	at java.util.concurrent.FutureTask.run(FutureTask.java:266) [?:1.8.0_181]
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180) [?:1.8.0_181]
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293) [?:1.8.0_181]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [?:1.8.0_181]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [?:1.8.0_181]
	at java.lang.Thread.run(Thread.java:748) [?:1.8.0_181]
Caused by: java.net.ConnectException: Connection refused: connect
	at java.net.DualStackPlainSocketImpl.waitForConnect(Native Method) ~[?:1.8.0_181]
	at java.net.DualStackPlainSocketImpl.socketConnect(DualStackPlainSocketImpl.java:85) ~[?:1.8.0_181]
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350) ~[?:1.8.0_181]
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206) ~[?:1.8.0_181]
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188) ~[?:1.8.0_181]
	at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:172) ~[?:1.8.0_181]
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392) ~[?:1.8.0_181]
	at java.net.Socket.connect(Socket.java:589) ~[?:1.8.0_181]
	at org.eclipse.paho.client.mqttv3.internal.TCPNetworkModule.start(TCPNetworkModule.java:84) ~[org.eclipse.paho.client.mqttv3-1.2.0.jar:?]
	... 8 more
2020-01-08 15:26:58 736 [task-scheduler-2] ERROR [ERROR] MqttPahoMessageDrivenChannelAdapter: 264 : Error connecting or subscribing to [$SYS/brokers/+/client/+/connected, $SYS/brokers/+/client/+/disconnected]
org.eclipse.paho.client.mqttv3.MqttException: 无法连接至服务器
	at org.eclipse.paho.client.mqttv3.internal.TCPNetworkModule.start(TCPNetworkModule.java:94) ~[org.eclipse.paho.client.mqttv3-1.2.0.jar:?]
	at org.eclipse.paho.client.mqttv3.internal.ClientComms$ConnectBG.run(ClientComms.java:701) ~[org.eclipse.paho.client.mqttv3-1.2.0.jar:?]
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511) [?:1.8.0_181]
	at java.util.concurrent.FutureTask.run(FutureTask.java:266) [?:1.8.0_181]
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180) [?:1.8.0_181]
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293) [?:1.8.0_181]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [?:1.8.0_181]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [?:1.8.0_181]
	at java.lang.Thread.run(Thread.java:748) [?:1.8.0_181]
Caused by: java.net.ConnectException: Connection refused: connect
	at java.net.DualStackPlainSocketImpl.waitForConnect(Native Method) ~[?:1.8.0_181]
	at java.net.DualStackPlainSocketImpl.socketConnect(DualStackPlainSocketImpl.java:85) ~[?:1.8.0_181]
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350) ~[?:1.8.0_181]
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206) ~[?:1.8.0_181]
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188) ~[?:1.8.0_181]
	at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:172) ~[?:1.8.0_181]
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392) ~[?:1.8.0_181]
	at java.net.Socket.connect(Socket.java:589) ~[?:1.8.0_181]
	at org.eclipse.paho.client.mqttv3.internal.TCPNetworkModule.start(TCPNetworkModule.java:84) ~[org.eclipse.paho.client.mqttv3-1.2.0.jar:?]
	... 8 more
2020-01-08 15:26:58 742 [task-scheduler-2] ERROR [ERROR] MqttPahoMessageDrivenChannelAdapter: 314 : Exception while connecting and subscribing
org.eclipse.paho.client.mqttv3.MqttException: 无法连接至服务器
	at org.eclipse.paho.client.mqttv3.internal.TCPNetworkModule.start(TCPNetworkModule.java:94) ~[org.eclipse.paho.client.mqttv3-1.2.0.jar:?]
	at org.eclipse.paho.client.mqttv3.internal.ClientComms$ConnectBG.run(ClientComms.java:701) ~[org.eclipse.paho.client.mqttv3-1.2.0.jar:?]
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511) [?:1.8.0_181]
	at java.util.concurrent.FutureTask.run(FutureTask.java:266) [?:1.8.0_181]
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180) [?:1.8.0_181]
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293) [?:1.8.0_181]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [?:1.8.0_181]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [?:1.8.0_181]
	at java.lang.Thread.run(Thread.java:748) [?:1.8.0_181]
Caused by: java.net.ConnectException: Connection refused: connect
	at java.net.DualStackPlainSocketImpl.waitForConnect(Native Method) ~[?:1.8.0_181]
	at java.net.DualStackPlainSocketImpl.socketConnect(DualStackPlainSocketImpl.java:85) ~[?:1.8.0_181]
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350) ~[?:1.8.0_181]
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206) ~[?:1.8.0_181]
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188) ~[?:1.8.0_181]
	at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:172) ~[?:1.8.0_181]
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392) ~[?:1.8.0_181]
	at java.net.Socket.connect(Socket.java:589) ~[?:1.8.0_181]
	at org.eclipse.paho.client.mqttv3.internal.TCPNetworkModule.start(TCPNetworkModule.java:84) ~[org.eclipse.paho.client.mqttv3-1.2.0.jar:?]
	... 8 more
2020-01-08 15:27:10 761 [task-scheduler-3] ERROR [ERROR] MqttPahoMessageDrivenChannelAdapter: 264 : Error connecting or subscribing to [$SYS/brokers/+/client/+/connected, $SYS/brokers/+/client/+/disconnected]
org.eclipse.paho.client.mqttv3.MqttException: 无法连接至服务器
	at org.eclipse.paho.client.mqttv3.internal.TCPNetworkModule.start(TCPNetworkModule.java:94) ~[org.eclipse.paho.client.mqttv3-1.2.0.jar:?]
	at org.eclipse.paho.client.mqttv3.internal.ClientComms$ConnectBG.run(ClientComms.java:701) ~[org.eclipse.paho.client.mqttv3-1.2.0.jar:?]
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511) [?:1.8.0_181]
	at java.util.concurrent.FutureTask.run(FutureTask.java:266) [?:1.8.0_181]
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180) [?:1.8.0_181]
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293) [?:1.8.0_181]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [?:1.8.0_181]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [?:1.8.0_181]
	at java.lang.Thread.run(Thread.java:748) [?:1.8.0_181]
Caused by: java.net.ConnectException: Connection refused: connect
	at java.net.DualStackPlainSocketImpl.waitForConnect(Native Method) ~[?:1.8.0_181]
	at java.net.DualStackPlainSocketImpl.socketConnect(DualStackPlainSocketImpl.java:85) ~[?:1.8.0_181]
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350) ~[?:1.8.0_181]
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206) ~[?:1.8.0_181]
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188) ~[?:1.8.0_181]
	at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:172) ~[?:1.8.0_181]
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392) ~[?:1.8.0_181]
	at java.net.Socket.connect(Socket.java:589) ~[?:1.8.0_181]
	at org.eclipse.paho.client.mqttv3.internal.TCPNetworkModule.start(TCPNetworkModule.java:84) ~[org.eclipse.paho.client.mqttv3-1.2.0.jar:?]
	... 8 more
2020-01-08 15:27:10 767 [task-scheduler-3] ERROR [ERROR] MqttPahoMessageDrivenChannelAdapter: 314 : Exception while connecting and subscribing
org.eclipse.paho.client.mqttv3.MqttException: 无法连接至服务器
	at org.eclipse.paho.client.mqttv3.internal.TCPNetworkModule.start(TCPNetworkModule.java:94) ~[org.eclipse.paho.client.mqttv3-1.2.0.jar:?]
	at org.eclipse.paho.client.mqttv3.internal.ClientComms$ConnectBG.run(ClientComms.java:701) ~[org.eclipse.paho.client.mqttv3-1.2.0.jar:?]
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511) [?:1.8.0_181]
	at java.util.concurrent.FutureTask.run(FutureTask.java:266) [?:1.8.0_181]
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180) [?:1.8.0_181]
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293) [?:1.8.0_181]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [?:1.8.0_181]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [?:1.8.0_181]
	at java.lang.Thread.run(Thread.java:748) [?:1.8.0_181]
Caused by: java.net.ConnectException: Connection refused: connect
	at java.net.DualStackPlainSocketImpl.waitForConnect(Native Method) ~[?:1.8.0_181]
	at java.net.DualStackPlainSocketImpl.socketConnect(DualStackPlainSocketImpl.java:85) ~[?:1.8.0_181]
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350) ~[?:1.8.0_181]
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206) ~[?:1.8.0_181]
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188) ~[?:1.8.0_181]
	at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:172) ~[?:1.8.0_181]
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392) ~[?:1.8.0_181]
	at java.net.Socket.connect(Socket.java:589) ~[?:1.8.0_181]
	at org.eclipse.paho.client.mqttv3.internal.TCPNetworkModule.start(TCPNetworkModule.java:84) ~[org.eclipse.paho.client.mqttv3-1.2.0.jar:?]
	... 8 more
2020-01-08 15:27:10 795 [task-scheduler-1] ERROR [ERROR] MqttPahoMessageDrivenChannelAdapter: 264 : Error connecting or subscribing to [kunbu/biz/+/bsc/, kunbu/biz/+/log/, kunbu/biz/+/inf/]
org.eclipse.paho.client.mqttv3.MqttException: 无法连接至服务器
	at org.eclipse.paho.client.mqttv3.internal.TCPNetworkModule.start(TCPNetworkModule.java:94) ~[org.eclipse.paho.client.mqttv3-1.2.0.jar:?]
	at org.eclipse.paho.client.mqttv3.internal.ClientComms$ConnectBG.run(ClientComms.java:701) ~[org.eclipse.paho.client.mqttv3-1.2.0.jar:?]
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511) [?:1.8.0_181]
	at java.util.concurrent.FutureTask.run(FutureTask.java:266) [?:1.8.0_181]
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180) [?:1.8.0_181]
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293) [?:1.8.0_181]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [?:1.8.0_181]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [?:1.8.0_181]
	at java.lang.Thread.run(Thread.java:748) [?:1.8.0_181]
Caused by: java.net.ConnectException: Connection refused: connect
	at java.net.DualStackPlainSocketImpl.waitForConnect(Native Method) ~[?:1.8.0_181]
	at java.net.DualStackPlainSocketImpl.socketConnect(DualStackPlainSocketImpl.java:85) ~[?:1.8.0_181]
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350) ~[?:1.8.0_181]
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206) ~[?:1.8.0_181]
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188) ~[?:1.8.0_181]
	at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:172) ~[?:1.8.0_181]
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392) ~[?:1.8.0_181]
	at java.net.Socket.connect(Socket.java:589) ~[?:1.8.0_181]
	at org.eclipse.paho.client.mqttv3.internal.TCPNetworkModule.start(TCPNetworkModule.java:84) ~[org.eclipse.paho.client.mqttv3-1.2.0.jar:?]
	... 8 more
2020-01-08 15:27:10 803 [task-scheduler-1] ERROR [ERROR] MqttPahoMessageDrivenChannelAdapter: 314 : Exception while connecting and subscribing
org.eclipse.paho.client.mqttv3.MqttException: 无法连接至服务器
	at org.eclipse.paho.client.mqttv3.internal.TCPNetworkModule.start(TCPNetworkModule.java:94) ~[org.eclipse.paho.client.mqttv3-1.2.0.jar:?]
	at org.eclipse.paho.client.mqttv3.internal.ClientComms$ConnectBG.run(ClientComms.java:701) ~[org.eclipse.paho.client.mqttv3-1.2.0.jar:?]
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511) [?:1.8.0_181]
	at java.util.concurrent.FutureTask.run(FutureTask.java:266) [?:1.8.0_181]
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180) [?:1.8.0_181]
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293) [?:1.8.0_181]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [?:1.8.0_181]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [?:1.8.0_181]
	at java.lang.Thread.run(Thread.java:748) [?:1.8.0_181]
Caused by: java.net.ConnectException: Connection refused: connect
	at java.net.DualStackPlainSocketImpl.waitForConnect(Native Method) ~[?:1.8.0_181]
	at java.net.DualStackPlainSocketImpl.socketConnect(DualStackPlainSocketImpl.java:85) ~[?:1.8.0_181]
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350) ~[?:1.8.0_181]
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206) ~[?:1.8.0_181]
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188) ~[?:1.8.0_181]
	at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:172) ~[?:1.8.0_181]
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392) ~[?:1.8.0_181]
	at java.net.Socket.connect(Socket.java:589) ~[?:1.8.0_181]
	at org.eclipse.paho.client.mqttv3.internal.TCPNetworkModule.start(TCPNetworkModule.java:84) ~[org.eclipse.paho.client.mqttv3-1.2.0.jar:?]
	... 8 more
2020-01-08 15:27:22 823 [task-scheduler-4] ERROR [ERROR] MqttPahoMessageDrivenChannelAdapter: 264 : Error connecting or subscribing to [kunbu/biz/+/bsc/, kunbu/biz/+/log/, kunbu/biz/+/inf/]
org.eclipse.paho.client.mqttv3.MqttException: 无法连接至服务器
	at org.eclipse.paho.client.mqttv3.internal.TCPNetworkModule.start(TCPNetworkModule.java:94) ~[org.eclipse.paho.client.mqttv3-1.2.0.jar:?]
	at org.eclipse.paho.client.mqttv3.internal.ClientComms$ConnectBG.run(ClientComms.java:701) ~[org.eclipse.paho.client.mqttv3-1.2.0.jar:?]
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511) [?:1.8.0_181]
	at java.util.concurrent.FutureTask.run(FutureTask.java:266) [?:1.8.0_181]
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180) [?:1.8.0_181]
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293) [?:1.8.0_181]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [?:1.8.0_181]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [?:1.8.0_181]
	at java.lang.Thread.run(Thread.java:748) [?:1.8.0_181]
Caused by: java.net.ConnectException: Connection refused: connect
	at java.net.DualStackPlainSocketImpl.waitForConnect(Native Method) ~[?:1.8.0_181]
	at java.net.DualStackPlainSocketImpl.socketConnect(DualStackPlainSocketImpl.java:85) ~[?:1.8.0_181]
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350) ~[?:1.8.0_181]
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206) ~[?:1.8.0_181]
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188) ~[?:1.8.0_181]
	at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:172) ~[?:1.8.0_181]
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392) ~[?:1.8.0_181]
	at java.net.Socket.connect(Socket.java:589) ~[?:1.8.0_181]
	at org.eclipse.paho.client.mqttv3.internal.TCPNetworkModule.start(TCPNetworkModule.java:84) ~[org.eclipse.paho.client.mqttv3-1.2.0.jar:?]
	... 8 more
2020-01-08 15:27:22 830 [task-scheduler-4] ERROR [ERROR] MqttPahoMessageDrivenChannelAdapter: 314 : Exception while connecting and subscribing
org.eclipse.paho.client.mqttv3.MqttException: 无法连接至服务器
	at org.eclipse.paho.client.mqttv3.internal.TCPNetworkModule.start(TCPNetworkModule.java:94) ~[org.eclipse.paho.client.mqttv3-1.2.0.jar:?]
	at org.eclipse.paho.client.mqttv3.internal.ClientComms$ConnectBG.run(ClientComms.java:701) ~[org.eclipse.paho.client.mqttv3-1.2.0.jar:?]
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511) [?:1.8.0_181]
	at java.util.concurrent.FutureTask.run(FutureTask.java:266) [?:1.8.0_181]
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180) [?:1.8.0_181]
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293) [?:1.8.0_181]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [?:1.8.0_181]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [?:1.8.0_181]
	at java.lang.Thread.run(Thread.java:748) [?:1.8.0_181]
Caused by: java.net.ConnectException: Connection refused: connect
	at java.net.DualStackPlainSocketImpl.waitForConnect(Native Method) ~[?:1.8.0_181]
	at java.net.DualStackPlainSocketImpl.socketConnect(DualStackPlainSocketImpl.java:85) ~[?:1.8.0_181]
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350) ~[?:1.8.0_181]
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206) ~[?:1.8.0_181]
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188) ~[?:1.8.0_181]
	at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:172) ~[?:1.8.0_181]
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392) ~[?:1.8.0_181]
	at java.net.Socket.connect(Socket.java:589) ~[?:1.8.0_181]
	at org.eclipse.paho.client.mqttv3.internal.TCPNetworkModule.start(TCPNetworkModule.java:84) ~[org.eclipse.paho.client.mqttv3-1.2.0.jar:?]
	... 8 more
2020-01-08 15:27:24 777 [task-scheduler-2] ERROR [ERROR] MqttPahoMessageDrivenChannelAdapter: 264 : Error connecting or subscribing to [$SYS/brokers/+/client/+/connected, $SYS/brokers/+/client/+/disconnected]
org.eclipse.paho.client.mqttv3.MqttException: 无法连接至服务器
	at org.eclipse.paho.client.mqttv3.internal.TCPNetworkModule.start(TCPNetworkModule.java:94) ~[org.eclipse.paho.client.mqttv3-1.2.0.jar:?]
	at org.eclipse.paho.client.mqttv3.internal.ClientComms$ConnectBG.run(ClientComms.java:701) ~[org.eclipse.paho.client.mqttv3-1.2.0.jar:?]
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511) [?:1.8.0_181]
	at java.util.concurrent.FutureTask.run(FutureTask.java:266) [?:1.8.0_181]
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180) [?:1.8.0_181]
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293) [?:1.8.0_181]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [?:1.8.0_181]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [?:1.8.0_181]
	at java.lang.Thread.run(Thread.java:748) [?:1.8.0_181]
Caused by: java.net.ConnectException: Connection refused: connect
	at java.net.DualStackPlainSocketImpl.waitForConnect(Native Method) ~[?:1.8.0_181]
	at java.net.DualStackPlainSocketImpl.socketConnect(DualStackPlainSocketImpl.java:85) ~[?:1.8.0_181]
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350) ~[?:1.8.0_181]
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206) ~[?:1.8.0_181]
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188) ~[?:1.8.0_181]
	at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:172) ~[?:1.8.0_181]
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392) ~[?:1.8.0_181]
	at java.net.Socket.connect(Socket.java:589) ~[?:1.8.0_181]
	at org.eclipse.paho.client.mqttv3.internal.TCPNetworkModule.start(TCPNetworkModule.java:84) ~[org.eclipse.paho.client.mqttv3-1.2.0.jar:?]
	... 8 more
2020-01-08 15:27:24 779 [task-scheduler-2] ERROR [ERROR] MqttPahoMessageDrivenChannelAdapter: 314 : Exception while connecting and subscribing
org.eclipse.paho.client.mqttv3.MqttException: 无法连接至服务器
	at org.eclipse.paho.client.mqttv3.internal.TCPNetworkModule.start(TCPNetworkModule.java:94) ~[org.eclipse.paho.client.mqttv3-1.2.0.jar:?]
	at org.eclipse.paho.client.mqttv3.internal.ClientComms$ConnectBG.run(ClientComms.java:701) ~[org.eclipse.paho.client.mqttv3-1.2.0.jar:?]
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511) [?:1.8.0_181]
	at java.util.concurrent.FutureTask.run(FutureTask.java:266) [?:1.8.0_181]
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180) [?:1.8.0_181]
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293) [?:1.8.0_181]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [?:1.8.0_181]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [?:1.8.0_181]
	at java.lang.Thread.run(Thread.java:748) [?:1.8.0_181]
Caused by: java.net.ConnectException: Connection refused: connect
	at java.net.DualStackPlainSocketImpl.waitForConnect(Native Method) ~[?:1.8.0_181]
	at java.net.DualStackPlainSocketImpl.socketConnect(DualStackPlainSocketImpl.java:85) ~[?:1.8.0_181]
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350) ~[?:1.8.0_181]
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206) ~[?:1.8.0_181]
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188) ~[?:1.8.0_181]
	at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:172) ~[?:1.8.0_181]
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392) ~[?:1.8.0_181]
	at java.net.Socket.connect(Socket.java:589) ~[?:1.8.0_181]
	at org.eclipse.paho.client.mqttv3.internal.TCPNetworkModule.start(TCPNetworkModule.java:84) ~[org.eclipse.paho.client.mqttv3-1.2.0.jar:?]
	... 8 more
2020-01-08 15:27:36 792 [task-scheduler-5] ERROR [ERROR] MqttPahoMessageDrivenChannelAdapter: 264 : Error connecting or subscribing to [$SYS/brokers/+/client/+/connected, $SYS/brokers/+/client/+/disconnected]
org.eclipse.paho.client.mqttv3.MqttException: 无法连接至服务器
	at org.eclipse.paho.client.mqttv3.internal.TCPNetworkModule.start(TCPNetworkModule.java:94) ~[org.eclipse.paho.client.mqttv3-1.2.0.jar:?]
	at org.eclipse.paho.client.mqttv3.internal.ClientComms$ConnectBG.run(ClientComms.java:701) ~[org.eclipse.paho.client.mqttv3-1.2.0.jar:?]
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511) [?:1.8.0_181]
	at java.util.concurrent.FutureTask.run(FutureTask.java:266) [?:1.8.0_181]
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180) [?:1.8.0_181]
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293) [?:1.8.0_181]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [?:1.8.0_181]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [?:1.8.0_181]
	at java.lang.Thread.run(Thread.java:748) [?:1.8.0_181]
Caused by: java.net.ConnectException: Connection refused: connect
	at java.net.DualStackPlainSocketImpl.waitForConnect(Native Method) ~[?:1.8.0_181]
	at java.net.DualStackPlainSocketImpl.socketConnect(DualStackPlainSocketImpl.java:85) ~[?:1.8.0_181]
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350) ~[?:1.8.0_181]
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206) ~[?:1.8.0_181]
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188) ~[?:1.8.0_181]
	at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:172) ~[?:1.8.0_181]
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392) ~[?:1.8.0_181]
	at java.net.Socket.connect(Socket.java:589) ~[?:1.8.0_181]
	at org.eclipse.paho.client.mqttv3.internal.TCPNetworkModule.start(TCPNetworkModule.java:84) ~[org.eclipse.paho.client.mqttv3-1.2.0.jar:?]
	... 8 more
2020-01-08 15:27:36 794 [task-scheduler-5] ERROR [ERROR] MqttPahoMessageDrivenChannelAdapter: 314 : Exception while connecting and subscribing
org.eclipse.paho.client.mqttv3.MqttException: 无法连接至服务器
	at org.eclipse.paho.client.mqttv3.internal.TCPNetworkModule.start(TCPNetworkModule.java:94) ~[org.eclipse.paho.client.mqttv3-1.2.0.jar:?]
	at org.eclipse.paho.client.mqttv3.internal.ClientComms$ConnectBG.run(ClientComms.java:701) ~[org.eclipse.paho.client.mqttv3-1.2.0.jar:?]
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511) [?:1.8.0_181]
	at java.util.concurrent.FutureTask.run(FutureTask.java:266) [?:1.8.0_181]
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180) [?:1.8.0_181]
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293) [?:1.8.0_181]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [?:1.8.0_181]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [?:1.8.0_181]
	at java.lang.Thread.run(Thread.java:748) [?:1.8.0_181]
Caused by: java.net.ConnectException: Connection refused: connect
	at java.net.DualStackPlainSocketImpl.waitForConnect(Native Method) ~[?:1.8.0_181]
	at java.net.DualStackPlainSocketImpl.socketConnect(DualStackPlainSocketImpl.java:85) ~[?:1.8.0_181]
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350) ~[?:1.8.0_181]
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206) ~[?:1.8.0_181]
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188) ~[?:1.8.0_181]
	at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:172) ~[?:1.8.0_181]
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392) ~[?:1.8.0_181]
	at java.net.Socket.connect(Socket.java:589) ~[?:1.8.0_181]
	at org.eclipse.paho.client.mqttv3.internal.TCPNetworkModule.start(TCPNetworkModule.java:84) ~[org.eclipse.paho.client.mqttv3-1.2.0.jar:?]
	... 8 more
2020-01-08 15:27:36 864 [task-scheduler-3] ERROR [ERROR] MqttPahoMessageDrivenChannelAdapter: 264 : Error connecting or subscribing to [kunbu/biz/+/bsc/, kunbu/biz/+/log/, kunbu/biz/+/inf/]
org.eclipse.paho.client.mqttv3.MqttException: 无法连接至服务器
	at org.eclipse.paho.client.mqttv3.internal.TCPNetworkModule.start(TCPNetworkModule.java:94) ~[org.eclipse.paho.client.mqttv3-1.2.0.jar:?]
	at org.eclipse.paho.client.mqttv3.internal.ClientComms$ConnectBG.run(ClientComms.java:701) ~[org.eclipse.paho.client.mqttv3-1.2.0.jar:?]
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511) [?:1.8.0_181]
	at java.util.concurrent.FutureTask.run(FutureTask.java:266) [?:1.8.0_181]
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180) [?:1.8.0_181]
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293) [?:1.8.0_181]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [?:1.8.0_181]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [?:1.8.0_181]
	at java.lang.Thread.run(Thread.java:748) [?:1.8.0_181]
Caused by: java.net.ConnectException: Connection refused: connect
	at java.net.DualStackPlainSocketImpl.waitForConnect(Native Method) ~[?:1.8.0_181]
	at java.net.DualStackPlainSocketImpl.socketConnect(DualStackPlainSocketImpl.java:85) ~[?:1.8.0_181]
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350) ~[?:1.8.0_181]
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206) ~[?:1.8.0_181]
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188) ~[?:1.8.0_181]
	at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:172) ~[?:1.8.0_181]
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392) ~[?:1.8.0_181]
	at java.net.Socket.connect(Socket.java:589) ~[?:1.8.0_181]
	at org.eclipse.paho.client.mqttv3.internal.TCPNetworkModule.start(TCPNetworkModule.java:84) ~[org.eclipse.paho.client.mqttv3-1.2.0.jar:?]
	... 8 more
2020-01-08 15:27:36 865 [task-scheduler-3] ERROR [ERROR] MqttPahoMessageDrivenChannelAdapter: 314 : Exception while connecting and subscribing
org.eclipse.paho.client.mqttv3.MqttException: 无法连接至服务器
	at org.eclipse.paho.client.mqttv3.internal.TCPNetworkModule.start(TCPNetworkModule.java:94) ~[org.eclipse.paho.client.mqttv3-1.2.0.jar:?]
	at org.eclipse.paho.client.mqttv3.internal.ClientComms$ConnectBG.run(ClientComms.java:701) ~[org.eclipse.paho.client.mqttv3-1.2.0.jar:?]
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511) [?:1.8.0_181]
	at java.util.concurrent.FutureTask.run(FutureTask.java:266) [?:1.8.0_181]
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180) [?:1.8.0_181]
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293) [?:1.8.0_181]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [?:1.8.0_181]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [?:1.8.0_181]
	at java.lang.Thread.run(Thread.java:748) [?:1.8.0_181]
Caused by: java.net.ConnectException: Connection refused: connect
	at java.net.DualStackPlainSocketImpl.waitForConnect(Native Method) ~[?:1.8.0_181]
	at java.net.DualStackPlainSocketImpl.socketConnect(DualStackPlainSocketImpl.java:85) ~[?:1.8.0_181]
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350) ~[?:1.8.0_181]
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206) ~[?:1.8.0_181]
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188) ~[?:1.8.0_181]
	at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:172) ~[?:1.8.0_181]
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392) ~[?:1.8.0_181]
	at java.net.Socket.connect(Socket.java:589) ~[?:1.8.0_181]
	at org.eclipse.paho.client.mqttv3.internal.TCPNetworkModule.start(TCPNetworkModule.java:84) ~[org.eclipse.paho.client.mqttv3-1.2.0.jar:?]
	... 8 more
2020-01-08 15:27:48 882 [task-scheduler-6] ERROR [ERROR] MqttPahoMessageDrivenChannelAdapter: 264 : Error connecting or subscribing to [kunbu/biz/+/bsc/, kunbu/biz/+/log/, kunbu/biz/+/inf/]
org.eclipse.paho.client.mqttv3.MqttException: 无法连接至服务器
	at org.eclipse.paho.client.mqttv3.internal.TCPNetworkModule.start(TCPNetworkModule.java:94) ~[org.eclipse.paho.client.mqttv3-1.2.0.jar:?]
	at org.eclipse.paho.client.mqttv3.internal.ClientComms$ConnectBG.run(ClientComms.java:701) ~[org.eclipse.paho.client.mqttv3-1.2.0.jar:?]
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511) [?:1.8.0_181]
	at java.util.concurrent.FutureTask.run(FutureTask.java:266) [?:1.8.0_181]
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180) [?:1.8.0_181]
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293) [?:1.8.0_181]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [?:1.8.0_181]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [?:1.8.0_181]
	at java.lang.Thread.run(Thread.java:748) [?:1.8.0_181]
Caused by: java.net.ConnectException: Connection refused: connect
	at java.net.DualStackPlainSocketImpl.waitForConnect(Native Method) ~[?:1.8.0_181]
	at java.net.DualStackPlainSocketImpl.socketConnect(DualStackPlainSocketImpl.java:85) ~[?:1.8.0_181]
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350) ~[?:1.8.0_181]
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206) ~[?:1.8.0_181]
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188) ~[?:1.8.0_181]
	at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:172) ~[?:1.8.0_181]
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392) ~[?:1.8.0_181]
	at java.net.Socket.connect(Socket.java:589) ~[?:1.8.0_181]
	at org.eclipse.paho.client.mqttv3.internal.TCPNetworkModule.start(TCPNetworkModule.java:84) ~[org.eclipse.paho.client.mqttv3-1.2.0.jar:?]
	... 8 more
2020-01-08 15:27:48 886 [task-scheduler-6] ERROR [ERROR] MqttPahoMessageDrivenChannelAdapter: 314 : Exception while connecting and subscribing
org.eclipse.paho.client.mqttv3.MqttException: 无法连接至服务器
	at org.eclipse.paho.client.mqttv3.internal.TCPNetworkModule.start(TCPNetworkModule.java:94) ~[org.eclipse.paho.client.mqttv3-1.2.0.jar:?]
	at org.eclipse.paho.client.mqttv3.internal.ClientComms$ConnectBG.run(ClientComms.java:701) ~[org.eclipse.paho.client.mqttv3-1.2.0.jar:?]
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511) [?:1.8.0_181]
	at java.util.concurrent.FutureTask.run(FutureTask.java:266) [?:1.8.0_181]
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180) [?:1.8.0_181]
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293) [?:1.8.0_181]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [?:1.8.0_181]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [?:1.8.0_181]
	at java.lang.Thread.run(Thread.java:748) [?:1.8.0_181]
Caused by: java.net.ConnectException: Connection refused: connect
	at java.net.DualStackPlainSocketImpl.waitForConnect(Native Method) ~[?:1.8.0_181]
	at java.net.DualStackPlainSocketImpl.socketConnect(DualStackPlainSocketImpl.java:85) ~[?:1.8.0_181]
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350) ~[?:1.8.0_181]
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206) ~[?:1.8.0_181]
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188) ~[?:1.8.0_181]
	at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:172) ~[?:1.8.0_181]
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392) ~[?:1.8.0_181]
	at java.net.Socket.connect(Socket.java:589) ~[?:1.8.0_181]
	at org.eclipse.paho.client.mqttv3.internal.TCPNetworkModule.start(TCPNetworkModule.java:84) ~[org.eclipse.paho.client.mqttv3-1.2.0.jar:?]
	... 8 more
2020-01-08 15:27:50 841 [task-scheduler-1] ERROR [ERROR] MqttPahoMessageDrivenChannelAdapter: 264 : Error connecting or subscribing to [$SYS/brokers/+/client/+/connected, $SYS/brokers/+/client/+/disconnected]
org.eclipse.paho.client.mqttv3.MqttException: 无法连接至服务器
	at org.eclipse.paho.client.mqttv3.internal.TCPNetworkModule.start(TCPNetworkModule.java:94) ~[org.eclipse.paho.client.mqttv3-1.2.0.jar:?]
	at org.eclipse.paho.client.mqttv3.internal.ClientComms$ConnectBG.run(ClientComms.java:701) ~[org.eclipse.paho.client.mqttv3-1.2.0.jar:?]
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511) [?:1.8.0_181]
	at java.util.concurrent.FutureTask.run(FutureTask.java:266) [?:1.8.0_181]
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180) [?:1.8.0_181]
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293) [?:1.8.0_181]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [?:1.8.0_181]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [?:1.8.0_181]
	at java.lang.Thread.run(Thread.java:748) [?:1.8.0_181]
Caused by: java.net.ConnectException: Connection refused: connect
	at java.net.DualStackPlainSocketImpl.waitForConnect(Native Method) ~[?:1.8.0_181]
	at java.net.DualStackPlainSocketImpl.socketConnect(DualStackPlainSocketImpl.java:85) ~[?:1.8.0_181]
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350) ~[?:1.8.0_181]
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206) ~[?:1.8.0_181]
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188) ~[?:1.8.0_181]
	at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:172) ~[?:1.8.0_181]
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392) ~[?:1.8.0_181]
	at java.net.Socket.connect(Socket.java:589) ~[?:1.8.0_181]
	at org.eclipse.paho.client.mqttv3.internal.TCPNetworkModule.start(TCPNetworkModule.java:84) ~[org.eclipse.paho.client.mqttv3-1.2.0.jar:?]
	... 8 more
2020-01-08 15:27:50 844 [task-scheduler-1] ERROR [ERROR] MqttPahoMessageDrivenChannelAdapter: 314 : Exception while connecting and subscribing
org.eclipse.paho.client.mqttv3.MqttException: 无法连接至服务器
	at org.eclipse.paho.client.mqttv3.internal.TCPNetworkModule.start(TCPNetworkModule.java:94) ~[org.eclipse.paho.client.mqttv3-1.2.0.jar:?]
	at org.eclipse.paho.client.mqttv3.internal.ClientComms$ConnectBG.run(ClientComms.java:701) ~[org.eclipse.paho.client.mqttv3-1.2.0.jar:?]
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511) [?:1.8.0_181]
	at java.util.concurrent.FutureTask.run(FutureTask.java:266) [?:1.8.0_181]
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180) [?:1.8.0_181]
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293) [?:1.8.0_181]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [?:1.8.0_181]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [?:1.8.0_181]
	at java.lang.Thread.run(Thread.java:748) [?:1.8.0_181]
Caused by: java.net.ConnectException: Connection refused: connect
	at java.net.DualStackPlainSocketImpl.waitForConnect(Native Method) ~[?:1.8.0_181]
	at java.net.DualStackPlainSocketImpl.socketConnect(DualStackPlainSocketImpl.java:85) ~[?:1.8.0_181]
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350) ~[?:1.8.0_181]
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206) ~[?:1.8.0_181]
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188) ~[?:1.8.0_181]
	at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:172) ~[?:1.8.0_181]
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392) ~[?:1.8.0_181]
	at java.net.Socket.connect(Socket.java:589) ~[?:1.8.0_181]
	at org.eclipse.paho.client.mqttv3.internal.TCPNetworkModule.start(TCPNetworkModule.java:84) ~[org.eclipse.paho.client.mqttv3-1.2.0.jar:?]
	... 8 more
2020-01-08 15:28:02 853 [task-scheduler-7] ERROR [ERROR] MqttPahoMessageDrivenChannelAdapter: 264 : Error connecting or subscribing to [$SYS/brokers/+/client/+/connected, $SYS/brokers/+/client/+/disconnected]
org.eclipse.paho.client.mqttv3.MqttException: 无法连接至服务器
	at org.eclipse.paho.client.mqttv3.internal.TCPNetworkModule.start(TCPNetworkModule.java:94) ~[org.eclipse.paho.client.mqttv3-1.2.0.jar:?]
	at org.eclipse.paho.client.mqttv3.internal.ClientComms$ConnectBG.run(ClientComms.java:701) ~[org.eclipse.paho.client.mqttv3-1.2.0.jar:?]
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511) [?:1.8.0_181]
	at java.util.concurrent.FutureTask.run(FutureTask.java:266) [?:1.8.0_181]
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180) [?:1.8.0_181]
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293) [?:1.8.0_181]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [?:1.8.0_181]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [?:1.8.0_181]
	at java.lang.Thread.run(Thread.java:748) [?:1.8.0_181]
Caused by: java.net.ConnectException: Connection refused: connect
	at java.net.DualStackPlainSocketImpl.waitForConnect(Native Method) ~[?:1.8.0_181]
	at java.net.DualStackPlainSocketImpl.socketConnect(DualStackPlainSocketImpl.java:85) ~[?:1.8.0_181]
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350) ~[?:1.8.0_181]
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206) ~[?:1.8.0_181]
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188) ~[?:1.8.0_181]
	at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:172) ~[?:1.8.0_181]
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392) ~[?:1.8.0_181]
	at java.net.Socket.connect(Socket.java:589) ~[?:1.8.0_181]
	at org.eclipse.paho.client.mqttv3.internal.TCPNetworkModule.start(TCPNetworkModule.java:84) ~[org.eclipse.paho.client.mqttv3-1.2.0.jar:?]
	... 8 more
2020-01-08 15:28:02 854 [task-scheduler-7] ERROR [ERROR] MqttPahoMessageDrivenChannelAdapter: 314 : Exception while connecting and subscribing
org.eclipse.paho.client.mqttv3.MqttException: 无法连接至服务器
	at org.eclipse.paho.client.mqttv3.internal.TCPNetworkModule.start(TCPNetworkModule.java:94) ~[org.eclipse.paho.client.mqttv3-1.2.0.jar:?]
	at org.eclipse.paho.client.mqttv3.internal.ClientComms$ConnectBG.run(ClientComms.java:701) ~[org.eclipse.paho.client.mqttv3-1.2.0.jar:?]
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511) [?:1.8.0_181]
	at java.util.concurrent.FutureTask.run(FutureTask.java:266) [?:1.8.0_181]
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180) [?:1.8.0_181]
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293) [?:1.8.0_181]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [?:1.8.0_181]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [?:1.8.0_181]
	at java.lang.Thread.run(Thread.java:748) [?:1.8.0_181]
Caused by: java.net.ConnectException: Connection refused: connect
	at java.net.DualStackPlainSocketImpl.waitForConnect(Native Method) ~[?:1.8.0_181]
	at java.net.DualStackPlainSocketImpl.socketConnect(DualStackPlainSocketImpl.java:85) ~[?:1.8.0_181]
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350) ~[?:1.8.0_181]
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206) ~[?:1.8.0_181]
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188) ~[?:1.8.0_181]
	at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:172) ~[?:1.8.0_181]
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392) ~[?:1.8.0_181]
	at java.net.Socket.connect(Socket.java:589) ~[?:1.8.0_181]
	at org.eclipse.paho.client.mqttv3.internal.TCPNetworkModule.start(TCPNetworkModule.java:84) ~[org.eclipse.paho.client.mqttv3-1.2.0.jar:?]
	... 8 more
2020-01-08 15:28:02 907 [task-scheduler-6] ERROR [ERROR] MqttPahoMessageDrivenChannelAdapter: 264 : Error connecting or subscribing to [kunbu/biz/+/bsc/, kunbu/biz/+/log/, kunbu/biz/+/inf/]
org.eclipse.paho.client.mqttv3.MqttException: 无法连接至服务器
	at org.eclipse.paho.client.mqttv3.internal.TCPNetworkModule.start(TCPNetworkModule.java:94) ~[org.eclipse.paho.client.mqttv3-1.2.0.jar:?]
	at org.eclipse.paho.client.mqttv3.internal.ClientComms$ConnectBG.run(ClientComms.java:701) ~[org.eclipse.paho.client.mqttv3-1.2.0.jar:?]
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511) [?:1.8.0_181]
	at java.util.concurrent.FutureTask.run(FutureTask.java:266) [?:1.8.0_181]
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180) [?:1.8.0_181]
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293) [?:1.8.0_181]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [?:1.8.0_181]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [?:1.8.0_181]
	at java.lang.Thread.run(Thread.java:748) [?:1.8.0_181]
Caused by: java.net.ConnectException: Connection refused: connect
	at java.net.DualStackPlainSocketImpl.waitForConnect(Native Method) ~[?:1.8.0_181]
	at java.net.DualStackPlainSocketImpl.socketConnect(DualStackPlainSocketImpl.java:85) ~[?:1.8.0_181]
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350) ~[?:1.8.0_181]
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206) ~[?:1.8.0_181]
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188) ~[?:1.8.0_181]
	at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:172) ~[?:1.8.0_181]
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392) ~[?:1.8.0_181]
	at java.net.Socket.connect(Socket.java:589) ~[?:1.8.0_181]
	at org.eclipse.paho.client.mqttv3.internal.TCPNetworkModule.start(TCPNetworkModule.java:84) ~[org.eclipse.paho.client.mqttv3-1.2.0.jar:?]
	... 8 more
2020-01-08 15:28:02 908 [task-scheduler-6] ERROR [ERROR] MqttPahoMessageDrivenChannelAdapter: 314 : Exception while connecting and subscribing
org.eclipse.paho.client.mqttv3.MqttException: 无法连接至服务器
	at org.eclipse.paho.client.mqttv3.internal.TCPNetworkModule.start(TCPNetworkModule.java:94) ~[org.eclipse.paho.client.mqttv3-1.2.0.jar:?]
	at org.eclipse.paho.client.mqttv3.internal.ClientComms$ConnectBG.run(ClientComms.java:701) ~[org.eclipse.paho.client.mqttv3-1.2.0.jar:?]
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511) [?:1.8.0_181]
	at java.util.concurrent.FutureTask.run(FutureTask.java:266) [?:1.8.0_181]
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180) [?:1.8.0_181]
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293) [?:1.8.0_181]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [?:1.8.0_181]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [?:1.8.0_181]
	at java.lang.Thread.run(Thread.java:748) [?:1.8.0_181]
Caused by: java.net.ConnectException: Connection refused: connect
	at java.net.DualStackPlainSocketImpl.waitForConnect(Native Method) ~[?:1.8.0_181]
	at java.net.DualStackPlainSocketImpl.socketConnect(DualStackPlainSocketImpl.java:85) ~[?:1.8.0_181]
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350) ~[?:1.8.0_181]
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206) ~[?:1.8.0_181]
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188) ~[?:1.8.0_181]
	at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:172) ~[?:1.8.0_181]
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392) ~[?:1.8.0_181]
	at java.net.Socket.connect(Socket.java:589) ~[?:1.8.0_181]
	at org.eclipse.paho.client.mqttv3.internal.TCPNetworkModule.start(TCPNetworkModule.java:84) ~[org.eclipse.paho.client.mqttv3-1.2.0.jar:?]
	... 8 more
2020-01-08 15:35:49 543 [MQTT Rec: consumer-sys-subscriber] ERROR [ERROR] MqttPahoMessageDrivenChannelAdapter: 327 : Lost connection: 已断开连接; retrying...
2020-01-08 15:35:49 543 [MQTT Rec: consumer-biz-subscriber] ERROR [ERROR] MqttPahoMessageDrivenChannelAdapter: 327 : Lost connection: 已断开连接; retrying...
2020-01-08 15:36:01 562 [task-scheduler-9] ERROR [ERROR] MqttPahoMessageDrivenChannelAdapter: 264 : Error connecting or subscribing to [$SYS/brokers/+/client/+/connected, $SYS/brokers/+/client/+/disconnected]
org.eclipse.paho.client.mqttv3.MqttException: 无法连接至服务器
	at org.eclipse.paho.client.mqttv3.internal.TCPNetworkModule.start(TCPNetworkModule.java:94) ~[org.eclipse.paho.client.mqttv3-1.2.0.jar:?]
	at org.eclipse.paho.client.mqttv3.internal.ClientComms$ConnectBG.run(ClientComms.java:701) ~[org.eclipse.paho.client.mqttv3-1.2.0.jar:?]
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511) [?:1.8.0_181]
	at java.util.concurrent.FutureTask.run(FutureTask.java:266) [?:1.8.0_181]
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180) [?:1.8.0_181]
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293) [?:1.8.0_181]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [?:1.8.0_181]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [?:1.8.0_181]
	at java.lang.Thread.run(Thread.java:748) [?:1.8.0_181]
Caused by: java.net.ConnectException: Connection refused: connect
	at java.net.DualStackPlainSocketImpl.waitForConnect(Native Method) ~[?:1.8.0_181]
	at java.net.DualStackPlainSocketImpl.socketConnect(DualStackPlainSocketImpl.java:85) ~[?:1.8.0_181]
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350) ~[?:1.8.0_181]
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206) ~[?:1.8.0_181]
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188) ~[?:1.8.0_181]
	at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:172) ~[?:1.8.0_181]
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392) ~[?:1.8.0_181]
	at java.net.Socket.connect(Socket.java:589) ~[?:1.8.0_181]
	at org.eclipse.paho.client.mqttv3.internal.TCPNetworkModule.start(TCPNetworkModule.java:84) ~[org.eclipse.paho.client.mqttv3-1.2.0.jar:?]
	... 8 more
2020-01-08 15:36:01 565 [task-scheduler-9] ERROR [ERROR] MqttPahoMessageDrivenChannelAdapter: 314 : Exception while connecting and subscribing
org.eclipse.paho.client.mqttv3.MqttException: 无法连接至服务器
	at org.eclipse.paho.client.mqttv3.internal.TCPNetworkModule.start(TCPNetworkModule.java:94) ~[org.eclipse.paho.client.mqttv3-1.2.0.jar:?]
	at org.eclipse.paho.client.mqttv3.internal.ClientComms$ConnectBG.run(ClientComms.java:701) ~[org.eclipse.paho.client.mqttv3-1.2.0.jar:?]
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511) [?:1.8.0_181]
	at java.util.concurrent.FutureTask.run(FutureTask.java:266) [?:1.8.0_181]
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180) [?:1.8.0_181]
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293) [?:1.8.0_181]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [?:1.8.0_181]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [?:1.8.0_181]
	at java.lang.Thread.run(Thread.java:748) [?:1.8.0_181]
Caused by: java.net.ConnectException: Connection refused: connect
	at java.net.DualStackPlainSocketImpl.waitForConnect(Native Method) ~[?:1.8.0_181]
	at java.net.DualStackPlainSocketImpl.socketConnect(DualStackPlainSocketImpl.java:85) ~[?:1.8.0_181]
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350) ~[?:1.8.0_181]
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206) ~[?:1.8.0_181]
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188) ~[?:1.8.0_181]
	at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:172) ~[?:1.8.0_181]
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392) ~[?:1.8.0_181]
	at java.net.Socket.connect(Socket.java:589) ~[?:1.8.0_181]
	at org.eclipse.paho.client.mqttv3.internal.TCPNetworkModule.start(TCPNetworkModule.java:84) ~[org.eclipse.paho.client.mqttv3-1.2.0.jar:?]
	... 8 more
2020-01-08 15:36:03 576 [task-scheduler-5] ERROR [ERROR] MqttPahoMessageDrivenChannelAdapter: 264 : Error connecting or subscribing to [kunbu/biz/+/bsc/, kunbu/biz/+/log/, kunbu/biz/+/inf/]
org.eclipse.paho.client.mqttv3.MqttException: 无法连接至服务器
	at org.eclipse.paho.client.mqttv3.internal.TCPNetworkModule.start(TCPNetworkModule.java:94) ~[org.eclipse.paho.client.mqttv3-1.2.0.jar:?]
	at org.eclipse.paho.client.mqttv3.internal.ClientComms$ConnectBG.run(ClientComms.java:701) ~[org.eclipse.paho.client.mqttv3-1.2.0.jar:?]
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511) [?:1.8.0_181]
	at java.util.concurrent.FutureTask.run(FutureTask.java:266) [?:1.8.0_181]
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180) [?:1.8.0_181]
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293) [?:1.8.0_181]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [?:1.8.0_181]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [?:1.8.0_181]
	at java.lang.Thread.run(Thread.java:748) [?:1.8.0_181]
Caused by: java.net.ConnectException: Connection refused: connect
	at java.net.DualStackPlainSocketImpl.waitForConnect(Native Method) ~[?:1.8.0_181]
	at java.net.DualStackPlainSocketImpl.socketConnect(DualStackPlainSocketImpl.java:85) ~[?:1.8.0_181]
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350) ~[?:1.8.0_181]
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206) ~[?:1.8.0_181]
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188) ~[?:1.8.0_181]
	at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:172) ~[?:1.8.0_181]
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392) ~[?:1.8.0_181]
	at java.net.Socket.connect(Socket.java:589) ~[?:1.8.0_181]
	at org.eclipse.paho.client.mqttv3.internal.TCPNetworkModule.start(TCPNetworkModule.java:84) ~[org.eclipse.paho.client.mqttv3-1.2.0.jar:?]
	... 8 more
2020-01-08 15:36:03 578 [task-scheduler-5] ERROR [ERROR] MqttPahoMessageDrivenChannelAdapter: 314 : Exception while connecting and subscribing
org.eclipse.paho.client.mqttv3.MqttException: 无法连接至服务器
	at org.eclipse.paho.client.mqttv3.internal.TCPNetworkModule.start(TCPNetworkModule.java:94) ~[org.eclipse.paho.client.mqttv3-1.2.0.jar:?]
	at org.eclipse.paho.client.mqttv3.internal.ClientComms$ConnectBG.run(ClientComms.java:701) ~[org.eclipse.paho.client.mqttv3-1.2.0.jar:?]
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511) [?:1.8.0_181]
	at java.util.concurrent.FutureTask.run(FutureTask.java:266) [?:1.8.0_181]
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180) [?:1.8.0_181]
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293) [?:1.8.0_181]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [?:1.8.0_181]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [?:1.8.0_181]
	at java.lang.Thread.run(Thread.java:748) [?:1.8.0_181]
Caused by: java.net.ConnectException: Connection refused: connect
	at java.net.DualStackPlainSocketImpl.waitForConnect(Native Method) ~[?:1.8.0_181]
	at java.net.DualStackPlainSocketImpl.socketConnect(DualStackPlainSocketImpl.java:85) ~[?:1.8.0_181]
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350) ~[?:1.8.0_181]
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206) ~[?:1.8.0_181]
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188) ~[?:1.8.0_181]
	at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:172) ~[?:1.8.0_181]
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392) ~[?:1.8.0_181]
	at java.net.Socket.connect(Socket.java:589) ~[?:1.8.0_181]
	at org.eclipse.paho.client.mqttv3.internal.TCPNetworkModule.start(TCPNetworkModule.java:84) ~[org.eclipse.paho.client.mqttv3-1.2.0.jar:?]
	... 8 more
2020-01-08 15:40:51 926 [main] INFO  [INFO] SpringIntegrationApplication: 37 : 
=========================================================
                                                         
          Welcome to Spring Integration!                 
                                                         
    For more information please visit:                   
    https://spring.io/projects/spring-integration        
                                                         
                                                         
    这是一个基于MQTT订阅的消息处理服务 -                     
    订阅关键的TOPIC，将收到的mqtt消息处理并最终写入数据        
=========================================================
2020-01-08 15:40:52 094 [restartedMain] INFO  [INFO] SpringIntegrationApplication: 37 : 
=========================================================
                                                         
          Welcome to Spring Integration!                 
                                                         
    For more information please visit:                   
    https://spring.io/projects/spring-integration        
                                                         
                                                         
    这是一个基于MQTT订阅的消息处理服务 -                     
    订阅关键的TOPIC，将收到的mqtt消息处理并最终写入数据        
=========================================================
2020-01-08 15:40:52 487 [restartedMain] INFO  [INFO] SpringIntegrationApplication: 50 : Starting SpringIntegrationApplication on DESKTOP-QA9ODS5 with PID 14592 (D:\kunbu\spring-integration\target\classes started by mojun in D:\kunbu\spring-integration)
2020-01-08 15:40:52 488 [restartedMain] INFO  [INFO] SpringIntegrationApplication: 648 : No active profile set, falling back to default profiles: default
2020-01-08 15:40:52 532 [restartedMain] INFO  [INFO] DevToolsPropertyDefaultsPostProcessor: 225 : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2020-01-08 15:40:52 533 [restartedMain] INFO  [INFO] DevToolsPropertyDefaultsPostProcessor: 225 : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2020-01-08 15:40:53 125 [restartedMain] INFO  [INFO] RepositoryConfigurationDelegate: 126 : Bootstrapping Spring Data repositories in DEFAULT mode.
2020-01-08 15:40:53 158 [restartedMain] INFO  [INFO] RepositoryConfigurationDelegate: 182 : Finished Spring Data repository scanning in 29ms. Found 0 repository interfaces.
2020-01-08 15:40:53 327 [restartedMain] INFO  [INFO] DefaultConfiguringBeanFactoryPostProcessor: 193 : No bean named 'errorChannel' has been explicitly defined. Therefore, a default PublishSubscribeChannel will be created.
2020-01-08 15:40:53 333 [restartedMain] INFO  [INFO] DefaultConfiguringBeanFactoryPostProcessor: 280 : No bean named 'taskScheduler' has been explicitly defined. Therefore, a default ThreadPoolTaskScheduler will be created.
2020-01-08 15:40:53 337 [restartedMain] INFO  [INFO] DefaultConfiguringBeanFactoryPostProcessor: 431 : No bean named 'integrationHeaderChannelRegistry' has been explicitly defined. Therefore, a default DefaultHeaderChannelRegistry will be created.
2020-01-08 15:40:53 405 [restartedMain] INFO  [INFO] PostProcessorRegistrationDelegate$BeanPostProcessorChecker: 330 : Bean 'org.springframework.integration.config.IntegrationManagementConfiguration' of type [org.springframework.integration.config.IntegrationManagementConfiguration$$EnhancerBySpringCGLIB$$2f71239f] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-01-08 15:40:53 415 [restartedMain] INFO  [INFO] PostProcessorRegistrationDelegate$BeanPostProcessorChecker: 330 : Bean 'integrationDisposableAutoCreatedBeans' of type [org.springframework.integration.config.annotation.Disposables] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-01-08 15:40:53 673 [restartedMain] INFO  [INFO] TomcatWebServer: 90 : Tomcat initialized with port(s): 9090 (http)
2020-01-08 15:40:53 684 [restartedMain] INFO  [INFO] Http11NioProtocol: 173 : Initializing ProtocolHandler ["http-nio-9090"]
2020-01-08 15:40:53 690 [restartedMain] INFO  [INFO] StandardService: 173 : Starting service [Tomcat]
2020-01-08 15:40:53 691 [restartedMain] INFO  [INFO] StandardEngine: 173 : Starting Servlet engine: [Apache Tomcat/9.0.26]
2020-01-08 15:40:53 802 [restartedMain] INFO  [INFO] [/]: 173 : Initializing Spring embedded WebApplicationContext
2020-01-08 15:40:53 802 [restartedMain] INFO  [INFO] ContextLoader: 284 : Root WebApplicationContext: initialization completed in 1269 ms
2020-01-08 15:40:54 825 [restartedMain] INFO  [INFO] cluster: 71 : Cluster created with settings {hosts=[localhost:27017], mode=SINGLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}
2020-01-08 15:40:54 862 [cluster-ClusterId{value='5e158786f4ac9c39000bcc2e', description='null'}-localhost:27017] INFO  [INFO] connection: 71 : Opened connection [connectionId{localValue:1, serverValue:49}] to localhost:27017
2020-01-08 15:40:54 865 [cluster-ClusterId{value='5e158786f4ac9c39000bcc2e', description='null'}-localhost:27017] INFO  [INFO] cluster: 71 : Monitor thread successfully connected to server with description ServerDescription{address=localhost:27017, type=STANDALONE, state=CONNECTED, ok=true, version=ServerVersion{versionList=[3, 6, 12]}, minWireVersion=0, maxWireVersion=6, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=2041800}
2020-01-08 15:40:54 916 [restartedMain] WARN  [WARN] CustomConversions: 207 : Registering converter from class java.time.LocalDateTime to class java.time.Instant as reading converter although it doesn't convert from a store-supported type! You might wanna check you annotation setup at the converter implementation.
2020-01-08 15:40:54 916 [restartedMain] WARN  [WARN] CustomConversions: 207 : Registering converter from class java.time.Instant to class java.time.LocalDateTime as reading converter although it doesn't convert from a store-supported type! You might wanna check you annotation setup at the converter implementation.
2020-01-08 15:40:54 995 [restartedMain] INFO  [INFO] OptionalLiveReloadServer: 57 : LiveReload server is running on port 35729
2020-01-08 15:40:55 014 [restartedMain] WARN  [WARN] CustomConversions: 207 : Registering converter from class java.time.LocalDateTime to class java.time.Instant as reading converter although it doesn't convert from a store-supported type! You might wanna check you annotation setup at the converter implementation.
2020-01-08 15:40:55 015 [restartedMain] WARN  [WARN] CustomConversions: 207 : Registering converter from class java.time.Instant to class java.time.LocalDateTime as reading converter although it doesn't convert from a store-supported type! You might wanna check you annotation setup at the converter implementation.
2020-01-08 15:40:55 064 [restartedMain] INFO  [INFO] connection: 71 : Opened connection [connectionId{localValue:2, serverValue:50}] to localhost:27017
2020-01-08 15:40:55 446 [restartedMain] INFO  [INFO] ThreadPoolTaskExecutor: 171 : Initializing ExecutorService 'applicationTaskExecutor'
2020-01-08 15:40:55 579 [restartedMain] INFO  [INFO] ThreadPoolTaskScheduler: 171 : Initializing ExecutorService 'taskScheduler'
2020-01-08 15:40:55 757 [restartedMain] INFO  [INFO] EventDrivenConsumer: 107 : Adding {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2020-01-08 15:40:55 758 [restartedMain] INFO  [INFO] PublishSubscribeChannel: 64 : Channel 'application.errorChannel' has 1 subscriber(s).
2020-01-08 15:40:55 758 [restartedMain] INFO  [INFO] EventDrivenConsumer: 159 : started _org.springframework.integration.errorLogger
2020-01-08 15:40:55 787 [restartedMain] INFO  [INFO] MqttPahoMessageDrivenChannelAdapter: 159 : started sysInbound
2020-01-08 15:40:55 788 [restartedMain] INFO  [INFO] EventDrivenConsumer: 107 : Adding {bridge} as a subscriber to the 'sysMsgFlow.channel#0' channel
2020-01-08 15:40:55 788 [restartedMain] INFO  [INFO] DirectChannel: 64 : Channel 'application.sysMsgFlow.channel#0' has 1 subscriber(s).
2020-01-08 15:40:55 788 [restartedMain] INFO  [INFO] EventDrivenConsumer: 159 : started sysMsgFlow.org.springframework.integration.config.ConsumerEndpointFactoryBean#0
2020-01-08 15:40:55 788 [restartedMain] INFO  [INFO] EventDrivenConsumer: 107 : Adding {service-activator} as a subscriber to the 'sysMsgFlow.channel#1' channel
2020-01-08 15:40:55 788 [restartedMain] INFO  [INFO] ExecutorChannel: 64 : Channel 'application.sysMsgFlow.channel#1' has 1 subscriber(s).
2020-01-08 15:40:55 788 [restartedMain] INFO  [INFO] EventDrivenConsumer: 159 : started sysMsgFlow.org.springframework.integration.config.ConsumerEndpointFactoryBean#1
2020-01-08 15:40:55 788 [restartedMain] INFO  [INFO] EventDrivenConsumer: 107 : Adding {service-activator} as a subscriber to the 'sysMsgFlow.channel#2' channel
2020-01-08 15:40:55 789 [restartedMain] INFO  [INFO] DirectChannel: 64 : Channel 'application.sysMsgFlow.channel#2' has 1 subscriber(s).
2020-01-08 15:40:55 789 [restartedMain] INFO  [INFO] EventDrivenConsumer: 159 : started sysMsgFlow.org.springframework.integration.config.ConsumerEndpointFactoryBean#2
2020-01-08 15:40:55 789 [restartedMain] INFO  [INFO] EventDrivenConsumer: 107 : Adding {filter} as a subscriber to the 'sysMsgFlow.channel#3' channel
2020-01-08 15:40:55 789 [restartedMain] INFO  [INFO] DirectChannel: 64 : Channel 'application.sysMsgFlow.channel#3' has 1 subscriber(s).
2020-01-08 15:40:55 789 [restartedMain] INFO  [INFO] EventDrivenConsumer: 159 : started sysMsgFlow.org.springframework.integration.config.ConsumerEndpointFactoryBean#3
2020-01-08 15:40:55 789 [restartedMain] INFO  [INFO] EventDrivenConsumer: 107 : Adding {mqtt:outbound-channel-adapter} as a subscriber to the 'sysMsgFlow.channel#4' channel
2020-01-08 15:40:55 789 [restartedMain] INFO  [INFO] DirectChannel: 64 : Channel 'application.sysMsgFlow.channel#4' has 1 subscriber(s).
2020-01-08 15:40:55 789 [restartedMain] INFO  [INFO] EventDrivenConsumer: 159 : started sysMsgFlow.org.springframework.integration.config.ConsumerEndpointFactoryBean#4
2020-01-08 15:40:55 794 [restartedMain] INFO  [INFO] MqttPahoMessageDrivenChannelAdapter: 159 : started bizInbound
2020-01-08 15:40:55 794 [restartedMain] INFO  [INFO] EventDrivenConsumer: 107 : Adding {bridge} as a subscriber to the 'bizMsgFlow.channel#0' channel
2020-01-08 15:40:55 795 [restartedMain] INFO  [INFO] DirectChannel: 64 : Channel 'application.bizMsgFlow.channel#0' has 1 subscriber(s).
2020-01-08 15:40:55 795 [restartedMain] INFO  [INFO] EventDrivenConsumer: 159 : started bizMsgFlow.org.springframework.integration.config.ConsumerEndpointFactoryBean#0
2020-01-08 15:40:55 795 [restartedMain] INFO  [INFO] EventDrivenConsumer: 107 : Adding {service-activator} as a subscriber to the 'bizMsgFlow.channel#1' channel
2020-01-08 15:40:55 795 [restartedMain] INFO  [INFO] ExecutorChannel: 64 : Channel 'application.bizMsgFlow.channel#1' has 1 subscriber(s).
2020-01-08 15:40:55 795 [restartedMain] INFO  [INFO] EventDrivenConsumer: 159 : started bizMsgFlow.org.springframework.integration.config.ConsumerEndpointFactoryBean#1
2020-01-08 15:40:55 795 [restartedMain] INFO  [INFO] EventDrivenConsumer: 107 : Adding {router} as a subscriber to the 'bizMsgFlow.channel#2' channel
2020-01-08 15:40:55 795 [restartedMain] INFO  [INFO] DirectChannel: 64 : Channel 'application.bizMsgFlow.channel#2' has 1 subscriber(s).
2020-01-08 15:40:55 795 [restartedMain] INFO  [INFO] EventDrivenConsumer: 159 : started bizMsgFlow.org.springframework.integration.config.ConsumerEndpointFactoryBean#2
2020-01-08 15:40:55 796 [restartedMain] INFO  [INFO] EventDrivenConsumer: 107 : Adding {service-activator} as a subscriber to the 'bizMsgFlow.subFlow#0.channel#0' channel
2020-01-08 15:40:55 796 [restartedMain] INFO  [INFO] DirectChannel: 64 : Channel 'application.bizMsgFlow.subFlow#0.channel#0' has 1 subscriber(s).
2020-01-08 15:40:55 796 [restartedMain] INFO  [INFO] EventDrivenConsumer: 159 : started bizMsgFlow.subFlow#0.org.springframework.integration.config.ConsumerEndpointFactoryBean#0
2020-01-08 15:40:55 796 [restartedMain] INFO  [INFO] EventDrivenConsumer: 107 : Adding {service-activator} as a subscriber to the 'bizMsgFlow.subFlow#1.channel#0' channel
2020-01-08 15:40:55 796 [restartedMain] INFO  [INFO] DirectChannel: 64 : Channel 'application.bizMsgFlow.subFlow#1.channel#0' has 1 subscriber(s).
2020-01-08 15:40:55 796 [restartedMain] INFO  [INFO] EventDrivenConsumer: 159 : started bizMsgFlow.subFlow#1.org.springframework.integration.config.ConsumerEndpointFactoryBean#0
2020-01-08 15:40:55 796 [restartedMain] INFO  [INFO] EventDrivenConsumer: 107 : Adding {service-activator} as a subscriber to the 'bizMsgFlow.subFlow#2.channel#0' channel
2020-01-08 15:40:55 797 [restartedMain] INFO  [INFO] DirectChannel: 64 : Channel 'application.bizMsgFlow.subFlow#2.channel#0' has 1 subscriber(s).
2020-01-08 15:40:55 797 [restartedMain] INFO  [INFO] EventDrivenConsumer: 159 : started bizMsgFlow.subFlow#2.org.springframework.integration.config.ConsumerEndpointFactoryBean#0
2020-01-08 15:40:55 797 [restartedMain] INFO  [INFO] EventDrivenConsumer: 107 : Adding {service-activator} as a subscriber to the 'bizMsgFlow.subFlow#3.channel#0' channel
2020-01-08 15:40:55 797 [restartedMain] INFO  [INFO] DirectChannel: 64 : Channel 'application.bizMsgFlow.subFlow#3.channel#0' has 1 subscriber(s).
2020-01-08 15:40:55 797 [restartedMain] INFO  [INFO] EventDrivenConsumer: 159 : started bizMsgFlow.subFlow#3.org.springframework.integration.config.ConsumerEndpointFactoryBean#0
2020-01-08 15:40:55 797 [restartedMain] INFO  [INFO] EventDrivenConsumer: 107 : Adding {bridge} as a subscriber to the 'bizMsgFlow.channel#3' channel
2020-01-08 15:40:55 797 [restartedMain] INFO  [INFO] DirectChannel: 64 : Channel 'application.bizMsgFlow.channel#3' has 1 subscriber(s).
2020-01-08 15:40:55 797 [restartedMain] INFO  [INFO] EventDrivenConsumer: 159 : started bizMsgFlow.org.springframework.integration.config.ConsumerEndpointFactoryBean#3
2020-01-08 15:40:55 798 [restartedMain] INFO  [INFO] EventDrivenConsumer: 107 : Adding {message-handler:mqttSpringIntegration.mqttOutbound.serviceActivator} as a subscriber to the 'mqttOutboundChannel' channel
2020-01-08 15:40:55 798 [mqtt-sys-pool-0] INFO  [INFO] MessageTransferUtil: 33 : received sys message, header:{mqtt_receivedRetained=false, id=cd0cc9ec-e2e6-d526-e255-9e87e019d77f, mqtt_duplicate=false, mqtt_receivedTopic=$SYS/brokers/emq@127.0.0.1/clients/consumer-biz-subscriber/connected, mqtt_receivedQos=1, timestamp=1578469255796}, payload:{"clientid":"consumer-biz-subscriber","username":"mqtt-kunbu","ipaddress":"127.0.0.1","clean_sess":false,"protocol":4,"connack":0,"ts":1578469255}
2020-01-08 15:40:55 799 [restartedMain] INFO  [INFO] DirectChannel: 64 : Channel 'application.mqttOutboundChannel' has 1 subscriber(s).
2020-01-08 15:40:55 799 [restartedMain] INFO  [INFO] EventDrivenConsumer: 159 : started mqttSpringIntegration.mqttOutbound.serviceActivator
2020-01-08 15:40:55 799 [restartedMain] INFO  [INFO] GatewayProxyFactoryBean$MethodInvocationGateway: 159 : started mqttPublisher
2020-01-08 15:40:55 799 [restartedMain] INFO  [INFO] GatewayProxyFactoryBean: 159 : started mqttPublisher
2020-01-08 15:40:55 806 [restartedMain] INFO  [INFO] Http11NioProtocol: 173 : Starting ProtocolHandler ["http-nio-9090"]
2020-01-08 15:40:55 827 [restartedMain] INFO  [INFO] TomcatWebServer: 202 : Tomcat started on port(s): 9090 (http) with context path ''
2020-01-08 15:40:55 830 [restartedMain] INFO  [INFO] SpringIntegrationApplication: 59 : Started SpringIntegrationApplication in 3.728 seconds (JVM running for 5.329)
2020-01-08 15:40:58 937 [mqtt-sys-pool-1] INFO  [INFO] MessageTransferUtil: 33 : received sys message, header:{mqtt_receivedRetained=false, id=65a9047d-866b-11b2-b791-46a5e54bba10, mqtt_duplicate=false, mqtt_receivedTopic=$SYS/brokers/emq@127.0.0.1/clients/d:rinnai:SR:01:SR:98D863BE7116044Bdf1578469258919/connected, mqtt_receivedQos=1, timestamp=1578469258936}, payload:{"clientid":"d:rinnai:SR:01:SR:98D863BE7116044Bdf1578469258919","username":"d:rinnai:SR:01:SR:98D863BE7116","ipaddress":"127.0.0.1","clean_sess":true,"protocol":4,"connack":0,"ts":1578469258}
2020-01-08 15:40:58 990 [mqtt-sys-pool-1] INFO  [INFO] SysMessageService: 67 : >>> 设备上线, mac:98D863BE7116, clientId:d:rinnai:SR:01:SR:98D863BE7116044Bdf1578469258919, node:emq@127.0.0.1, ip:127.0.0.1
2020-01-08 15:40:59 011 [mqtt-sys-pool-1] ERROR [ERROR] DeviceDao: 32 : saveOnline failure, clientId:d:rinnai:SR:01:SR:98D863BE7116044Bdf1578469258919, mac:98D863BE7116, ip:127.0.0.1, node:emq@127.0.0.1
2020-01-08 15:40:59 021 [mqtt-sys-pool-2] INFO  [INFO] MessageTransferUtil: 33 : received sys message, header:{mqtt_receivedRetained=false, id=0abfc948-52b9-a3e5-4da8-370e561ae5a3, mqtt_duplicate=false, mqtt_receivedTopic=$SYS/brokers/emq@127.0.0.1/clients/consumer-publisher/connected, mqtt_receivedQos=1, timestamp=1578469259020}, payload:{"clientid":"consumer-publisher","username":"mqtt-kunbu","ipaddress":"127.0.0.1","clean_sess":false,"protocol":4,"connack":0,"ts":1578469259}
2020-01-08 15:43:45 275 [mqtt-sys-pool-3] INFO  [INFO] MessageTransferUtil: 33 : received sys message, header:{mqtt_receivedRetained=false, id=f165bbd7-7b37-4e94-a9cd-7d935cf6ab90, mqtt_duplicate=false, mqtt_receivedTopic=$SYS/brokers/emq@127.0.0.1/clients/d:rinnai:SR:01:SR:98D863BE7116044Bdf1578469258919/disconnected, mqtt_receivedQos=1, timestamp=1578469425274}, payload:{"clientid":"d:rinnai:SR:01:SR:98D863BE7116044Bdf1578469258919","username":"d:rinnai:SR:01:SR:98D863BE7116","reason":"closed","ts":1578469425}
2020-01-08 15:43:45 277 [mqtt-sys-pool-3] INFO  [INFO] SysMessageService: 75 : >>> 设备离线, mac:98D863BE7116, clientId:d:rinnai:SR:01:SR:98D863BE7116044Bdf1578469258919, reason:closed
2020-01-08 15:43:45 278 [mqtt-sys-pool-4] INFO  [INFO] MessageTransferUtil: 33 : received sys message, header:{mqtt_receivedRetained=false, id=776123a4-0da7-f1c4-05c2-c156424cc9b8, mqtt_duplicate=false, mqtt_receivedTopic=$SYS/brokers/emq@127.0.0.1/clients/d:rinnai:SR:01:SR:ABCDEFGHIJKL12341578469425274/connected, mqtt_receivedQos=1, timestamp=1578469425278}, payload:{"clientid":"d:rinnai:SR:01:SR:ABCDEFGHIJKL12341578469425274","username":"d:rinnai:SR:01:SR:98D863BE7116","ipaddress":"127.0.0.1","clean_sess":true,"protocol":4,"connack":0,"ts":1578469425}
2020-01-08 15:43:45 283 [mqtt-sys-pool-4] INFO  [INFO] SysMessageService: 67 : >>> 设备上线, mac:98D863BE7116, clientId:d:rinnai:SR:01:SR:ABCDEFGHIJKL12341578469425274, node:emq@127.0.0.1, ip:127.0.0.1
2020-01-08 15:43:45 285 [mqtt-sys-pool-4] ERROR [ERROR] DeviceDao: 32 : saveOnline failure, clientId:d:rinnai:SR:01:SR:ABCDEFGHIJKL12341578469425274, mac:98D863BE7116, ip:127.0.0.1, node:emq@127.0.0.1
2020-01-08 15:43:45 307 [mqtt-sys-pool-3] ERROR [ERROR] SysMessageService: 97 : >>> handleOnOff error, sysMessage:OnlineMessage{clientId='d:rinnai:SR:01:SR:98D863BE7116044Bdf1578469258919', userName='d:rinnai:SR:01:SR:98D863BE7116', ipAddress='null', cleanSession='null', protocol='null', connAck='null', timeStamp='1578469425', reason='closed', online=false} {sysMsgTypeEnum=ONOFF}
java.lang.NullPointerException: null
	at com.scosyf.mqtt.integration.dao.DeviceDao.saveOffline(DeviceDao.java:58) ~[classes/:?]
	at com.scosyf.mqtt.integration.dao.DeviceDao$$FastClassBySpringCGLIB$$468ff9c.invoke(<generated>) ~[classes/:?]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.1.10.RELEASE.jar:5.1.10.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:750) ~[spring-aop-5.1.10.RELEASE.jar:5.1.10.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.1.10.RELEASE.jar:5.1.10.RELEASE]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139) ~[spring-tx-5.1.10.RELEASE.jar:5.1.10.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.1.10.RELEASE.jar:5.1.10.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689) ~[spring-aop-5.1.10.RELEASE.jar:5.1.10.RELEASE]
	at com.scosyf.mqtt.integration.dao.DeviceDao$$EnhancerBySpringCGLIB$$e96a7f4e.saveOffline(<generated>) ~[classes/:?]
	at com.scosyf.mqtt.integration.service.SysMessageService.handleOnOff(SysMessageService.java:78) ~[classes/:?]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:1.8.0_181]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:1.8.0_181]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:1.8.0_181]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[?:1.8.0_181]
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:171) ~[spring-messaging-5.1.10.RELEASE.jar:5.1.10.RELEASE]
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:120) ~[spring-messaging-5.1.10.RELEASE.jar:5.1.10.RELEASE]
	at org.springframework.integration.handler.support.MessagingMethodInvokerHelper$HandlerMethod.invoke(MessagingMethodInvokerHelper.java:1117) ~[spring-integration-core-5.1.8.RELEASE.jar:5.1.8.RELEASE]
	at org.springframework.integration.handler.support.MessagingMethodInvokerHelper.invokeHandlerMethod(MessagingMethodInvokerHelper.java:626) ~[spring-integration-core-5.1.8.RELEASE.jar:5.1.8.RELEASE]
	at org.springframework.integration.handler.support.MessagingMethodInvokerHelper.processInternal(MessagingMethodInvokerHelper.java:491) ~[spring-integration-core-5.1.8.RELEASE.jar:5.1.8.RELEASE]
	at org.springframework.integration.handler.support.MessagingMethodInvokerHelper.process(MessagingMethodInvokerHelper.java:362) ~[spring-integration-core-5.1.8.RELEASE.jar:5.1.8.RELEASE]
	at org.springframework.integration.handler.MethodInvokingMessageProcessor.processMessage(MethodInvokingMessageProcessor.java:106) ~[spring-integration-core-5.1.8.RELEASE.jar:5.1.8.RELEASE]
	at org.springframework.integration.handler.BeanNameMessageProcessor.processMessage(BeanNameMessageProcessor.java:64) ~[spring-integration-core-5.1.8.RELEASE.jar:5.1.8.RELEASE]
	at org.springframework.integration.handler.ServiceActivatingHandler.handleRequestMessage(ServiceActivatingHandler.java:93) ~[spring-integration-core-5.1.8.RELEASE.jar:5.1.8.RELEASE]
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.handleMessageInternal(AbstractReplyProducingMessageHandler.java:123) ~[spring-integration-core-5.1.8.RELEASE.jar:5.1.8.RELEASE]
	at org.springframework.integration.handler.AbstractMessageHandler.handleMessage(AbstractMessageHandler.java:169) ~[spring-integration-core-5.1.8.RELEASE.jar:5.1.8.RELEASE]
	at org.springframework.integration.dispatcher.AbstractDispatcher.tryOptimizedDispatch(AbstractDispatcher.java:115) ~[spring-integration-core-5.1.8.RELEASE.jar:5.1.8.RELEASE]
	at org.springframework.integration.dispatcher.UnicastingDispatcher.doDispatch(UnicastingDispatcher.java:132) ~[spring-integration-core-5.1.8.RELEASE.jar:5.1.8.RELEASE]
	at org.springframework.integration.dispatcher.UnicastingDispatcher.dispatch(UnicastingDispatcher.java:105) ~[spring-integration-core-5.1.8.RELEASE.jar:5.1.8.RELEASE]
	at org.springframework.integration.channel.AbstractSubscribableChannel.doSend(AbstractSubscribableChannel.java:73) ~[spring-integration-core-5.1.8.RELEASE.jar:5.1.8.RELEASE]
	at org.springframework.integration.channel.AbstractMessageChannel.send(AbstractMessageChannel.java:453) ~[spring-integration-core-5.1.8.RELEASE.jar:5.1.8.RELEASE]
	at org.springframework.integration.channel.AbstractMessageChannel.send(AbstractMessageChannel.java:401) ~[spring-integration-core-5.1.8.RELEASE.jar:5.1.8.RELEASE]
	at org.springframework.messaging.core.GenericMessagingTemplate.doSend(GenericMessagingTemplate.java:187) ~[spring-messaging-5.1.10.RELEASE.jar:5.1.10.RELEASE]
	at org.springframework.messaging.core.GenericMessagingTemplate.doSend(GenericMessagingTemplate.java:166) ~[spring-messaging-5.1.10.RELEASE.jar:5.1.10.RELEASE]
	at org.springframework.messaging.core.GenericMessagingTemplate.doSend(GenericMessagingTemplate.java:47) ~[spring-messaging-5.1.10.RELEASE.jar:5.1.10.RELEASE]
	at org.springframework.messaging.core.AbstractMessageSendingTemplate.send(AbstractMessageSendingTemplate.java:109) ~[spring-messaging-5.1.10.RELEASE.jar:5.1.10.RELEASE]
	at org.springframework.integration.handler.AbstractMessageProducingHandler.sendOutput(AbstractMessageProducingHandler.java:431) ~[spring-integration-core-5.1.8.RELEASE.jar:5.1.8.RELEASE]
	at org.springframework.integration.handler.AbstractMessageProducingHandler.doProduceOutput(AbstractMessageProducingHandler.java:284) ~[spring-integration-core-5.1.8.RELEASE.jar:5.1.8.RELEASE]
	at org.springframework.integration.handler.AbstractMessageProducingHandler.produceOutput(AbstractMessageProducingHandler.java:265) ~[spring-integration-core-5.1.8.RELEASE.jar:5.1.8.RELEASE]
	at org.springframework.integration.handler.AbstractMessageProducingHandler.sendOutputs(AbstractMessageProducingHandler.java:223) ~[spring-integration-core-5.1.8.RELEASE.jar:5.1.8.RELEASE]
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.handleMessageInternal(AbstractReplyProducingMessageHandler.java:129) ~[spring-integration-core-5.1.8.RELEASE.jar:5.1.8.RELEASE]
	at org.springframework.integration.handler.AbstractMessageHandler.handleMessage(AbstractMessageHandler.java:169) ~[spring-integration-core-5.1.8.RELEASE.jar:5.1.8.RELEASE]
	at org.springframework.integration.dispatcher.AbstractDispatcher.tryOptimizedDispatch(AbstractDispatcher.java:115) ~[spring-integration-core-5.1.8.RELEASE.jar:5.1.8.RELEASE]
	at org.springframework.integration.dispatcher.UnicastingDispatcher.doDispatch(UnicastingDispatcher.java:132) ~[spring-integration-core-5.1.8.RELEASE.jar:5.1.8.RELEASE]
	at org.springframework.integration.dispatcher.UnicastingDispatcher.access$000(UnicastingDispatcher.java:52) ~[spring-integration-core-5.1.8.RELEASE.jar:5.1.8.RELEASE]
	at org.springframework.integration.dispatcher.UnicastingDispatcher$1.run(UnicastingDispatcher.java:113) ~[spring-integration-core-5.1.8.RELEASE.jar:5.1.8.RELEASE]
	at org.springframework.integration.util.ErrorHandlingTaskExecutor.lambda$execute$0(ErrorHandlingTaskExecutor.java:57) ~[spring-integration-core-5.1.8.RELEASE.jar:5.1.8.RELEASE]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [?:1.8.0_181]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [?:1.8.0_181]
	at java.lang.Thread.run(Thread.java:748) [?:1.8.0_181]
2020-01-08 15:45:28 543 [mqtt-sys-pool-5] INFO  [INFO] MessageTransferUtil: 33 : received sys message, header:{mqtt_receivedRetained=false, id=4fe0f4ea-f75b-6e2b-8bfb-1cf251858a3d, mqtt_duplicate=false, mqtt_receivedTopic=$SYS/brokers/emq@127.0.0.1/clients/d:rinnai:SR:01:SR:ABCDEFGHIJKL12341578469425274/disconnected, mqtt_receivedQos=1, timestamp=1578469528542}, payload:{"clientid":"d:rinnai:SR:01:SR:ABCDEFGHIJKL12341578469425274","username":"d:rinnai:SR:01:SR:98D863BE7116","reason":"closed","ts":1578469528}
2020-01-08 15:45:28 545 [mqtt-sys-pool-5] INFO  [INFO] SysMessageService: 75 : >>> 设备离线, mac:98D863BE7116, clientId:d:rinnai:SR:01:SR:ABCDEFGHIJKL12341578469425274, reason:closed
2020-01-08 15:45:28 565 [mqtt-sys-pool-5] ERROR [ERROR] DeviceDao: 57 : saveOffline failure, newClientId:d:rinnai:SR:01:SR:ABCDEFGHIJKL12341578469425274, oldClientId:null, mac:98D863BE7116
2020-01-08 15:45:37 318 [mqtt-sys-pool-6] INFO  [INFO] MessageTransferUtil: 33 : received sys message, header:{mqtt_receivedRetained=false, id=1bb712ef-6f1b-555f-f239-e5de34c292cd, mqtt_duplicate=false, mqtt_receivedTopic=$SYS/brokers/emq@127.0.0.1/clients/d:rinnai:SR:01:SR:ABCDEFGHIJKL12341578469537302/connected, mqtt_receivedQos=1, timestamp=1578469537317}, payload:{"clientid":"d:rinnai:SR:01:SR:ABCDEFGHIJKL12341578469537302","username":"d:rinnai:SR:01:SR:98D863BE7116","ipaddress":"127.0.0.1","clean_sess":true,"protocol":4,"connack":0,"ts":1578469537}
2020-01-08 15:45:37 319 [mqtt-sys-pool-6] INFO  [INFO] SysMessageService: 67 : >>> 设备上线, mac:98D863BE7116, clientId:d:rinnai:SR:01:SR:ABCDEFGHIJKL12341578469537302, node:emq@127.0.0.1, ip:127.0.0.1
2020-01-08 15:46:55 402 [main] INFO  [INFO] SpringIntegrationApplication: 37 : 
=========================================================
                                                         
          Welcome to Spring Integration!                 
                                                         
    For more information please visit:                   
    https://spring.io/projects/spring-integration        
                                                         
                                                         
    这是一个基于MQTT订阅的消息处理服务 -                     
    订阅关键的TOPIC，将收到的mqtt消息处理并最终写入数据        
=========================================================
2020-01-08 15:46:55 541 [restartedMain] INFO  [INFO] SpringIntegrationApplication: 37 : 
=========================================================
                                                         
          Welcome to Spring Integration!                 
                                                         
    For more information please visit:                   
    https://spring.io/projects/spring-integration        
                                                         
                                                         
    这是一个基于MQTT订阅的消息处理服务 -                     
    订阅关键的TOPIC，将收到的mqtt消息处理并最终写入数据        
=========================================================
2020-01-08 15:46:55 997 [restartedMain] INFO  [INFO] SpringIntegrationApplication: 50 : Starting SpringIntegrationApplication on DESKTOP-QA9ODS5 with PID 24672 (D:\kunbu\spring-integration\target\classes started by mojun in D:\kunbu\spring-integration)
2020-01-08 15:46:55 998 [restartedMain] INFO  [INFO] SpringIntegrationApplication: 648 : No active profile set, falling back to default profiles: default
2020-01-08 15:46:56 040 [restartedMain] INFO  [INFO] DevToolsPropertyDefaultsPostProcessor: 225 : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2020-01-08 15:46:56 041 [restartedMain] INFO  [INFO] DevToolsPropertyDefaultsPostProcessor: 225 : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2020-01-08 15:46:56 643 [restartedMain] INFO  [INFO] RepositoryConfigurationDelegate: 126 : Bootstrapping Spring Data repositories in DEFAULT mode.
2020-01-08 15:46:56 667 [restartedMain] INFO  [INFO] RepositoryConfigurationDelegate: 182 : Finished Spring Data repository scanning in 21ms. Found 0 repository interfaces.
2020-01-08 15:46:56 845 [restartedMain] INFO  [INFO] DefaultConfiguringBeanFactoryPostProcessor: 193 : No bean named 'errorChannel' has been explicitly defined. Therefore, a default PublishSubscribeChannel will be created.
2020-01-08 15:46:56 851 [restartedMain] INFO  [INFO] DefaultConfiguringBeanFactoryPostProcessor: 280 : No bean named 'taskScheduler' has been explicitly defined. Therefore, a default ThreadPoolTaskScheduler will be created.
2020-01-08 15:46:56 855 [restartedMain] INFO  [INFO] DefaultConfiguringBeanFactoryPostProcessor: 431 : No bean named 'integrationHeaderChannelRegistry' has been explicitly defined. Therefore, a default DefaultHeaderChannelRegistry will be created.
2020-01-08 15:46:56 927 [restartedMain] INFO  [INFO] PostProcessorRegistrationDelegate$BeanPostProcessorChecker: 330 : Bean 'org.springframework.integration.config.IntegrationManagementConfiguration' of type [org.springframework.integration.config.IntegrationManagementConfiguration$$EnhancerBySpringCGLIB$$7d01ff44] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-01-08 15:46:56 938 [restartedMain] INFO  [INFO] PostProcessorRegistrationDelegate$BeanPostProcessorChecker: 330 : Bean 'integrationDisposableAutoCreatedBeans' of type [org.springframework.integration.config.annotation.Disposables] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-01-08 15:46:57 200 [restartedMain] INFO  [INFO] TomcatWebServer: 90 : Tomcat initialized with port(s): 9090 (http)
2020-01-08 15:46:57 210 [restartedMain] INFO  [INFO] Http11NioProtocol: 173 : Initializing ProtocolHandler ["http-nio-9090"]
2020-01-08 15:46:57 218 [restartedMain] INFO  [INFO] StandardService: 173 : Starting service [Tomcat]
2020-01-08 15:46:57 219 [restartedMain] INFO  [INFO] StandardEngine: 173 : Starting Servlet engine: [Apache Tomcat/9.0.26]
2020-01-08 15:46:57 338 [restartedMain] INFO  [INFO] [/]: 173 : Initializing Spring embedded WebApplicationContext
2020-01-08 15:46:57 339 [restartedMain] INFO  [INFO] ContextLoader: 284 : Root WebApplicationContext: initialization completed in 1297 ms
2020-01-08 15:46:58 322 [restartedMain] INFO  [INFO] cluster: 71 : Cluster created with settings {hosts=[localhost:27017], mode=SINGLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}
2020-01-08 15:46:58 359 [cluster-ClusterId{value='5e1588f2f4ac9c6060b52483', description='null'}-localhost:27017] INFO  [INFO] connection: 71 : Opened connection [connectionId{localValue:1, serverValue:55}] to localhost:27017
2020-01-08 15:46:58 362 [cluster-ClusterId{value='5e1588f2f4ac9c6060b52483', description='null'}-localhost:27017] INFO  [INFO] cluster: 71 : Monitor thread successfully connected to server with description ServerDescription{address=localhost:27017, type=STANDALONE, state=CONNECTED, ok=true, version=ServerVersion{versionList=[3, 6, 12]}, minWireVersion=0, maxWireVersion=6, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=1916300}
2020-01-08 15:46:58 407 [restartedMain] WARN  [WARN] CustomConversions: 207 : Registering converter from class java.time.LocalDateTime to class java.time.Instant as reading converter although it doesn't convert from a store-supported type! You might wanna check you annotation setup at the converter implementation.
2020-01-08 15:46:58 408 [restartedMain] WARN  [WARN] CustomConversions: 207 : Registering converter from class java.time.Instant to class java.time.LocalDateTime as reading converter although it doesn't convert from a store-supported type! You might wanna check you annotation setup at the converter implementation.
2020-01-08 15:46:58 492 [restartedMain] INFO  [INFO] OptionalLiveReloadServer: 57 : LiveReload server is running on port 35729
2020-01-08 15:46:58 503 [restartedMain] WARN  [WARN] CustomConversions: 207 : Registering converter from class java.time.LocalDateTime to class java.time.Instant as reading converter although it doesn't convert from a store-supported type! You might wanna check you annotation setup at the converter implementation.
2020-01-08 15:46:58 503 [restartedMain] WARN  [WARN] CustomConversions: 207 : Registering converter from class java.time.Instant to class java.time.LocalDateTime as reading converter although it doesn't convert from a store-supported type! You might wanna check you annotation setup at the converter implementation.
2020-01-08 15:46:58 548 [restartedMain] INFO  [INFO] connection: 71 : Opened connection [connectionId{localValue:2, serverValue:56}] to localhost:27017
2020-01-08 15:46:58 884 [restartedMain] INFO  [INFO] ThreadPoolTaskExecutor: 171 : Initializing ExecutorService 'applicationTaskExecutor'
2020-01-08 15:46:58 998 [restartedMain] INFO  [INFO] ThreadPoolTaskScheduler: 171 : Initializing ExecutorService 'taskScheduler'
2020-01-08 15:46:59 183 [restartedMain] INFO  [INFO] EventDrivenConsumer: 107 : Adding {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2020-01-08 15:46:59 183 [restartedMain] INFO  [INFO] PublishSubscribeChannel: 64 : Channel 'application.errorChannel' has 1 subscriber(s).
2020-01-08 15:46:59 184 [restartedMain] INFO  [INFO] EventDrivenConsumer: 159 : started _org.springframework.integration.errorLogger
2020-01-08 15:46:59 213 [restartedMain] INFO  [INFO] MqttPahoMessageDrivenChannelAdapter: 159 : started sysInbound
2020-01-08 15:46:59 214 [restartedMain] INFO  [INFO] EventDrivenConsumer: 107 : Adding {bridge} as a subscriber to the 'sysMsgFlow.channel#0' channel
2020-01-08 15:46:59 214 [restartedMain] INFO  [INFO] DirectChannel: 64 : Channel 'application.sysMsgFlow.channel#0' has 1 subscriber(s).
2020-01-08 15:46:59 214 [restartedMain] INFO  [INFO] EventDrivenConsumer: 159 : started sysMsgFlow.org.springframework.integration.config.ConsumerEndpointFactoryBean#0
2020-01-08 15:46:59 214 [restartedMain] INFO  [INFO] EventDrivenConsumer: 107 : Adding {service-activator} as a subscriber to the 'sysMsgFlow.channel#1' channel
2020-01-08 15:46:59 214 [restartedMain] INFO  [INFO] ExecutorChannel: 64 : Channel 'application.sysMsgFlow.channel#1' has 1 subscriber(s).
2020-01-08 15:46:59 214 [restartedMain] INFO  [INFO] EventDrivenConsumer: 159 : started sysMsgFlow.org.springframework.integration.config.ConsumerEndpointFactoryBean#1
2020-01-08 15:46:59 214 [restartedMain] INFO  [INFO] EventDrivenConsumer: 107 : Adding {service-activator} as a subscriber to the 'sysMsgFlow.channel#2' channel
2020-01-08 15:46:59 215 [restartedMain] INFO  [INFO] DirectChannel: 64 : Channel 'application.sysMsgFlow.channel#2' has 1 subscriber(s).
2020-01-08 15:46:59 215 [restartedMain] INFO  [INFO] EventDrivenConsumer: 159 : started sysMsgFlow.org.springframework.integration.config.ConsumerEndpointFactoryBean#2
2020-01-08 15:46:59 215 [restartedMain] INFO  [INFO] EventDrivenConsumer: 107 : Adding {filter} as a subscriber to the 'sysMsgFlow.channel#3' channel
2020-01-08 15:46:59 215 [restartedMain] INFO  [INFO] DirectChannel: 64 : Channel 'application.sysMsgFlow.channel#3' has 1 subscriber(s).
2020-01-08 15:46:59 215 [restartedMain] INFO  [INFO] EventDrivenConsumer: 159 : started sysMsgFlow.org.springframework.integration.config.ConsumerEndpointFactoryBean#3
2020-01-08 15:46:59 215 [restartedMain] INFO  [INFO] EventDrivenConsumer: 107 : Adding {mqtt:outbound-channel-adapter} as a subscriber to the 'sysMsgFlow.channel#4' channel
2020-01-08 15:46:59 216 [restartedMain] INFO  [INFO] DirectChannel: 64 : Channel 'application.sysMsgFlow.channel#4' has 1 subscriber(s).
2020-01-08 15:46:59 216 [restartedMain] INFO  [INFO] EventDrivenConsumer: 159 : started sysMsgFlow.org.springframework.integration.config.ConsumerEndpointFactoryBean#4
2020-01-08 15:46:59 220 [restartedMain] INFO  [INFO] MqttPahoMessageDrivenChannelAdapter: 159 : started bizInbound
2020-01-08 15:46:59 220 [restartedMain] INFO  [INFO] EventDrivenConsumer: 107 : Adding {bridge} as a subscriber to the 'bizMsgFlow.channel#0' channel
2020-01-08 15:46:59 220 [restartedMain] INFO  [INFO] DirectChannel: 64 : Channel 'application.bizMsgFlow.channel#0' has 1 subscriber(s).
2020-01-08 15:46:59 220 [restartedMain] INFO  [INFO] EventDrivenConsumer: 159 : started bizMsgFlow.org.springframework.integration.config.ConsumerEndpointFactoryBean#0
2020-01-08 15:46:59 220 [restartedMain] INFO  [INFO] EventDrivenConsumer: 107 : Adding {service-activator} as a subscriber to the 'bizMsgFlow.channel#1' channel
2020-01-08 15:46:59 220 [restartedMain] INFO  [INFO] ExecutorChannel: 64 : Channel 'application.bizMsgFlow.channel#1' has 1 subscriber(s).
2020-01-08 15:46:59 220 [restartedMain] INFO  [INFO] EventDrivenConsumer: 159 : started bizMsgFlow.org.springframework.integration.config.ConsumerEndpointFactoryBean#1
2020-01-08 15:46:59 220 [restartedMain] INFO  [INFO] EventDrivenConsumer: 107 : Adding {router} as a subscriber to the 'bizMsgFlow.channel#2' channel
2020-01-08 15:46:59 221 [restartedMain] INFO  [INFO] DirectChannel: 64 : Channel 'application.bizMsgFlow.channel#2' has 1 subscriber(s).
2020-01-08 15:46:59 221 [restartedMain] INFO  [INFO] EventDrivenConsumer: 159 : started bizMsgFlow.org.springframework.integration.config.ConsumerEndpointFactoryBean#2
2020-01-08 15:46:59 221 [restartedMain] INFO  [INFO] EventDrivenConsumer: 107 : Adding {service-activator} as a subscriber to the 'bizMsgFlow.subFlow#0.channel#0' channel
2020-01-08 15:46:59 221 [restartedMain] INFO  [INFO] DirectChannel: 64 : Channel 'application.bizMsgFlow.subFlow#0.channel#0' has 1 subscriber(s).
2020-01-08 15:46:59 221 [restartedMain] INFO  [INFO] EventDrivenConsumer: 159 : started bizMsgFlow.subFlow#0.org.springframework.integration.config.ConsumerEndpointFactoryBean#0
2020-01-08 15:46:59 221 [restartedMain] INFO  [INFO] EventDrivenConsumer: 107 : Adding {service-activator} as a subscriber to the 'bizMsgFlow.subFlow#1.channel#0' channel
2020-01-08 15:46:59 221 [restartedMain] INFO  [INFO] DirectChannel: 64 : Channel 'application.bizMsgFlow.subFlow#1.channel#0' has 1 subscriber(s).
2020-01-08 15:46:59 222 [restartedMain] INFO  [INFO] EventDrivenConsumer: 159 : started bizMsgFlow.subFlow#1.org.springframework.integration.config.ConsumerEndpointFactoryBean#0
2020-01-08 15:46:59 222 [restartedMain] INFO  [INFO] EventDrivenConsumer: 107 : Adding {service-activator} as a subscriber to the 'bizMsgFlow.subFlow#2.channel#0' channel
2020-01-08 15:46:59 222 [restartedMain] INFO  [INFO] DirectChannel: 64 : Channel 'application.bizMsgFlow.subFlow#2.channel#0' has 1 subscriber(s).
2020-01-08 15:46:59 222 [restartedMain] INFO  [INFO] EventDrivenConsumer: 159 : started bizMsgFlow.subFlow#2.org.springframework.integration.config.ConsumerEndpointFactoryBean#0
2020-01-08 15:46:59 222 [restartedMain] INFO  [INFO] EventDrivenConsumer: 107 : Adding {service-activator} as a subscriber to the 'bizMsgFlow.subFlow#3.channel#0' channel
2020-01-08 15:46:59 222 [restartedMain] INFO  [INFO] DirectChannel: 64 : Channel 'application.bizMsgFlow.subFlow#3.channel#0' has 1 subscriber(s).
2020-01-08 15:46:59 222 [restartedMain] INFO  [INFO] EventDrivenConsumer: 159 : started bizMsgFlow.subFlow#3.org.springframework.integration.config.ConsumerEndpointFactoryBean#0
2020-01-08 15:46:59 222 [restartedMain] INFO  [INFO] EventDrivenConsumer: 107 : Adding {bridge} as a subscriber to the 'bizMsgFlow.channel#3' channel
2020-01-08 15:46:59 222 [restartedMain] INFO  [INFO] DirectChannel: 64 : Channel 'application.bizMsgFlow.channel#3' has 1 subscriber(s).
2020-01-08 15:46:59 223 [restartedMain] INFO  [INFO] EventDrivenConsumer: 159 : started bizMsgFlow.org.springframework.integration.config.ConsumerEndpointFactoryBean#3
2020-01-08 15:46:59 223 [restartedMain] INFO  [INFO] EventDrivenConsumer: 107 : Adding {message-handler:mqttSpringIntegration.mqttOutbound.serviceActivator} as a subscriber to the 'mqttOutboundChannel' channel
2020-01-08 15:46:59 225 [restartedMain] INFO  [INFO] DirectChannel: 64 : Channel 'application.mqttOutboundChannel' has 1 subscriber(s).
2020-01-08 15:46:59 225 [restartedMain] INFO  [INFO] EventDrivenConsumer: 159 : started mqttSpringIntegration.mqttOutbound.serviceActivator
2020-01-08 15:46:59 225 [restartedMain] INFO  [INFO] GatewayProxyFactoryBean$MethodInvocationGateway: 159 : started mqttPublisher
2020-01-08 15:46:59 225 [restartedMain] INFO  [INFO] GatewayProxyFactoryBean: 159 : started mqttPublisher
2020-01-08 15:46:59 223 [MQTT Call: consumer-sys-subscriber] ERROR [ERROR] MqttPahoMessageDrivenChannelAdapter: 353 : Unhandled exception for GenericMessage [payload={"clientid":"consumer-publisher","username":"mqtt-kunbu","reason":"closed","ts":1578469610}, headers={mqtt_receivedRetained=false, id=3b13d0ae-06d2-2593-84ef-553af66b2687, mqtt_duplicate=true, mqtt_receivedTopic=$SYS/brokers/emq@127.0.0.1/clients/consumer-publisher/disconnected, mqtt_receivedQos=1, timestamp=1578469619213}]
org.springframework.messaging.MessageDeliveryException: Dispatcher has no subscribers for channel 'application.sysMsgFlow.channel#0'.; nested exception is org.springframework.integration.MessageDispatchingException: Dispatcher has no subscribers, failedMessage=GenericMessage [payload={"clientid":"consumer-publisher","username":"mqtt-kunbu","reason":"closed","ts":1578469610}, headers={mqtt_receivedRetained=false, id=3b13d0ae-06d2-2593-84ef-553af66b2687, mqtt_duplicate=true, mqtt_receivedTopic=$SYS/brokers/emq@127.0.0.1/clients/consumer-publisher/disconnected, mqtt_receivedQos=1, timestamp=1578469619213}]
	at org.springframework.integration.channel.AbstractSubscribableChannel.doSend(AbstractSubscribableChannel.java:77) ~[spring-integration-core-5.1.8.RELEASE.jar:5.1.8.RELEASE]
	at org.springframework.integration.channel.AbstractMessageChannel.send(AbstractMessageChannel.java:453) ~[spring-integration-core-5.1.8.RELEASE.jar:5.1.8.RELEASE]
	at org.springframework.integration.channel.AbstractMessageChannel.send(AbstractMessageChannel.java:401) ~[spring-integration-core-5.1.8.RELEASE.jar:5.1.8.RELEASE]
	at org.springframework.messaging.core.GenericMessagingTemplate.doSend(GenericMessagingTemplate.java:187) ~[spring-messaging-5.1.10.RELEASE.jar:5.1.10.RELEASE]
	at org.springframework.messaging.core.GenericMessagingTemplate.doSend(GenericMessagingTemplate.java:166) ~[spring-messaging-5.1.10.RELEASE.jar:5.1.10.RELEASE]
	at org.springframework.messaging.core.GenericMessagingTemplate.doSend(GenericMessagingTemplate.java:47) ~[spring-messaging-5.1.10.RELEASE.jar:5.1.10.RELEASE]
	at org.springframework.messaging.core.AbstractMessageSendingTemplate.send(AbstractMessageSendingTemplate.java:109) ~[spring-messaging-5.1.10.RELEASE.jar:5.1.10.RELEASE]
	at org.springframework.integration.endpoint.MessageProducerSupport.sendMessage(MessageProducerSupport.java:205) ~[spring-integration-core-5.1.8.RELEASE.jar:5.1.8.RELEASE]
	at org.springframework.integration.mqtt.inbound.MqttPahoMessageDrivenChannelAdapter.messageArrived(MqttPahoMessageDrivenChannelAdapter.java:350) [spring-integration-mqtt-5.1.8.RELEASE.jar:5.1.8.RELEASE]
	at org.eclipse.paho.client.mqttv3.internal.CommsCallback.deliverMessage(CommsCallback.java:499) [org.eclipse.paho.client.mqttv3-1.2.0.jar:?]
	at org.eclipse.paho.client.mqttv3.internal.CommsCallback.handleMessage(CommsCallback.java:402) [org.eclipse.paho.client.mqttv3-1.2.0.jar:?]
	at org.eclipse.paho.client.mqttv3.internal.CommsCallback.run(CommsCallback.java:206) [org.eclipse.paho.client.mqttv3-1.2.0.jar:?]
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511) [?:1.8.0_181]
	at java.util.concurrent.FutureTask.run(FutureTask.java:266) [?:1.8.0_181]
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180) [?:1.8.0_181]
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293) [?:1.8.0_181]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [?:1.8.0_181]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [?:1.8.0_181]
	at java.lang.Thread.run(Thread.java:748) [?:1.8.0_181]
Caused by: org.springframework.integration.MessageDispatchingException: Dispatcher has no subscribers
	at org.springframework.integration.dispatcher.UnicastingDispatcher.doDispatch(UnicastingDispatcher.java:138) ~[spring-integration-core-5.1.8.RELEASE.jar:5.1.8.RELEASE]
	at org.springframework.integration.dispatcher.UnicastingDispatcher.dispatch(UnicastingDispatcher.java:105) ~[spring-integration-core-5.1.8.RELEASE.jar:5.1.8.RELEASE]
	at org.springframework.integration.channel.AbstractSubscribableChannel.doSend(AbstractSubscribableChannel.java:73) ~[spring-integration-core-5.1.8.RELEASE.jar:5.1.8.RELEASE]
	... 18 more
2020-01-08 15:46:59 231 [MQTT Call: consumer-sys-subscriber] ERROR [ERROR] MqttPahoMessageDrivenChannelAdapter: 327 : Lost connection: MqttException; retrying...
2020-01-08 15:46:59 233 [restartedMain] INFO  [INFO] Http11NioProtocol: 173 : Starting ProtocolHandler ["http-nio-9090"]
2020-01-08 15:46:59 250 [restartedMain] INFO  [INFO] TomcatWebServer: 202 : Tomcat started on port(s): 9090 (http) with context path ''
2020-01-08 15:46:59 253 [restartedMain] INFO  [INFO] SpringIntegrationApplication: 59 : Started SpringIntegrationApplication in 3.704 seconds (JVM running for 5.268)
2020-01-08 15:47:10 249 [mqtt-sys-pool-2] INFO  [INFO] MessageTransferUtil: 33 : received sys message, header:{mqtt_receivedRetained=false, id=14f97c96-0533-b25d-c981-6285a19e640a, mqtt_duplicate=true, mqtt_receivedTopic=$SYS/brokers/emq@127.0.0.1/clients/consumer-publisher/disconnected, mqtt_receivedQos=1, timestamp=1578469630249}, payload:{"clientid":"consumer-publisher","username":"mqtt-kunbu","reason":"closed","ts":1578469610}
2020-01-08 15:47:10 249 [mqtt-sys-pool-1] INFO  [INFO] MessageTransferUtil: 33 : received sys message, header:{mqtt_receivedRetained=false, id=c7a3ae84-36ef-c763-2c7c-d71d33b5aa38, mqtt_duplicate=true, mqtt_receivedTopic=$SYS/brokers/emq@127.0.0.1/clients/consumer-sys-subscriber/disconnected, mqtt_receivedQos=1, timestamp=1578469630249}, payload:{"clientid":"consumer-sys-subscriber","username":"mqtt-kunbu","reason":"closed","ts":1578469610}
2020-01-08 15:47:10 249 [mqtt-sys-pool-0] INFO  [INFO] MessageTransferUtil: 33 : received sys message, header:{mqtt_receivedRetained=false, id=4273b87d-c93d-5e1d-caf3-783f805826dd, mqtt_duplicate=true, mqtt_receivedTopic=$SYS/brokers/emq@127.0.0.1/clients/consumer-biz-subscriber/disconnected, mqtt_receivedQos=1, timestamp=1578469630246}, payload:{"clientid":"consumer-biz-subscriber","username":"mqtt-kunbu","reason":"closed","ts":1578469610}
2020-01-08 15:47:10 250 [mqtt-sys-pool-3] INFO  [INFO] MessageTransferUtil: 33 : received sys message, header:{mqtt_receivedRetained=false, id=534b3a36-e6f5-b61b-38d7-ab93ea9f18b4, mqtt_duplicate=true, mqtt_receivedTopic=$SYS/brokers/emq@127.0.0.1/clients/consumer-sys-subscriber/connected, mqtt_receivedQos=1, timestamp=1578469630249}, payload:{"clientid":"consumer-sys-subscriber","username":"mqtt-kunbu","ipaddress":"127.0.0.1","clean_sess":false,"protocol":4,"connack":0,"ts":1578469619}
2020-01-08 15:47:10 250 [mqtt-sys-pool-4] INFO  [INFO] MessageTransferUtil: 33 : received sys message, header:{mqtt_receivedRetained=false, id=546c4da9-fc00-b217-f01d-6b534d06e338, mqtt_duplicate=true, mqtt_receivedTopic=$SYS/brokers/emq@127.0.0.1/clients/consumer-biz-subscriber/connected, mqtt_receivedQos=1, timestamp=1578469630249}, payload:{"clientid":"consumer-biz-subscriber","username":"mqtt-kunbu","ipaddress":"127.0.0.1","clean_sess":false,"protocol":4,"connack":0,"ts":1578469619}
2020-01-08 15:47:10 250 [mqtt-sys-pool-5] INFO  [INFO] MessageTransferUtil: 33 : received sys message, header:{mqtt_receivedRetained=false, id=8cb50bcc-8c09-8b93-ea2d-9234025a3576, mqtt_duplicate=false, mqtt_receivedTopic=$SYS/brokers/emq@127.0.0.1/clients/consumer-sys-subscriber/disconnected, mqtt_receivedQos=1, timestamp=1578469630250}, payload:{"clientid":"consumer-sys-subscriber","username":"mqtt-kunbu","reason":"closed","ts":1578469619}
2020-01-08 15:47:10 250 [mqtt-sys-pool-6] INFO  [INFO] MessageTransferUtil: 33 : received sys message, header:{mqtt_receivedRetained=false, id=60f2a34b-f187-643f-85d3-4da44610f24c, mqtt_duplicate=false, mqtt_receivedTopic=$SYS/brokers/emq@127.0.0.1/clients/consumer-sys-subscriber/connected, mqtt_receivedQos=1, timestamp=1578469630250}, payload:{"clientid":"consumer-sys-subscriber","username":"mqtt-kunbu","ipaddress":"127.0.0.1","clean_sess":false,"protocol":4,"connack":0,"ts":1578469630}
2020-01-08 15:47:24 727 [mqtt-sys-pool-7] INFO  [INFO] MessageTransferUtil: 33 : received sys message, header:{mqtt_receivedRetained=false, id=51cb4b91-1070-961c-91e1-7726feb044dd, mqtt_duplicate=false, mqtt_receivedTopic=$SYS/brokers/emq@127.0.0.1/clients/d:rinnai:SR:01:SR:ABCDEFGHIJKL12341578469537302/disconnected, mqtt_receivedQos=1, timestamp=1578469644727}, payload:{"clientid":"d:rinnai:SR:01:SR:ABCDEFGHIJKL12341578469537302","username":"d:rinnai:SR:01:SR:98D863BE7116","reason":"closed","ts":1578469644}
2020-01-08 15:47:24 774 [mqtt-sys-pool-7] INFO  [INFO] SysMessageService: 75 : >>> 设备离线, mac:98D863BE7116, clientId:d:rinnai:SR:01:SR:ABCDEFGHIJKL12341578469537302, reason:closed
2020-01-08 15:47:24 805 [mqtt-sys-pool-7] ERROR [ERROR] DeviceDao: 57 : saveOffline failure, newClientId:d:rinnai:SR:01:SR:ABCDEFGHIJKL12341578469537302, oldClientId:null, mac:98D863BE7116
2020-01-08 15:47:31 157 [mqtt-sys-pool-3] INFO  [INFO] MessageTransferUtil: 33 : received sys message, header:{mqtt_receivedRetained=false, id=3e787975-1bd8-22bd-6d2e-d4f1894f2c77, mqtt_duplicate=false, mqtt_receivedTopic=$SYS/brokers/emq@127.0.0.1/clients/d:rinnai:SR:01:SR:ABCDEFGHIJKL12341578469651134/connected, mqtt_receivedQos=1, timestamp=1578469651157}, payload:{"clientid":"d:rinnai:SR:01:SR:ABCDEFGHIJKL12341578469651134","username":"d:rinnai:SR:01:SR:98D863BE7116","ipaddress":"127.0.0.1","clean_sess":true,"protocol":4,"connack":0,"ts":1578469651}
2020-01-08 15:47:31 159 [mqtt-sys-pool-3] INFO  [INFO] SysMessageService: 67 : >>> 设备上线, mac:98D863BE7116, clientId:d:rinnai:SR:01:SR:ABCDEFGHIJKL12341578469651134, node:emq@127.0.0.1, ip:127.0.0.1
2020-01-08 15:47:31 173 [mqtt-sys-pool-6] INFO  [INFO] MessageTransferUtil: 33 : received sys message, header:{mqtt_receivedRetained=false, id=289d599b-ad24-ebeb-d2c4-97fa5909e111, mqtt_duplicate=false, mqtt_receivedTopic=$SYS/brokers/emq@127.0.0.1/clients/consumer-publisher/connected, mqtt_receivedQos=1, timestamp=1578469651172}, payload:{"clientid":"consumer-publisher","username":"mqtt-kunbu","ipaddress":"127.0.0.1","clean_sess":false,"protocol":4,"connack":0,"ts":1578469651}
2020-01-08 15:48:21 923 [mqtt-sys-pool-4] INFO  [INFO] MessageTransferUtil: 33 : received sys message, header:{mqtt_receivedRetained=false, id=de67178d-0198-7fa2-3f43-b7d84fbb8cf2, mqtt_duplicate=false, mqtt_receivedTopic=$SYS/brokers/emq@127.0.0.1/clients/a:rinnai:SR:01:SR:1880671989812341578465165822/disconnected, mqtt_receivedQos=1, timestamp=1578469701923}, payload:{"clientid":"a:rinnai:SR:01:SR:1880671989812341578465165822","username":"app","reason":"closed","ts":1578469701}
2020-01-08 15:48:31 172 [mqtt-sys-pool-5] INFO  [INFO] MessageTransferUtil: 33 : received sys message, header:{mqtt_receivedRetained=false, id=2d547634-fbf5-8497-12e6-69fc630ed8a8, mqtt_duplicate=false, mqtt_receivedTopic=$SYS/brokers/emq@127.0.0.1/clients/a:rinnai:SR:01:SR:1880671989812341578469711156/connected, mqtt_receivedQos=1, timestamp=1578469711172}, payload:{"clientid":"a:rinnai:SR:01:SR:1880671989812341578469711156","username":"app","ipaddress":"127.0.0.1","clean_sess":true,"protocol":4,"connack":0,"ts":1578469711}
2020-01-08 15:49:12 968 [main] INFO  [INFO] SpringIntegrationApplication: 37 : 
=========================================================
                                                         
          Welcome to Spring Integration!                 
                                                         
    For more information please visit:                   
    https://spring.io/projects/spring-integration        
                                                         
                                                         
    这是一个基于MQTT订阅的消息处理服务 -                     
    订阅关键的TOPIC，将收到的mqtt消息处理并最终写入数据        
=========================================================
2020-01-08 15:49:13 100 [restartedMain] INFO  [INFO] SpringIntegrationApplication: 37 : 
=========================================================
                                                         
          Welcome to Spring Integration!                 
                                                         
    For more information please visit:                   
    https://spring.io/projects/spring-integration        
                                                         
                                                         
    这是一个基于MQTT订阅的消息处理服务 -                     
    订阅关键的TOPIC，将收到的mqtt消息处理并最终写入数据        
=========================================================
2020-01-08 15:49:13 487 [restartedMain] INFO  [INFO] SpringIntegrationApplication: 50 : Starting SpringIntegrationApplication on DESKTOP-QA9ODS5 with PID 26160 (D:\kunbu\spring-integration\target\classes started by mojun in D:\kunbu\spring-integration)
2020-01-08 15:49:13 488 [restartedMain] INFO  [INFO] SpringIntegrationApplication: 648 : No active profile set, falling back to default profiles: default
2020-01-08 15:49:13 529 [restartedMain] INFO  [INFO] DevToolsPropertyDefaultsPostProcessor: 225 : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2020-01-08 15:49:13 530 [restartedMain] INFO  [INFO] DevToolsPropertyDefaultsPostProcessor: 225 : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2020-01-08 15:49:14 123 [restartedMain] INFO  [INFO] RepositoryConfigurationDelegate: 126 : Bootstrapping Spring Data repositories in DEFAULT mode.
2020-01-08 15:49:14 147 [restartedMain] INFO  [INFO] RepositoryConfigurationDelegate: 182 : Finished Spring Data repository scanning in 20ms. Found 0 repository interfaces.
2020-01-08 15:49:14 318 [restartedMain] INFO  [INFO] DefaultConfiguringBeanFactoryPostProcessor: 193 : No bean named 'errorChannel' has been explicitly defined. Therefore, a default PublishSubscribeChannel will be created.
2020-01-08 15:49:14 324 [restartedMain] INFO  [INFO] DefaultConfiguringBeanFactoryPostProcessor: 280 : No bean named 'taskScheduler' has been explicitly defined. Therefore, a default ThreadPoolTaskScheduler will be created.
2020-01-08 15:49:14 327 [restartedMain] INFO  [INFO] DefaultConfiguringBeanFactoryPostProcessor: 431 : No bean named 'integrationHeaderChannelRegistry' has been explicitly defined. Therefore, a default DefaultHeaderChannelRegistry will be created.
2020-01-08 15:49:14 400 [restartedMain] INFO  [INFO] PostProcessorRegistrationDelegate$BeanPostProcessorChecker: 330 : Bean 'org.springframework.integration.config.IntegrationManagementConfiguration' of type [org.springframework.integration.config.IntegrationManagementConfiguration$$EnhancerBySpringCGLIB$$bfbac7c4] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-01-08 15:49:14 410 [restartedMain] INFO  [INFO] PostProcessorRegistrationDelegate$BeanPostProcessorChecker: 330 : Bean 'integrationDisposableAutoCreatedBeans' of type [org.springframework.integration.config.annotation.Disposables] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-01-08 15:49:14 653 [restartedMain] INFO  [INFO] TomcatWebServer: 90 : Tomcat initialized with port(s): 9090 (http)
2020-01-08 15:49:14 664 [restartedMain] INFO  [INFO] Http11NioProtocol: 173 : Initializing ProtocolHandler ["http-nio-9090"]
2020-01-08 15:49:14 671 [restartedMain] INFO  [INFO] StandardService: 173 : Starting service [Tomcat]
2020-01-08 15:49:14 671 [restartedMain] INFO  [INFO] StandardEngine: 173 : Starting Servlet engine: [Apache Tomcat/9.0.26]
2020-01-08 15:49:14 782 [restartedMain] INFO  [INFO] [/]: 173 : Initializing Spring embedded WebApplicationContext
2020-01-08 15:49:14 782 [restartedMain] INFO  [INFO] ContextLoader: 284 : Root WebApplicationContext: initialization completed in 1252 ms
2020-01-08 15:49:15 728 [restartedMain] INFO  [INFO] cluster: 71 : Cluster created with settings {hosts=[localhost:27017], mode=SINGLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}
2020-01-08 15:49:15 766 [cluster-ClusterId{value='5e15897bf4ac9c66302c455d', description='null'}-localhost:27017] INFO  [INFO] connection: 71 : Opened connection [connectionId{localValue:1, serverValue:59}] to localhost:27017
2020-01-08 15:49:15 769 [cluster-ClusterId{value='5e15897bf4ac9c66302c455d', description='null'}-localhost:27017] INFO  [INFO] cluster: 71 : Monitor thread successfully connected to server with description ServerDescription{address=localhost:27017, type=STANDALONE, state=CONNECTED, ok=true, version=ServerVersion{versionList=[3, 6, 12]}, minWireVersion=0, maxWireVersion=6, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=2049501}
2020-01-08 15:49:15 818 [restartedMain] WARN  [WARN] CustomConversions: 207 : Registering converter from class java.time.LocalDateTime to class java.time.Instant as reading converter although it doesn't convert from a store-supported type! You might wanna check you annotation setup at the converter implementation.
2020-01-08 15:49:15 819 [restartedMain] WARN  [WARN] CustomConversions: 207 : Registering converter from class java.time.Instant to class java.time.LocalDateTime as reading converter although it doesn't convert from a store-supported type! You might wanna check you annotation setup at the converter implementation.
2020-01-08 15:49:15 895 [restartedMain] INFO  [INFO] OptionalLiveReloadServer: 57 : LiveReload server is running on port 35729
2020-01-08 15:49:15 912 [restartedMain] WARN  [WARN] CustomConversions: 207 : Registering converter from class java.time.LocalDateTime to class java.time.Instant as reading converter although it doesn't convert from a store-supported type! You might wanna check you annotation setup at the converter implementation.
2020-01-08 15:49:15 913 [restartedMain] WARN  [WARN] CustomConversions: 207 : Registering converter from class java.time.Instant to class java.time.LocalDateTime as reading converter although it doesn't convert from a store-supported type! You might wanna check you annotation setup at the converter implementation.
2020-01-08 15:49:15 958 [restartedMain] INFO  [INFO] connection: 71 : Opened connection [connectionId{localValue:2, serverValue:60}] to localhost:27017
2020-01-08 15:49:16 302 [restartedMain] INFO  [INFO] ThreadPoolTaskExecutor: 171 : Initializing ExecutorService 'applicationTaskExecutor'
2020-01-08 15:49:16 404 [restartedMain] INFO  [INFO] ThreadPoolTaskScheduler: 171 : Initializing ExecutorService 'taskScheduler'
2020-01-08 15:49:16 580 [restartedMain] INFO  [INFO] EventDrivenConsumer: 107 : Adding {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2020-01-08 15:49:16 580 [restartedMain] INFO  [INFO] PublishSubscribeChannel: 64 : Channel 'application.errorChannel' has 1 subscriber(s).
2020-01-08 15:49:16 580 [restartedMain] INFO  [INFO] EventDrivenConsumer: 159 : started _org.springframework.integration.errorLogger
2020-01-08 15:49:16 608 [restartedMain] INFO  [INFO] MqttPahoMessageDrivenChannelAdapter: 159 : started sysInbound
2020-01-08 15:49:16 608 [restartedMain] INFO  [INFO] EventDrivenConsumer: 107 : Adding {bridge} as a subscriber to the 'sysMsgFlow.channel#0' channel
2020-01-08 15:49:16 608 [restartedMain] INFO  [INFO] DirectChannel: 64 : Channel 'application.sysMsgFlow.channel#0' has 1 subscriber(s).
2020-01-08 15:49:16 608 [restartedMain] INFO  [INFO] EventDrivenConsumer: 159 : started sysMsgFlow.org.springframework.integration.config.ConsumerEndpointFactoryBean#0
2020-01-08 15:49:16 608 [restartedMain] INFO  [INFO] EventDrivenConsumer: 107 : Adding {service-activator} as a subscriber to the 'sysMsgFlow.channel#1' channel
2020-01-08 15:49:16 608 [restartedMain] INFO  [INFO] ExecutorChannel: 64 : Channel 'application.sysMsgFlow.channel#1' has 1 subscriber(s).
2020-01-08 15:49:16 609 [restartedMain] INFO  [INFO] EventDrivenConsumer: 159 : started sysMsgFlow.org.springframework.integration.config.ConsumerEndpointFactoryBean#1
2020-01-08 15:49:16 609 [restartedMain] INFO  [INFO] EventDrivenConsumer: 107 : Adding {service-activator} as a subscriber to the 'sysMsgFlow.channel#2' channel
2020-01-08 15:49:16 609 [restartedMain] INFO  [INFO] DirectChannel: 64 : Channel 'application.sysMsgFlow.channel#2' has 1 subscriber(s).
2020-01-08 15:49:16 609 [restartedMain] INFO  [INFO] EventDrivenConsumer: 159 : started sysMsgFlow.org.springframework.integration.config.ConsumerEndpointFactoryBean#2
2020-01-08 15:49:16 609 [restartedMain] INFO  [INFO] EventDrivenConsumer: 107 : Adding {filter} as a subscriber to the 'sysMsgFlow.channel#3' channel
2020-01-08 15:49:16 610 [restartedMain] INFO  [INFO] DirectChannel: 64 : Channel 'application.sysMsgFlow.channel#3' has 1 subscriber(s).
2020-01-08 15:49:16 610 [restartedMain] INFO  [INFO] EventDrivenConsumer: 159 : started sysMsgFlow.org.springframework.integration.config.ConsumerEndpointFactoryBean#3
2020-01-08 15:49:16 610 [restartedMain] INFO  [INFO] EventDrivenConsumer: 107 : Adding {mqtt:outbound-channel-adapter} as a subscriber to the 'sysMsgFlow.channel#4' channel
2020-01-08 15:49:16 610 [restartedMain] INFO  [INFO] DirectChannel: 64 : Channel 'application.sysMsgFlow.channel#4' has 1 subscriber(s).
2020-01-08 15:49:16 610 [restartedMain] INFO  [INFO] EventDrivenConsumer: 159 : started sysMsgFlow.org.springframework.integration.config.ConsumerEndpointFactoryBean#4
2020-01-08 15:49:16 615 [restartedMain] INFO  [INFO] MqttPahoMessageDrivenChannelAdapter: 159 : started bizInbound
2020-01-08 15:49:16 609 [MQTT Call: consumer-sys-subscriber] ERROR [ERROR] MqttPahoMessageDrivenChannelAdapter: 353 : Unhandled exception for GenericMessage [payload={"clientid":"consumer-sys-subscriber","username":"mqtt-kunbu","reason":"closed","ts":1578469721}, headers={mqtt_receivedRetained=false, id=001c62c0-7d53-8d7d-be16-a58481064f09, mqtt_duplicate=false, mqtt_receivedTopic=$SYS/brokers/emq@127.0.0.1/clients/consumer-sys-subscriber/disconnected, mqtt_receivedQos=1, timestamp=1578469756607}]
org.springframework.messaging.MessageDeliveryException: Dispatcher has no subscribers for channel 'application.sysMsgFlow.channel#0'.; nested exception is org.springframework.integration.MessageDispatchingException: Dispatcher has no subscribers, failedMessage=GenericMessage [payload={"clientid":"consumer-sys-subscriber","username":"mqtt-kunbu","reason":"closed","ts":1578469721}, headers={mqtt_receivedRetained=false, id=001c62c0-7d53-8d7d-be16-a58481064f09, mqtt_duplicate=false, mqtt_receivedTopic=$SYS/brokers/emq@127.0.0.1/clients/consumer-sys-subscriber/disconnected, mqtt_receivedQos=1, timestamp=1578469756607}]
	at org.springframework.integration.channel.AbstractSubscribableChannel.doSend(AbstractSubscribableChannel.java:77) ~[spring-integration-core-5.1.8.RELEASE.jar:5.1.8.RELEASE]
	at org.springframework.integration.channel.AbstractMessageChannel.send(AbstractMessageChannel.java:453) ~[spring-integration-core-5.1.8.RELEASE.jar:5.1.8.RELEASE]
	at org.springframework.integration.channel.AbstractMessageChannel.send(AbstractMessageChannel.java:401) ~[spring-integration-core-5.1.8.RELEASE.jar:5.1.8.RELEASE]
	at org.springframework.messaging.core.GenericMessagingTemplate.doSend(GenericMessagingTemplate.java:187) ~[spring-messaging-5.1.10.RELEASE.jar:5.1.10.RELEASE]
	at org.springframework.messaging.core.GenericMessagingTemplate.doSend(GenericMessagingTemplate.java:166) ~[spring-messaging-5.1.10.RELEASE.jar:5.1.10.RELEASE]
	at org.springframework.messaging.core.GenericMessagingTemplate.doSend(GenericMessagingTemplate.java:47) ~[spring-messaging-5.1.10.RELEASE.jar:5.1.10.RELEASE]
	at org.springframework.messaging.core.AbstractMessageSendingTemplate.send(AbstractMessageSendingTemplate.java:109) ~[spring-messaging-5.1.10.RELEASE.jar:5.1.10.RELEASE]
	at org.springframework.integration.endpoint.MessageProducerSupport.sendMessage(MessageProducerSupport.java:205) ~[spring-integration-core-5.1.8.RELEASE.jar:5.1.8.RELEASE]
	at org.springframework.integration.mqtt.inbound.MqttPahoMessageDrivenChannelAdapter.messageArrived(MqttPahoMessageDrivenChannelAdapter.java:350) [spring-integration-mqtt-5.1.8.RELEASE.jar:5.1.8.RELEASE]
	at org.eclipse.paho.client.mqttv3.internal.CommsCallback.deliverMessage(CommsCallback.java:499) [org.eclipse.paho.client.mqttv3-1.2.0.jar:?]
	at org.eclipse.paho.client.mqttv3.internal.CommsCallback.handleMessage(CommsCallback.java:402) [org.eclipse.paho.client.mqttv3-1.2.0.jar:?]
	at org.eclipse.paho.client.mqttv3.internal.CommsCallback.run(CommsCallback.java:206) [org.eclipse.paho.client.mqttv3-1.2.0.jar:?]
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511) [?:1.8.0_181]
	at java.util.concurrent.FutureTask.run(FutureTask.java:266) [?:1.8.0_181]
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180) [?:1.8.0_181]
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293) [?:1.8.0_181]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [?:1.8.0_181]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [?:1.8.0_181]
	at java.lang.Thread.run(Thread.java:748) [?:1.8.0_181]
Caused by: org.springframework.integration.MessageDispatchingException: Dispatcher has no subscribers
	at org.springframework.integration.dispatcher.UnicastingDispatcher.doDispatch(UnicastingDispatcher.java:138) ~[spring-integration-core-5.1.8.RELEASE.jar:5.1.8.RELEASE]
	at org.springframework.integration.dispatcher.UnicastingDispatcher.dispatch(UnicastingDispatcher.java:105) ~[spring-integration-core-5.1.8.RELEASE.jar:5.1.8.RELEASE]
	at org.springframework.integration.channel.AbstractSubscribableChannel.doSend(AbstractSubscribableChannel.java:73) ~[spring-integration-core-5.1.8.RELEASE.jar:5.1.8.RELEASE]
	... 18 more
2020-01-08 15:49:16 614 [MQTT Call: consumer-biz-subscriber] ERROR [ERROR] MqttPahoMessageDrivenChannelAdapter: 353 : Unhandled exception for GenericMessage [payload={       "mt":"J00",
       "dt":"0F060B0B",
       "elem":[
{"key":"operationMode","value":"432804"},
          {"key":"burningStateDHW","value":"30"},
          {"key":"hotWaterTempSetting","value":"34"},
         {"key":"heatingTempSetting","value":"2D"},
         {"key":"waterPressure","value":"0000"},
         {"key":"errorCode","value":"0"},
         {"key":"hotWaterTempBound","value":"3C25"},
       {"key":"heatingTempBound","value":"5228"}
        ],
        "lt":"2019-12-20T09:35:30+08:00"
 }, headers={mqtt_receivedRetained=false, id=ffc0a186-da00-c75a-cde9-7a01b568c607, mqtt_duplicate=false, mqtt_receivedTopic=kunbu/biz/98D863BE7116/inf/, mqtt_receivedQos=1, timestamp=1578469756614}]
org.springframework.messaging.MessageDeliveryException: Dispatcher has no subscribers for channel 'application.bizMsgFlow.channel#0'.; nested exception is org.springframework.integration.MessageDispatchingException: Dispatcher has no subscribers, failedMessage=GenericMessage [payload={       "mt":"J00",
       "dt":"0F060B0B",
       "elem":[
{"key":"operationMode","value":"432804"},
          {"key":"burningStateDHW","value":"30"},
          {"key":"hotWaterTempSetting","value":"34"},
         {"key":"heatingTempSetting","value":"2D"},
         {"key":"waterPressure","value":"0000"},
         {"key":"errorCode","value":"0"},
         {"key":"hotWaterTempBound","value":"3C25"},
       {"key":"heatingTempBound","value":"5228"}
        ],
        "lt":"2019-12-20T09:35:30+08:00"
 }, headers={mqtt_receivedRetained=false, id=ffc0a186-da00-c75a-cde9-7a01b568c607, mqtt_duplicate=false, mqtt_receivedTopic=kunbu/biz/98D863BE7116/inf/, mqtt_receivedQos=1, timestamp=1578469756614}]
	at org.springframework.integration.channel.AbstractSubscribableChannel.doSend(AbstractSubscribableChannel.java:77) ~[spring-integration-core-5.1.8.RELEASE.jar:5.1.8.RELEASE]
	at org.springframework.integration.channel.AbstractMessageChannel.send(AbstractMessageChannel.java:453) ~[spring-integration-core-5.1.8.RELEASE.jar:5.1.8.RELEASE]
	at org.springframework.integration.channel.AbstractMessageChannel.send(AbstractMessageChannel.java:401) ~[spring-integration-core-5.1.8.RELEASE.jar:5.1.8.RELEASE]
	at org.springframework.messaging.core.GenericMessagingTemplate.doSend(GenericMessagingTemplate.java:187) ~[spring-messaging-5.1.10.RELEASE.jar:5.1.10.RELEASE]
	at org.springframework.messaging.core.GenericMessagingTemplate.doSend(GenericMessagingTemplate.java:166) ~[spring-messaging-5.1.10.RELEASE.jar:5.1.10.RELEASE]
	at org.springframework.messaging.core.GenericMessagingTemplate.doSend(GenericMessagingTemplate.java:47) ~[spring-messaging-5.1.10.RELEASE.jar:5.1.10.RELEASE]
	at org.springframework.messaging.core.AbstractMessageSendingTemplate.send(AbstractMessageSendingTemplate.java:109) ~[spring-messaging-5.1.10.RELEASE.jar:5.1.10.RELEASE]
	at org.springframework.integration.endpoint.MessageProducerSupport.sendMessage(MessageProducerSupport.java:205) ~[spring-integration-core-5.1.8.RELEASE.jar:5.1.8.RELEASE]
	at org.springframework.integration.mqtt.inbound.MqttPahoMessageDrivenChannelAdapter.messageArrived(MqttPahoMessageDrivenChannelAdapter.java:350) [spring-integration-mqtt-5.1.8.RELEASE.jar:5.1.8.RELEASE]
	at org.eclipse.paho.client.mqttv3.internal.CommsCallback.deliverMessage(CommsCallback.java:499) [org.eclipse.paho.client.mqttv3-1.2.0.jar:?]
	at org.eclipse.paho.client.mqttv3.internal.CommsCallback.handleMessage(CommsCallback.java:402) [org.eclipse.paho.client.mqttv3-1.2.0.jar:?]
	at org.eclipse.paho.client.mqttv3.internal.CommsCallback.run(CommsCallback.java:206) [org.eclipse.paho.client.mqttv3-1.2.0.jar:?]
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511) [?:1.8.0_181]
	at java.util.concurrent.FutureTask.run(FutureTask.java:266) [?:1.8.0_181]
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180) [?:1.8.0_181]
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293) [?:1.8.0_181]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [?:1.8.0_181]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [?:1.8.0_181]
	at java.lang.Thread.run(Thread.java:748) [?:1.8.0_181]
Caused by: org.springframework.integration.MessageDispatchingException: Dispatcher has no subscribers
	at org.springframework.integration.dispatcher.UnicastingDispatcher.doDispatch(UnicastingDispatcher.java:138) ~[spring-integration-core-5.1.8.RELEASE.jar:5.1.8.RELEASE]
	at org.springframework.integration.dispatcher.UnicastingDispatcher.dispatch(UnicastingDispatcher.java:105) ~[spring-integration-core-5.1.8.RELEASE.jar:5.1.8.RELEASE]
	at org.springframework.integration.channel.AbstractSubscribableChannel.doSend(AbstractSubscribableChannel.java:73) ~[spring-integration-core-5.1.8.RELEASE.jar:5.1.8.RELEASE]
	... 18 more
2020-01-08 15:49:16 620 [restartedMain] INFO  [INFO] EventDrivenConsumer: 107 : Adding {bridge} as a subscriber to the 'bizMsgFlow.channel#0' channel
2020-01-08 15:49:16 620 [restartedMain] INFO  [INFO] DirectChannel: 64 : Channel 'application.bizMsgFlow.channel#0' has 1 subscriber(s).
2020-01-08 15:49:16 620 [restartedMain] INFO  [INFO] EventDrivenConsumer: 159 : started bizMsgFlow.org.springframework.integration.config.ConsumerEndpointFactoryBean#0
2020-01-08 15:49:16 621 [restartedMain] INFO  [INFO] EventDrivenConsumer: 107 : Adding {service-activator} as a subscriber to the 'bizMsgFlow.channel#1' channel
2020-01-08 15:49:16 623 [restartedMain] INFO  [INFO] ExecutorChannel: 64 : Channel 'application.bizMsgFlow.channel#1' has 1 subscriber(s).
2020-01-08 15:49:16 623 [restartedMain] INFO  [INFO] EventDrivenConsumer: 159 : started bizMsgFlow.org.springframework.integration.config.ConsumerEndpointFactoryBean#1
2020-01-08 15:49:16 624 [restartedMain] INFO  [INFO] EventDrivenConsumer: 107 : Adding {router} as a subscriber to the 'bizMsgFlow.channel#2' channel
2020-01-08 15:49:16 624 [restartedMain] INFO  [INFO] DirectChannel: 64 : Channel 'application.bizMsgFlow.channel#2' has 1 subscriber(s).
2020-01-08 15:49:16 624 [restartedMain] INFO  [INFO] EventDrivenConsumer: 159 : started bizMsgFlow.org.springframework.integration.config.ConsumerEndpointFactoryBean#2
2020-01-08 15:49:16 624 [restartedMain] INFO  [INFO] EventDrivenConsumer: 107 : Adding {service-activator} as a subscriber to the 'bizMsgFlow.subFlow#0.channel#0' channel
2020-01-08 15:49:16 625 [restartedMain] INFO  [INFO] DirectChannel: 64 : Channel 'application.bizMsgFlow.subFlow#0.channel#0' has 1 subscriber(s).
2020-01-08 15:49:16 625 [restartedMain] INFO  [INFO] EventDrivenConsumer: 159 : started bizMsgFlow.subFlow#0.org.springframework.integration.config.ConsumerEndpointFactoryBean#0
2020-01-08 15:49:16 626 [restartedMain] INFO  [INFO] EventDrivenConsumer: 107 : Adding {service-activator} as a subscriber to the 'bizMsgFlow.subFlow#1.channel#0' channel
2020-01-08 15:49:16 626 [restartedMain] INFO  [INFO] DirectChannel: 64 : Channel 'application.bizMsgFlow.subFlow#1.channel#0' has 1 subscriber(s).
2020-01-08 15:49:16 626 [restartedMain] INFO  [INFO] EventDrivenConsumer: 159 : started bizMsgFlow.subFlow#1.org.springframework.integration.config.ConsumerEndpointFactoryBean#0
2020-01-08 15:49:16 626 [restartedMain] INFO  [INFO] EventDrivenConsumer: 107 : Adding {service-activator} as a subscriber to the 'bizMsgFlow.subFlow#2.channel#0' channel
2020-01-08 15:49:16 626 [restartedMain] INFO  [INFO] DirectChannel: 64 : Channel 'application.bizMsgFlow.subFlow#2.channel#0' has 1 subscriber(s).
2020-01-08 15:49:16 626 [restartedMain] INFO  [INFO] EventDrivenConsumer: 159 : started bizMsgFlow.subFlow#2.org.springframework.integration.config.ConsumerEndpointFactoryBean#0
2020-01-08 15:49:16 627 [restartedMain] INFO  [INFO] EventDrivenConsumer: 107 : Adding {service-activator} as a subscriber to the 'bizMsgFlow.subFlow#3.channel#0' channel
2020-01-08 15:49:16 627 [restartedMain] INFO  [INFO] DirectChannel: 64 : Channel 'application.bizMsgFlow.subFlow#3.channel#0' has 1 subscriber(s).
2020-01-08 15:49:16 627 [MQTT Call: consumer-sys-subscriber] ERROR [ERROR] MqttPahoMessageDrivenChannelAdapter: 327 : Lost connection: MqttException; retrying...
2020-01-08 15:49:16 627 [MQTT Call: consumer-biz-subscriber] ERROR [ERROR] MqttPahoMessageDrivenChannelAdapter: 327 : Lost connection: MqttException; retrying...
2020-01-08 15:49:16 627 [restartedMain] INFO  [INFO] EventDrivenConsumer: 159 : started bizMsgFlow.subFlow#3.org.springframework.integration.config.ConsumerEndpointFactoryBean#0
2020-01-08 15:49:16 627 [restartedMain] INFO  [INFO] EventDrivenConsumer: 107 : Adding {bridge} as a subscriber to the 'bizMsgFlow.channel#3' channel
2020-01-08 15:49:16 627 [restartedMain] INFO  [INFO] DirectChannel: 64 : Channel 'application.bizMsgFlow.channel#3' has 1 subscriber(s).
2020-01-08 15:49:16 628 [restartedMain] INFO  [INFO] EventDrivenConsumer: 159 : started bizMsgFlow.org.springframework.integration.config.ConsumerEndpointFactoryBean#3
2020-01-08 15:49:16 628 [restartedMain] INFO  [INFO] EventDrivenConsumer: 107 : Adding {message-handler:mqttSpringIntegration.mqttOutbound.serviceActivator} as a subscriber to the 'mqttOutboundChannel' channel
2020-01-08 15:49:16 628 [restartedMain] INFO  [INFO] DirectChannel: 64 : Channel 'application.mqttOutboundChannel' has 1 subscriber(s).
2020-01-08 15:49:16 628 [restartedMain] INFO  [INFO] EventDrivenConsumer: 159 : started mqttSpringIntegration.mqttOutbound.serviceActivator
2020-01-08 15:49:16 628 [restartedMain] INFO  [INFO] GatewayProxyFactoryBean$MethodInvocationGateway: 159 : started mqttPublisher
2020-01-08 15:49:16 628 [restartedMain] INFO  [INFO] GatewayProxyFactoryBean: 159 : started mqttPublisher
2020-01-08 15:49:16 634 [restartedMain] INFO  [INFO] Http11NioProtocol: 173 : Starting ProtocolHandler ["http-nio-9090"]
2020-01-08 15:49:16 651 [restartedMain] INFO  [INFO] TomcatWebServer: 202 : Tomcat started on port(s): 9090 (http) with context path ''
2020-01-08 15:49:16 654 [restartedMain] INFO  [INFO] SpringIntegrationApplication: 59 : Started SpringIntegrationApplication in 3.547 seconds (JVM running for 5.154)
2020-01-08 15:49:27 664 [mqtt-sys-pool-0] INFO  [INFO] MessageTransferUtil: 33 : received sys message, header:{mqtt_receivedRetained=false, id=27aac60e-378e-d6c0-124a-2f343a3d3f66, mqtt_duplicate=true, mqtt_receivedTopic=$SYS/brokers/emq@127.0.0.1/clients/consumer-sys-subscriber/connected, mqtt_receivedQos=1, timestamp=1578469767650}, payload:{"clientid":"consumer-sys-subscriber","username":"mqtt-kunbu","ipaddress":"127.0.0.1","clean_sess":false,"protocol":4,"connack":0,"ts":1578469756}
2020-01-08 15:49:27 664 [mqtt-sys-pool-2] INFO  [INFO] MessageTransferUtil: 33 : received sys message, header:{mqtt_receivedRetained=false, id=441dacdb-b974-f689-0407-55c7731e27f7, mqtt_duplicate=true, mqtt_receivedTopic=$SYS/brokers/emq@127.0.0.1/clients/consumer-publisher/disconnected, mqtt_receivedQos=1, timestamp=1578469767663}, payload:{"clientid":"consumer-publisher","username":"mqtt-kunbu","reason":"closed","ts":1578469721}
2020-01-08 15:49:27 664 [mqtt-biz-pool-0] INFO  [INFO] MessageTransferUtil: 74 : received biz message, header:{mqtt_receivedRetained=false, id=6d527074-ae82-eb10-a6b3-c03f4d7c7005, mqtt_duplicate=true, mqtt_receivedTopic=kunbu/biz/98D863BE7116/inf/, mqtt_receivedQos=1, timestamp=1578469767654}, payload:{       "mt":"J00",
       "dt":"0F060B0B",
       "elem":[
{"key":"operationMode","value":"432804"},
          {"key":"burningStateDHW","value":"30"},
          {"key":"hotWaterTempSetting","value":"34"},
         {"key":"heatingTempSetting","value":"2D"},
         {"key":"waterPressure","value":"0000"},
         {"key":"errorCode","value":"0"},
         {"key":"hotWaterTempBound","value":"3C25"},
       {"key":"heatingTempBound","value":"5228"}
        ],
        "lt":"2019-12-20T09:35:30+08:00"
 }
2020-01-08 15:49:27 664 [mqtt-sys-pool-1] INFO  [INFO] MessageTransferUtil: 33 : received sys message, header:{mqtt_receivedRetained=false, id=fb16ac6a-878d-d1d5-f87e-0df3d152471e, mqtt_duplicate=true, mqtt_receivedTopic=$SYS/brokers/emq@127.0.0.1/clients/d:rinnai:SR:01:SR:ABCDEFGHIJKL12341578469651134/disconnected, mqtt_receivedQos=1, timestamp=1578469767662}, payload:{"clientid":"d:rinnai:SR:01:SR:ABCDEFGHIJKL12341578469651134","username":"d:rinnai:SR:01:SR:98D863BE7116","reason":"closed","ts":1578469746}
2020-01-08 15:49:27 668 [mqtt-sys-pool-3] INFO  [INFO] MessageTransferUtil: 33 : received sys message, header:{mqtt_receivedRetained=false, id=5906be3a-b1e7-014c-c47e-e8700d88eabd, mqtt_duplicate=true, mqtt_receivedTopic=$SYS/brokers/emq@127.0.0.1/clients/consumer-biz-subscriber/disconnected, mqtt_receivedQos=1, timestamp=1578469767664}, payload:{"clientid":"consumer-biz-subscriber","username":"mqtt-kunbu","reason":"closed","ts":1578469721}
2020-01-08 15:49:27 667 [mqtt-sys-pool-4] INFO  [INFO] MessageTransferUtil: 33 : received sys message, header:{mqtt_receivedRetained=false, id=7a03a960-513a-d189-e729-0fb64f60f16f, mqtt_duplicate=true, mqtt_receivedTopic=$SYS/brokers/emq@127.0.0.1/clients/consumer-sys-subscriber/disconnected, mqtt_receivedQos=1, timestamp=1578469767665}, payload:{"clientid":"consumer-sys-subscriber","username":"mqtt-kunbu","reason":"closed","ts":1578469721}
2020-01-08 15:49:27 670 [mqtt-sys-pool-5] INFO  [INFO] MessageTransferUtil: 33 : received sys message, header:{mqtt_receivedRetained=false, id=f01f006d-3b4c-45c6-c0ec-28d09c221d90, mqtt_duplicate=true, mqtt_receivedTopic=$SYS/brokers/emq@127.0.0.1/clients/consumer-biz-subscriber/connected, mqtt_receivedQos=1, timestamp=1578469767666}, payload:{"clientid":"consumer-biz-subscriber","username":"mqtt-kunbu","ipaddress":"127.0.0.1","clean_sess":false,"protocol":4,"connack":0,"ts":1578469756}
2020-01-08 15:49:27 671 [mqtt-sys-pool-6] INFO  [INFO] MessageTransferUtil: 33 : received sys message, header:{mqtt_receivedRetained=false, id=19d46e82-4e20-7180-8167-55dc3142586c, mqtt_duplicate=false, mqtt_receivedTopic=$SYS/brokers/emq@127.0.0.1/clients/consumer-sys-subscriber/disconnected, mqtt_receivedQos=1, timestamp=1578469767667}, payload:{"clientid":"consumer-sys-subscriber","username":"mqtt-kunbu","reason":"closed","ts":1578469756}
2020-01-08 15:49:27 671 [mqtt-sys-pool-7] INFO  [INFO] MessageTransferUtil: 33 : received sys message, header:{mqtt_receivedRetained=false, id=c435d345-70e8-9b3e-a810-95328ca562ef, mqtt_duplicate=false, mqtt_receivedTopic=$SYS/brokers/emq@127.0.0.1/clients/consumer-biz-subscriber/disconnected, mqtt_receivedQos=1, timestamp=1578469767668}, payload:{"clientid":"consumer-biz-subscriber","username":"mqtt-kunbu","reason":"closed","ts":1578469756}
2020-01-08 15:49:27 750 [mqtt-sys-pool-4] INFO  [INFO] MessageTransferUtil: 33 : received sys message, header:{mqtt_receivedRetained=false, id=bf595a61-8e89-712d-b802-bdef0af45f22, mqtt_duplicate=false, mqtt_receivedTopic=$SYS/brokers/emq@127.0.0.1/clients/consumer-sys-subscriber/connected, mqtt_receivedQos=1, timestamp=1578469767670}, payload:{"clientid":"consumer-sys-subscriber","username":"mqtt-kunbu","ipaddress":"127.0.0.1","clean_sess":false,"protocol":4,"connack":0,"ts":1578469767}
2020-01-08 15:49:27 751 [mqtt-sys-pool-5] INFO  [INFO] MessageTransferUtil: 33 : received sys message, header:{mqtt_receivedRetained=false, id=adba0853-e0db-e83f-2c71-ed9ed2994a2a, mqtt_duplicate=false, mqtt_receivedTopic=$SYS/brokers/emq@127.0.0.1/clients/consumer-biz-subscriber/connected, mqtt_receivedQos=1, timestamp=1578469767671}, payload:{"clientid":"consumer-biz-subscriber","username":"mqtt-kunbu","ipaddress":"127.0.0.1","clean_sess":false,"protocol":4,"connack":0,"ts":1578469767}
2020-01-08 15:49:27 757 [mqtt-biz-pool-0] INFO  [INFO] J00MessageService: 27 : >>> handleDeviceInfo, message：J00Message{elem=[{key='operationMode', value='432804'}, {key='burningStateDHW', value='30'}, {key='hotWaterTempSetting', value='34'}, {key='heatingTempSetting', value='2D'}, {key='waterPressure', value='0000'}, {key='errorCode', value='0'}, {key='hotWaterTempBound', value='3C25'}, {key='heatingTempBound', value='5228'}]} BizMessage{mt='J00', dt='0F060B0B', lt='2019-12-20T09:35:30+08:00', bizMsgTypeEnum=J00, deviceType=GB, productTypeEnum=HEAT_OVEN, bizId='98D863BE7116'} {, topicItems=[kunbu, biz, 98D863BE7116, inf]}
2020-01-08 15:49:27 781 [mqtt-sys-pool-1] INFO  [INFO] SysMessageService: 75 : >>> 设备离线, mac:98D863BE7116, clientId:d:rinnai:SR:01:SR:ABCDEFGHIJKL12341578469651134, reason:closed
2020-01-08 15:49:27 825 [mqtt-sys-pool-1] ERROR [ERROR] SysMessageService: 97 : >>> handleOnOff error, sysMessage:OnlineMessage{clientId='d:rinnai:SR:01:SR:ABCDEFGHIJKL12341578469651134', userName='d:rinnai:SR:01:SR:98D863BE7116', ipAddress='null', cleanSession='null', protocol='null', connAck='null', timeStamp='1578469746', reason='closed', online=false} {sysMsgTypeEnum=ONOFF}
java.lang.NullPointerException: null
	at com.scosyf.mqtt.integration.dao.DeviceDao.saveOffline(DeviceDao.java:50) ~[classes/:?]
	at com.scosyf.mqtt.integration.dao.DeviceDao$$FastClassBySpringCGLIB$$468ff9c.invoke(<generated>) ~[classes/:?]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.1.10.RELEASE.jar:5.1.10.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:750) ~[spring-aop-5.1.10.RELEASE.jar:5.1.10.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.1.10.RELEASE.jar:5.1.10.RELEASE]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139) ~[spring-tx-5.1.10.RELEASE.jar:5.1.10.RELEASE]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.1.10.RELEASE.jar:5.1.10.RELEASE]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:689) ~[spring-aop-5.1.10.RELEASE.jar:5.1.10.RELEASE]
	at com.scosyf.mqtt.integration.dao.DeviceDao$$EnhancerBySpringCGLIB$$33b20c09.saveOffline(<generated>) ~[classes/:?]
	at com.scosyf.mqtt.integration.service.SysMessageService.handleOnOff(SysMessageService.java:78) ~[classes/:?]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:1.8.0_181]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:1.8.0_181]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:1.8.0_181]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[?:1.8.0_181]
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:171) ~[spring-messaging-5.1.10.RELEASE.jar:5.1.10.RELEASE]
	at org.springframework.messaging.handler.invocation.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:120) ~[spring-messaging-5.1.10.RELEASE.jar:5.1.10.RELEASE]
	at org.springframework.integration.handler.support.MessagingMethodInvokerHelper$HandlerMethod.invoke(MessagingMethodInvokerHelper.java:1117) ~[spring-integration-core-5.1.8.RELEASE.jar:5.1.8.RELEASE]
	at org.springframework.integration.handler.support.MessagingMethodInvokerHelper.invokeHandlerMethod(MessagingMethodInvokerHelper.java:626) ~[spring-integration-core-5.1.8.RELEASE.jar:5.1.8.RELEASE]
	at org.springframework.integration.handler.support.MessagingMethodInvokerHelper.processInternal(MessagingMethodInvokerHelper.java:491) ~[spring-integration-core-5.1.8.RELEASE.jar:5.1.8.RELEASE]
	at org.springframework.integration.handler.support.MessagingMethodInvokerHelper.process(MessagingMethodInvokerHelper.java:362) ~[spring-integration-core-5.1.8.RELEASE.jar:5.1.8.RELEASE]
	at org.springframework.integration.handler.MethodInvokingMessageProcessor.processMessage(MethodInvokingMessageProcessor.java:106) ~[spring-integration-core-5.1.8.RELEASE.jar:5.1.8.RELEASE]
	at org.springframework.integration.handler.BeanNameMessageProcessor.processMessage(BeanNameMessageProcessor.java:64) ~[spring-integration-core-5.1.8.RELEASE.jar:5.1.8.RELEASE]
	at org.springframework.integration.handler.ServiceActivatingHandler.handleRequestMessage(ServiceActivatingHandler.java:93) ~[spring-integration-core-5.1.8.RELEASE.jar:5.1.8.RELEASE]
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.handleMessageInternal(AbstractReplyProducingMessageHandler.java:123) ~[spring-integration-core-5.1.8.RELEASE.jar:5.1.8.RELEASE]
	at org.springframework.integration.handler.AbstractMessageHandler.handleMessage(AbstractMessageHandler.java:169) ~[spring-integration-core-5.1.8.RELEASE.jar:5.1.8.RELEASE]
	at org.springframework.integration.dispatcher.AbstractDispatcher.tryOptimizedDispatch(AbstractDispatcher.java:115) ~[spring-integration-core-5.1.8.RELEASE.jar:5.1.8.RELEASE]
	at org.springframework.integration.dispatcher.UnicastingDispatcher.doDispatch(UnicastingDispatcher.java:132) ~[spring-integration-core-5.1.8.RELEASE.jar:5.1.8.RELEASE]
	at org.springframework.integration.dispatcher.UnicastingDispatcher.dispatch(UnicastingDispatcher.java:105) ~[spring-integration-core-5.1.8.RELEASE.jar:5.1.8.RELEASE]
	at org.springframework.integration.channel.AbstractSubscribableChannel.doSend(AbstractSubscribableChannel.java:73) ~[spring-integration-core-5.1.8.RELEASE.jar:5.1.8.RELEASE]
	at org.springframework.integration.channel.AbstractMessageChannel.send(AbstractMessageChannel.java:453) ~[spring-integration-core-5.1.8.RELEASE.jar:5.1.8.RELEASE]
	at org.springframework.integration.channel.AbstractMessageChannel.send(AbstractMessageChannel.java:401) ~[spring-integration-core-5.1.8.RELEASE.jar:5.1.8.RELEASE]
	at org.springframework.messaging.core.GenericMessagingTemplate.doSend(GenericMessagingTemplate.java:187) ~[spring-messaging-5.1.10.RELEASE.jar:5.1.10.RELEASE]
	at org.springframework.messaging.core.GenericMessagingTemplate.doSend(GenericMessagingTemplate.java:166) ~[spring-messaging-5.1.10.RELEASE.jar:5.1.10.RELEASE]
	at org.springframework.messaging.core.GenericMessagingTemplate.doSend(GenericMessagingTemplate.java:47) ~[spring-messaging-5.1.10.RELEASE.jar:5.1.10.RELEASE]
	at org.springframework.messaging.core.AbstractMessageSendingTemplate.send(AbstractMessageSendingTemplate.java:109) ~[spring-messaging-5.1.10.RELEASE.jar:5.1.10.RELEASE]
	at org.springframework.integration.handler.AbstractMessageProducingHandler.sendOutput(AbstractMessageProducingHandler.java:431) ~[spring-integration-core-5.1.8.RELEASE.jar:5.1.8.RELEASE]
	at org.springframework.integration.handler.AbstractMessageProducingHandler.doProduceOutput(AbstractMessageProducingHandler.java:284) ~[spring-integration-core-5.1.8.RELEASE.jar:5.1.8.RELEASE]
	at org.springframework.integration.handler.AbstractMessageProducingHandler.produceOutput(AbstractMessageProducingHandler.java:265) ~[spring-integration-core-5.1.8.RELEASE.jar:5.1.8.RELEASE]
	at org.springframework.integration.handler.AbstractMessageProducingHandler.sendOutputs(AbstractMessageProducingHandler.java:223) ~[spring-integration-core-5.1.8.RELEASE.jar:5.1.8.RELEASE]
	at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.handleMessageInternal(AbstractReplyProducingMessageHandler.java:129) ~[spring-integration-core-5.1.8.RELEASE.jar:5.1.8.RELEASE]
	at org.springframework.integration.handler.AbstractMessageHandler.handleMessage(AbstractMessageHandler.java:169) ~[spring-integration-core-5.1.8.RELEASE.jar:5.1.8.RELEASE]
	at org.springframework.integration.dispatcher.AbstractDispatcher.tryOptimizedDispatch(AbstractDispatcher.java:115) ~[spring-integration-core-5.1.8.RELEASE.jar:5.1.8.RELEASE]
	at org.springframework.integration.dispatcher.UnicastingDispatcher.doDispatch(UnicastingDispatcher.java:132) ~[spring-integration-core-5.1.8.RELEASE.jar:5.1.8.RELEASE]
	at org.springframework.integration.dispatcher.UnicastingDispatcher.access$000(UnicastingDispatcher.java:52) ~[spring-integration-core-5.1.8.RELEASE.jar:5.1.8.RELEASE]
	at org.springframework.integration.dispatcher.UnicastingDispatcher$1.run(UnicastingDispatcher.java:113) ~[spring-integration-core-5.1.8.RELEASE.jar:5.1.8.RELEASE]
	at org.springframework.integration.util.ErrorHandlingTaskExecutor.lambda$execute$0(ErrorHandlingTaskExecutor.java:57) ~[spring-integration-core-5.1.8.RELEASE.jar:5.1.8.RELEASE]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [?:1.8.0_181]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [?:1.8.0_181]
	at java.lang.Thread.run(Thread.java:748) [?:1.8.0_181]
2020-01-08 15:55:59 419 [main] INFO  [INFO] SpringIntegrationApplication: 37 : 
=========================================================
                                                         
          Welcome to Spring Integration!                 
                                                         
    For more information please visit:                   
    https://spring.io/projects/spring-integration        
                                                         
                                                         
    这是一个基于MQTT订阅的消息处理服务 -                     
    订阅关键的TOPIC，将收到的mqtt消息处理并最终写入数据        
=========================================================
2020-01-08 15:55:59 565 [restartedMain] INFO  [INFO] SpringIntegrationApplication: 37 : 
=========================================================
                                                         
          Welcome to Spring Integration!                 
                                                         
    For more information please visit:                   
    https://spring.io/projects/spring-integration        
                                                         
                                                         
    这是一个基于MQTT订阅的消息处理服务 -                     
    订阅关键的TOPIC，将收到的mqtt消息处理并最终写入数据        
=========================================================
2020-01-08 15:55:59 948 [restartedMain] INFO  [INFO] SpringIntegrationApplication: 50 : Starting SpringIntegrationApplication on DESKTOP-QA9ODS5 with PID 15284 (D:\kunbu\spring-integration\target\classes started by mojun in D:\kunbu\spring-integration)
2020-01-08 15:55:59 949 [restartedMain] INFO  [INFO] SpringIntegrationApplication: 648 : No active profile set, falling back to default profiles: default
2020-01-08 15:55:59 992 [restartedMain] INFO  [INFO] DevToolsPropertyDefaultsPostProcessor: 225 : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2020-01-08 15:55:59 993 [restartedMain] INFO  [INFO] DevToolsPropertyDefaultsPostProcessor: 225 : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2020-01-08 15:56:00 655 [restartedMain] INFO  [INFO] RepositoryConfigurationDelegate: 126 : Bootstrapping Spring Data repositories in DEFAULT mode.
2020-01-08 15:56:00 678 [restartedMain] INFO  [INFO] RepositoryConfigurationDelegate: 182 : Finished Spring Data repository scanning in 20ms. Found 0 repository interfaces.
2020-01-08 15:56:00 861 [restartedMain] INFO  [INFO] DefaultConfiguringBeanFactoryPostProcessor: 193 : No bean named 'errorChannel' has been explicitly defined. Therefore, a default PublishSubscribeChannel will be created.
2020-01-08 15:56:00 867 [restartedMain] INFO  [INFO] DefaultConfiguringBeanFactoryPostProcessor: 280 : No bean named 'taskScheduler' has been explicitly defined. Therefore, a default ThreadPoolTaskScheduler will be created.
2020-01-08 15:56:00 871 [restartedMain] INFO  [INFO] DefaultConfiguringBeanFactoryPostProcessor: 431 : No bean named 'integrationHeaderChannelRegistry' has been explicitly defined. Therefore, a default DefaultHeaderChannelRegistry will be created.
2020-01-08 15:56:00 943 [restartedMain] INFO  [INFO] PostProcessorRegistrationDelegate$BeanPostProcessorChecker: 330 : Bean 'org.springframework.integration.config.IntegrationManagementConfiguration' of type [org.springframework.integration.config.IntegrationManagementConfiguration$$EnhancerBySpringCGLIB$$47a2ddc7] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-01-08 15:56:00 953 [restartedMain] INFO  [INFO] PostProcessorRegistrationDelegate$BeanPostProcessorChecker: 330 : Bean 'integrationDisposableAutoCreatedBeans' of type [org.springframework.integration.config.annotation.Disposables] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-01-08 15:56:01 206 [restartedMain] INFO  [INFO] TomcatWebServer: 90 : Tomcat initialized with port(s): 9090 (http)
2020-01-08 15:56:01 217 [restartedMain] INFO  [INFO] Http11NioProtocol: 173 : Initializing ProtocolHandler ["http-nio-9090"]
2020-01-08 15:56:01 224 [restartedMain] INFO  [INFO] StandardService: 173 : Starting service [Tomcat]
2020-01-08 15:56:01 224 [restartedMain] INFO  [INFO] StandardEngine: 173 : Starting Servlet engine: [Apache Tomcat/9.0.26]
2020-01-08 15:56:01 337 [restartedMain] INFO  [INFO] [/]: 173 : Initializing Spring embedded WebApplicationContext
2020-01-08 15:56:01 337 [restartedMain] INFO  [INFO] ContextLoader: 284 : Root WebApplicationContext: initialization completed in 1344 ms
2020-01-08 15:56:02 347 [restartedMain] INFO  [INFO] cluster: 71 : Cluster created with settings {hosts=[localhost:27017], mode=SINGLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}
2020-01-08 15:56:02 384 [cluster-ClusterId{value='5e158b12f4ac9c3bb49be362', description='null'}-localhost:27017] INFO  [INFO] connection: 71 : Opened connection [connectionId{localValue:1, serverValue:61}] to localhost:27017
2020-01-08 15:56:02 387 [cluster-ClusterId{value='5e158b12f4ac9c3bb49be362', description='null'}-localhost:27017] INFO  [INFO] cluster: 71 : Monitor thread successfully connected to server with description ServerDescription{address=localhost:27017, type=STANDALONE, state=CONNECTED, ok=true, version=ServerVersion{versionList=[3, 6, 12]}, minWireVersion=0, maxWireVersion=6, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=1991000}
2020-01-08 15:56:02 433 [restartedMain] WARN  [WARN] CustomConversions: 207 : Registering converter from class java.time.LocalDateTime to class java.time.Instant as reading converter although it doesn't convert from a store-supported type! You might wanna check you annotation setup at the converter implementation.
2020-01-08 15:56:02 433 [restartedMain] WARN  [WARN] CustomConversions: 207 : Registering converter from class java.time.Instant to class java.time.LocalDateTime as reading converter although it doesn't convert from a store-supported type! You might wanna check you annotation setup at the converter implementation.
2020-01-08 15:56:02 516 [restartedMain] INFO  [INFO] OptionalLiveReloadServer: 57 : LiveReload server is running on port 35729
2020-01-08 15:56:02 526 [restartedMain] WARN  [WARN] CustomConversions: 207 : Registering converter from class java.time.LocalDateTime to class java.time.Instant as reading converter although it doesn't convert from a store-supported type! You might wanna check you annotation setup at the converter implementation.
2020-01-08 15:56:02 527 [restartedMain] WARN  [WARN] CustomConversions: 207 : Registering converter from class java.time.Instant to class java.time.LocalDateTime as reading converter although it doesn't convert from a store-supported type! You might wanna check you annotation setup at the converter implementation.
2020-01-08 15:56:02 569 [restartedMain] INFO  [INFO] connection: 71 : Opened connection [connectionId{localValue:2, serverValue:62}] to localhost:27017
2020-01-08 15:56:02 902 [restartedMain] INFO  [INFO] ThreadPoolTaskExecutor: 171 : Initializing ExecutorService 'applicationTaskExecutor'
2020-01-08 15:56:03 010 [restartedMain] INFO  [INFO] ThreadPoolTaskScheduler: 171 : Initializing ExecutorService 'taskScheduler'
2020-01-08 15:56:03 198 [restartedMain] INFO  [INFO] EventDrivenConsumer: 107 : Adding {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2020-01-08 15:56:03 199 [restartedMain] INFO  [INFO] PublishSubscribeChannel: 64 : Channel 'application.errorChannel' has 1 subscriber(s).
2020-01-08 15:56:03 199 [restartedMain] INFO  [INFO] EventDrivenConsumer: 159 : started _org.springframework.integration.errorLogger
2020-01-08 15:56:03 229 [restartedMain] INFO  [INFO] MqttPahoMessageDrivenChannelAdapter: 159 : started sysInbound
2020-01-08 15:56:03 230 [restartedMain] INFO  [INFO] EventDrivenConsumer: 107 : Adding {bridge} as a subscriber to the 'sysMsgFlow.channel#0' channel
2020-01-08 15:56:03 230 [restartedMain] INFO  [INFO] DirectChannel: 64 : Channel 'application.sysMsgFlow.channel#0' has 1 subscriber(s).
2020-01-08 15:56:03 230 [restartedMain] INFO  [INFO] EventDrivenConsumer: 159 : started sysMsgFlow.org.springframework.integration.config.ConsumerEndpointFactoryBean#0
2020-01-08 15:56:03 230 [restartedMain] INFO  [INFO] EventDrivenConsumer: 107 : Adding {service-activator} as a subscriber to the 'sysMsgFlow.channel#1' channel
2020-01-08 15:56:03 231 [restartedMain] INFO  [INFO] ExecutorChannel: 64 : Channel 'application.sysMsgFlow.channel#1' has 1 subscriber(s).
2020-01-08 15:56:03 231 [restartedMain] INFO  [INFO] EventDrivenConsumer: 159 : started sysMsgFlow.org.springframework.integration.config.ConsumerEndpointFactoryBean#1
2020-01-08 15:56:03 231 [restartedMain] INFO  [INFO] EventDrivenConsumer: 107 : Adding {service-activator} as a subscriber to the 'sysMsgFlow.channel#2' channel
2020-01-08 15:56:03 231 [restartedMain] INFO  [INFO] DirectChannel: 64 : Channel 'application.sysMsgFlow.channel#2' has 1 subscriber(s).
2020-01-08 15:56:03 231 [restartedMain] INFO  [INFO] EventDrivenConsumer: 159 : started sysMsgFlow.org.springframework.integration.config.ConsumerEndpointFactoryBean#2
2020-01-08 15:56:03 232 [restartedMain] INFO  [INFO] EventDrivenConsumer: 107 : Adding {filter} as a subscriber to the 'sysMsgFlow.channel#3' channel
2020-01-08 15:56:03 232 [restartedMain] INFO  [INFO] DirectChannel: 64 : Channel 'application.sysMsgFlow.channel#3' has 1 subscriber(s).
2020-01-08 15:56:03 232 [restartedMain] INFO  [INFO] EventDrivenConsumer: 159 : started sysMsgFlow.org.springframework.integration.config.ConsumerEndpointFactoryBean#3
2020-01-08 15:56:03 232 [restartedMain] INFO  [INFO] EventDrivenConsumer: 107 : Adding {mqtt:outbound-channel-adapter} as a subscriber to the 'sysMsgFlow.channel#4' channel
2020-01-08 15:56:03 232 [restartedMain] INFO  [INFO] DirectChannel: 64 : Channel 'application.sysMsgFlow.channel#4' has 1 subscriber(s).
2020-01-08 15:56:03 232 [restartedMain] INFO  [INFO] EventDrivenConsumer: 159 : started sysMsgFlow.org.springframework.integration.config.ConsumerEndpointFactoryBean#4
2020-01-08 15:56:03 238 [restartedMain] INFO  [INFO] MqttPahoMessageDrivenChannelAdapter: 159 : started bizInbound
2020-01-08 15:56:03 231 [MQTT Call: consumer-sys-subscriber] ERROR [ERROR] MqttPahoMessageDrivenChannelAdapter: 353 : Unhandled exception for GenericMessage [payload={"clientid":"consumer-biz-subscriber","username":"mqtt-kunbu","reason":"closed","ts":1578470149}, headers={mqtt_receivedRetained=false, id=f470d7e3-80a3-e9a2-e33f-89fe5c4d8b29, mqtt_duplicate=true, mqtt_receivedTopic=$SYS/brokers/emq@127.0.0.1/clients/consumer-biz-subscriber/disconnected, mqtt_receivedQos=1, timestamp=1578470163229}]
org.springframework.messaging.MessageDeliveryException: Dispatcher has no subscribers for channel 'application.sysMsgFlow.channel#0'.; nested exception is org.springframework.integration.MessageDispatchingException: Dispatcher has no subscribers, failedMessage=GenericMessage [payload={"clientid":"consumer-biz-subscriber","username":"mqtt-kunbu","reason":"closed","ts":1578470149}, headers={mqtt_receivedRetained=false, id=f470d7e3-80a3-e9a2-e33f-89fe5c4d8b29, mqtt_duplicate=true, mqtt_receivedTopic=$SYS/brokers/emq@127.0.0.1/clients/consumer-biz-subscriber/disconnected, mqtt_receivedQos=1, timestamp=1578470163229}]
	at org.springframework.integration.channel.AbstractSubscribableChannel.doSend(AbstractSubscribableChannel.java:77) ~[spring-integration-core-5.1.8.RELEASE.jar:5.1.8.RELEASE]
	at org.springframework.integration.channel.AbstractMessageChannel.send(AbstractMessageChannel.java:453) ~[spring-integration-core-5.1.8.RELEASE.jar:5.1.8.RELEASE]
	at org.springframework.integration.channel.AbstractMessageChannel.send(AbstractMessageChannel.java:401) ~[spring-integration-core-5.1.8.RELEASE.jar:5.1.8.RELEASE]
	at org.springframework.messaging.core.GenericMessagingTemplate.doSend(GenericMessagingTemplate.java:187) ~[spring-messaging-5.1.10.RELEASE.jar:5.1.10.RELEASE]
	at org.springframework.messaging.core.GenericMessagingTemplate.doSend(GenericMessagingTemplate.java:166) ~[spring-messaging-5.1.10.RELEASE.jar:5.1.10.RELEASE]
	at org.springframework.messaging.core.GenericMessagingTemplate.doSend(GenericMessagingTemplate.java:47) ~[spring-messaging-5.1.10.RELEASE.jar:5.1.10.RELEASE]
	at org.springframework.messaging.core.AbstractMessageSendingTemplate.send(AbstractMessageSendingTemplate.java:109) ~[spring-messaging-5.1.10.RELEASE.jar:5.1.10.RELEASE]
	at org.springframework.integration.endpoint.MessageProducerSupport.sendMessage(MessageProducerSupport.java:205) ~[spring-integration-core-5.1.8.RELEASE.jar:5.1.8.RELEASE]
	at org.springframework.integration.mqtt.inbound.MqttPahoMessageDrivenChannelAdapter.messageArrived(MqttPahoMessageDrivenChannelAdapter.java:350) [spring-integration-mqtt-5.1.8.RELEASE.jar:5.1.8.RELEASE]
	at org.eclipse.paho.client.mqttv3.internal.CommsCallback.deliverMessage(CommsCallback.java:499) [org.eclipse.paho.client.mqttv3-1.2.0.jar:?]
	at org.eclipse.paho.client.mqttv3.internal.CommsCallback.handleMessage(CommsCallback.java:402) [org.eclipse.paho.client.mqttv3-1.2.0.jar:?]
	at org.eclipse.paho.client.mqttv3.internal.CommsCallback.run(CommsCallback.java:206) [org.eclipse.paho.client.mqttv3-1.2.0.jar:?]
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511) [?:1.8.0_181]
	at java.util.concurrent.FutureTask.run(FutureTask.java:266) [?:1.8.0_181]
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180) [?:1.8.0_181]
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293) [?:1.8.0_181]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [?:1.8.0_181]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [?:1.8.0_181]
	at java.lang.Thread.run(Thread.java:748) [?:1.8.0_181]
Caused by: org.springframework.integration.MessageDispatchingException: Dispatcher has no subscribers
	at org.springframework.integration.dispatcher.UnicastingDispatcher.doDispatch(UnicastingDispatcher.java:138) ~[spring-integration-core-5.1.8.RELEASE.jar:5.1.8.RELEASE]
	at org.springframework.integration.dispatcher.UnicastingDispatcher.dispatch(UnicastingDispatcher.java:105) ~[spring-integration-core-5.1.8.RELEASE.jar:5.1.8.RELEASE]
	at org.springframework.integration.channel.AbstractSubscribableChannel.doSend(AbstractSubscribableChannel.java:73) ~[spring-integration-core-5.1.8.RELEASE.jar:5.1.8.RELEASE]
	... 18 more
2020-01-08 15:56:03 240 [restartedMain] INFO  [INFO] EventDrivenConsumer: 107 : Adding {bridge} as a subscriber to the 'bizMsgFlow.channel#0' channel
2020-01-08 15:56:03 240 [restartedMain] INFO  [INFO] DirectChannel: 64 : Channel 'application.bizMsgFlow.channel#0' has 1 subscriber(s).
2020-01-08 15:56:03 240 [restartedMain] INFO  [INFO] EventDrivenConsumer: 159 : started bizMsgFlow.org.springframework.integration.config.ConsumerEndpointFactoryBean#0
2020-01-08 15:56:03 241 [restartedMain] INFO  [INFO] EventDrivenConsumer: 107 : Adding {service-activator} as a subscriber to the 'bizMsgFlow.channel#1' channel
2020-01-08 15:56:03 242 [restartedMain] INFO  [INFO] ExecutorChannel: 64 : Channel 'application.bizMsgFlow.channel#1' has 1 subscriber(s).
2020-01-08 15:56:03 243 [restartedMain] INFO  [INFO] EventDrivenConsumer: 159 : started bizMsgFlow.org.springframework.integration.config.ConsumerEndpointFactoryBean#1
2020-01-08 15:56:03 243 [restartedMain] INFO  [INFO] EventDrivenConsumer: 107 : Adding {router} as a subscriber to the 'bizMsgFlow.channel#2' channel
2020-01-08 15:56:03 243 [restartedMain] INFO  [INFO] DirectChannel: 64 : Channel 'application.bizMsgFlow.channel#2' has 1 subscriber(s).
2020-01-08 15:56:03 243 [restartedMain] INFO  [INFO] EventDrivenConsumer: 159 : started bizMsgFlow.org.springframework.integration.config.ConsumerEndpointFactoryBean#2
2020-01-08 15:56:03 244 [restartedMain] INFO  [INFO] EventDrivenConsumer: 107 : Adding {service-activator} as a subscriber to the 'bizMsgFlow.subFlow#0.channel#0' channel
2020-01-08 15:56:03 244 [restartedMain] INFO  [INFO] DirectChannel: 64 : Channel 'application.bizMsgFlow.subFlow#0.channel#0' has 1 subscriber(s).
2020-01-08 15:56:03 244 [restartedMain] INFO  [INFO] EventDrivenConsumer: 159 : started bizMsgFlow.subFlow#0.org.springframework.integration.config.ConsumerEndpointFactoryBean#0
2020-01-08 15:56:03 244 [restartedMain] INFO  [INFO] EventDrivenConsumer: 107 : Adding {service-activator} as a subscriber to the 'bizMsgFlow.subFlow#1.channel#0' channel
2020-01-08 15:56:03 245 [restartedMain] INFO  [INFO] DirectChannel: 64 : Channel 'application.bizMsgFlow.subFlow#1.channel#0' has 1 subscriber(s).
2020-01-08 15:56:03 245 [restartedMain] INFO  [INFO] EventDrivenConsumer: 159 : started bizMsgFlow.subFlow#1.org.springframework.integration.config.ConsumerEndpointFactoryBean#0
2020-01-08 15:56:03 245 [MQTT Call: consumer-sys-subscriber] ERROR [ERROR] MqttPahoMessageDrivenChannelAdapter: 327 : Lost connection: MqttException; retrying...
2020-01-08 15:56:03 245 [restartedMain] INFO  [INFO] EventDrivenConsumer: 107 : Adding {service-activator} as a subscriber to the 'bizMsgFlow.subFlow#2.channel#0' channel
2020-01-08 15:56:03 245 [restartedMain] INFO  [INFO] DirectChannel: 64 : Channel 'application.bizMsgFlow.subFlow#2.channel#0' has 1 subscriber(s).
2020-01-08 15:56:03 246 [restartedMain] INFO  [INFO] EventDrivenConsumer: 159 : started bizMsgFlow.subFlow#2.org.springframework.integration.config.ConsumerEndpointFactoryBean#0
2020-01-08 15:56:03 246 [restartedMain] INFO  [INFO] EventDrivenConsumer: 107 : Adding {service-activator} as a subscriber to the 'bizMsgFlow.subFlow#3.channel#0' channel
2020-01-08 15:56:03 246 [restartedMain] INFO  [INFO] DirectChannel: 64 : Channel 'application.bizMsgFlow.subFlow#3.channel#0' has 1 subscriber(s).
2020-01-08 15:56:03 246 [restartedMain] INFO  [INFO] EventDrivenConsumer: 159 : started bizMsgFlow.subFlow#3.org.springframework.integration.config.ConsumerEndpointFactoryBean#0
2020-01-08 15:56:03 246 [restartedMain] INFO  [INFO] EventDrivenConsumer: 107 : Adding {bridge} as a subscriber to the 'bizMsgFlow.channel#3' channel
2020-01-08 15:56:03 246 [restartedMain] INFO  [INFO] DirectChannel: 64 : Channel 'application.bizMsgFlow.channel#3' has 1 subscriber(s).
2020-01-08 15:56:03 247 [restartedMain] INFO  [INFO] EventDrivenConsumer: 159 : started bizMsgFlow.org.springframework.integration.config.ConsumerEndpointFactoryBean#3
2020-01-08 15:56:03 247 [restartedMain] INFO  [INFO] EventDrivenConsumer: 107 : Adding {message-handler:mqttSpringIntegration.mqttOutbound.serviceActivator} as a subscriber to the 'mqttOutboundChannel' channel
2020-01-08 15:56:03 247 [restartedMain] INFO  [INFO] DirectChannel: 64 : Channel 'application.mqttOutboundChannel' has 1 subscriber(s).
2020-01-08 15:56:03 247 [restartedMain] INFO  [INFO] EventDrivenConsumer: 159 : started mqttSpringIntegration.mqttOutbound.serviceActivator
2020-01-08 15:56:03 247 [restartedMain] INFO  [INFO] GatewayProxyFactoryBean$MethodInvocationGateway: 159 : started mqttPublisher
2020-01-08 15:56:03 247 [restartedMain] INFO  [INFO] GatewayProxyFactoryBean: 159 : started mqttPublisher
2020-01-08 15:56:03 253 [restartedMain] INFO  [INFO] Http11NioProtocol: 173 : Starting ProtocolHandler ["http-nio-9090"]
2020-01-08 15:56:03 269 [restartedMain] INFO  [INFO] TomcatWebServer: 202 : Tomcat started on port(s): 9090 (http) with context path ''
2020-01-08 15:56:03 272 [restartedMain] INFO  [INFO] SpringIntegrationApplication: 59 : Started SpringIntegrationApplication in 3.7 seconds (JVM running for 5.207)
2020-01-08 15:56:14 272 [mqtt-sys-pool-1] INFO  [INFO] MessageTransferUtil: 33 : received sys message, header:{mqtt_receivedRetained=false, id=fa2c420c-de24-4eb5-a901-9edb63333f1e, mqtt_duplicate=true, mqtt_receivedTopic=$SYS/brokers/emq@127.0.0.1/clients/d:rinnai:SR:01:SR:ABCDEFGHIJKL12341578470154806/connected, mqtt_receivedQos=1, timestamp=1578470174271}, payload:{"clientid":"d:rinnai:SR:01:SR:ABCDEFGHIJKL12341578470154806","username":"d:rinnai:SR:01:SR:98D863BE7116","ipaddress":"127.0.0.1","clean_sess":true,"protocol":4,"connack":0,"ts":1578470154}
2020-01-08 15:56:14 272 [mqtt-sys-pool-0] INFO  [INFO] MessageTransferUtil: 33 : received sys message, header:{mqtt_receivedRetained=false, id=1fa8fdae-e764-9487-a5d5-1860523c5091, mqtt_duplicate=true, mqtt_receivedTopic=$SYS/brokers/emq@127.0.0.1/clients/consumer-sys-subscriber/connected, mqtt_receivedQos=1, timestamp=1578470174263}, payload:{"clientid":"consumer-sys-subscriber","username":"mqtt-kunbu","ipaddress":"127.0.0.1","clean_sess":false,"protocol":4,"connack":0,"ts":1578470163}
2020-01-08 15:56:14 273 [mqtt-sys-pool-2] INFO  [INFO] MessageTransferUtil: 33 : received sys message, header:{mqtt_receivedRetained=false, id=4577962b-bc03-a5d8-56db-e583724d0ef0, mqtt_duplicate=true, mqtt_receivedTopic=$SYS/brokers/emq@127.0.0.1/clients/consumer-sys-subscriber/disconnected, mqtt_receivedQos=1, timestamp=1578470174272}, payload:{"clientid":"consumer-sys-subscriber","username":"mqtt-kunbu","reason":"closed","ts":1578470149}
2020-01-08 15:56:14 274 [mqtt-sys-pool-3] INFO  [INFO] MessageTransferUtil: 33 : received sys message, header:{mqtt_receivedRetained=false, id=d1b0d42f-1b59-8a57-103a-fbbf4605467b, mqtt_duplicate=true, mqtt_receivedTopic=$SYS/brokers/emq@127.0.0.1/clients/consumer-biz-subscriber/disconnected, mqtt_receivedQos=1, timestamp=1578470174273}, payload:{"clientid":"consumer-biz-subscriber","username":"mqtt-kunbu","reason":"closed","ts":1578470149}
2020-01-08 15:56:14 275 [mqtt-sys-pool-4] INFO  [INFO] MessageTransferUtil: 33 : received sys message, header:{mqtt_receivedRetained=false, id=669c428e-efda-af29-bc50-5c7ac6047da2, mqtt_duplicate=true, mqtt_receivedTopic=$SYS/brokers/emq@127.0.0.1/clients/consumer-biz-subscriber/connected, mqtt_receivedQos=1, timestamp=1578470174273}, payload:{"clientid":"consumer-biz-subscriber","username":"mqtt-kunbu","ipaddress":"127.0.0.1","clean_sess":false,"protocol":4,"connack":0,"ts":1578470163}
2020-01-08 15:56:14 276 [mqtt-sys-pool-5] INFO  [INFO] MessageTransferUtil: 33 : received sys message, header:{mqtt_receivedRetained=false, id=e68621a5-d9a1-a7cb-84fd-ef3e6333255e, mqtt_duplicate=false, mqtt_receivedTopic=$SYS/brokers/emq@127.0.0.1/clients/consumer-sys-subscriber/disconnected, mqtt_receivedQos=1, timestamp=1578470174274}, payload:{"clientid":"consumer-sys-subscriber","username":"mqtt-kunbu","reason":"closed","ts":1578470163}
2020-01-08 15:56:14 277 [mqtt-sys-pool-6] INFO  [INFO] MessageTransferUtil: 33 : received sys message, header:{mqtt_receivedRetained=false, id=b1a6e953-bd9e-0f10-d7d1-9912d4b77661, mqtt_duplicate=false, mqtt_receivedTopic=$SYS/brokers/emq@127.0.0.1/clients/consumer-sys-subscriber/connected, mqtt_receivedQos=1, timestamp=1578470174276}, payload:{"clientid":"consumer-sys-subscriber","username":"mqtt-kunbu","ipaddress":"127.0.0.1","clean_sess":false,"protocol":4,"connack":0,"ts":1578470174}
2020-01-08 15:56:14 389 [mqtt-sys-pool-1] INFO  [INFO] SysMessageService: 67 : >>> 设备上线, mac:98D863BE7116, clientId:d:rinnai:SR:01:SR:ABCDEFGHIJKL12341578470154806, node:emq@127.0.0.1, ip:127.0.0.1
2020-01-08 15:56:14 413 [mqtt-sys-pool-7] INFO  [INFO] MessageTransferUtil: 33 : received sys message, header:{mqtt_receivedRetained=false, id=9ceb4220-c0f8-56f9-937e-7790af96d64c, mqtt_duplicate=false, mqtt_receivedTopic=$SYS/brokers/emq@127.0.0.1/clients/consumer-publisher/connected, mqtt_receivedQos=1, timestamp=1578470174413}, payload:{"clientid":"consumer-publisher","username":"mqtt-kunbu","ipaddress":"127.0.0.1","clean_sess":false,"protocol":4,"connack":0,"ts":1578470174}
2020-01-08 15:56:34 909 [mqtt-sys-pool-4] INFO  [INFO] MessageTransferUtil: 33 : received sys message, header:{mqtt_receivedRetained=false, id=bcf0990a-a05c-972e-8769-af038adecd28, mqtt_duplicate=false, mqtt_receivedTopic=$SYS/brokers/emq@127.0.0.1/clients/d:rinnai:SR:01:SR:ABCDEFGHIJKL12341578470154806/disconnected, mqtt_receivedQos=1, timestamp=1578470194909}, payload:{"clientid":"d:rinnai:SR:01:SR:ABCDEFGHIJKL12341578470154806","username":"d:rinnai:SR:01:SR:98D863BE7116","reason":"closed","ts":1578470194}
2020-01-08 15:56:34 911 [mqtt-sys-pool-4] INFO  [INFO] SysMessageService: 75 : >>> 设备离线, mac:98D863BE7116, clientId:d:rinnai:SR:01:SR:ABCDEFGHIJKL12341578470154806, reason:closed
2020-01-08 15:58:21 557 [mqtt-sys-pool-0] INFO  [INFO] MessageTransferUtil: 33 : received sys message, header:{mqtt_receivedRetained=false, id=8f6830b6-acb0-203c-b913-864db09f88f8, mqtt_duplicate=false, mqtt_receivedTopic=$SYS/brokers/emq@127.0.0.1/clients/d:rinnai:SR:01:SR:ABCDEFGHIJKL12341578470301528/connected, mqtt_receivedQos=1, timestamp=1578470301557}, payload:{"clientid":"d:rinnai:SR:01:SR:ABCDEFGHIJKL12341578470301528","username":"d:rinnai:SR:01:SR:98D863BE7116","ipaddress":"127.0.0.1","clean_sess":true,"protocol":4,"connack":0,"ts":1578470301}
2020-01-08 15:58:21 560 [mqtt-sys-pool-0] INFO  [INFO] SysMessageService: 67 : >>> 设备上线, mac:98D863BE7116, clientId:d:rinnai:SR:01:SR:ABCDEFGHIJKL12341578470301528, node:emq@127.0.0.1, ip:127.0.0.1
