2020-04-10 13:23:56 056 [main] INFO  [INFO] SpringBootTestContextBootstrapper: 308 : Neither @ContextConfiguration nor @ContextHierarchy found for test class [com.scosyf.mqtt.integration.MqttTest], using SpringBootContextLoader
2020-04-10 13:23:56 064 [main] INFO  [INFO] AbstractContextLoader: 264 : Could not detect default resource locations for test class [com.scosyf.mqtt.integration.MqttTest]: no resource found for suffixes {-context.xml, Context.groovy}.
2020-04-10 13:23:56 065 [main] INFO  [INFO] AnnotationConfigContextLoaderUtils: 83 : Could not detect default configuration classes for test class [com.scosyf.mqtt.integration.MqttTest]: MqttTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2020-04-10 13:23:56 161 [main] INFO  [INFO] SpringBootTestContextBootstrapper: 235 : Found @SpringBootConfiguration com.scosyf.mqtt.integration.SpringIntegrationApplication for test class com.scosyf.mqtt.integration.MqttTest
2020-04-10 13:23:56 242 [main] INFO  [INFO] SpringBootTestContextBootstrapper: 248 : Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2020-04-10 13:23:56 262 [main] INFO  [INFO] SpringBootTestContextBootstrapper: 177 : Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@7e6ef134, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@1f010bf0, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@40db2a24, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@10cf09e8, org.springframework.test.context.support.DirtiesContextTestExecutionListener@1921ad94, org.springframework.test.context.transaction.TransactionalTestExecutionListener@ee86bcb, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@177bea38, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@7f132176, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@6bca7e0d, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@2631f68c, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@6ed3f258, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@8ad6665]
2020-04-10 13:23:56 592 [main] INFO  [INFO] MqttTest: 50 : Starting MqttTest on DESKTOP-QA9ODS5 with PID 5076 (started by mojun in D:\kunbu\spring-integration)
2020-04-10 13:23:56 594 [main] INFO  [INFO] MqttTest: 648 : No active profile set, falling back to default profiles: default
2020-04-10 13:23:57 326 [main] INFO  [INFO] RepositoryConfigurationDelegate: 126 : Bootstrapping Spring Data repositories in DEFAULT mode.
2020-04-10 13:23:57 357 [main] INFO  [INFO] RepositoryConfigurationDelegate: 182 : Finished Spring Data repository scanning in 26ms. Found 0 repository interfaces.
2020-04-10 13:23:58 023 [main] INFO  [INFO] DefaultConfiguringBeanFactoryPostProcessor: 193 : No bean named 'errorChannel' has been explicitly defined. Therefore, a default PublishSubscribeChannel will be created.
2020-04-10 13:23:58 033 [main] INFO  [INFO] DefaultConfiguringBeanFactoryPostProcessor: 280 : No bean named 'taskScheduler' has been explicitly defined. Therefore, a default ThreadPoolTaskScheduler will be created.
2020-04-10 13:23:58 044 [main] INFO  [INFO] DefaultConfiguringBeanFactoryPostProcessor: 431 : No bean named 'integrationHeaderChannelRegistry' has been explicitly defined. Therefore, a default DefaultHeaderChannelRegistry will be created.
2020-04-10 13:23:58 215 [main] INFO  [INFO] PostProcessorRegistrationDelegate$BeanPostProcessorChecker: 330 : Bean 'org.springframework.integration.config.IntegrationManagementConfiguration' of type [org.springframework.integration.config.IntegrationManagementConfiguration$$EnhancerBySpringCGLIB$$f301e354] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-04-10 13:23:58 241 [main] INFO  [INFO] PostProcessorRegistrationDelegate$BeanPostProcessorChecker: 330 : Bean 'integrationDisposableAutoCreatedBeans' of type [org.springframework.integration.config.annotation.Disposables] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-04-10 13:23:59 259 [main] INFO  [INFO] cluster: 71 : Cluster created with settings {hosts=[localhost:27017], mode=SINGLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}
2020-04-10 13:23:59 357 [cluster-ClusterId{value='5e9002eff4ac9c13d4ca7036', description='null'}-localhost:27017] INFO  [INFO] connection: 71 : Opened connection [connectionId{localValue:1, serverValue:1}] to localhost:27017
2020-04-10 13:23:59 361 [cluster-ClusterId{value='5e9002eff4ac9c13d4ca7036', description='null'}-localhost:27017] INFO  [INFO] cluster: 71 : Monitor thread successfully connected to server with description ServerDescription{address=localhost:27017, type=STANDALONE, state=CONNECTED, ok=true, version=ServerVersion{versionList=[3, 6, 12]}, minWireVersion=0, maxWireVersion=6, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=2846600}
2020-04-10 13:23:59 418 [main] WARN  [WARN] CustomConversions: 207 : Registering converter from class java.time.LocalDateTime to class java.time.Instant as reading converter although it doesn't convert from a store-supported type! You might wanna check you annotation setup at the converter implementation.
2020-04-10 13:23:59 419 [main] WARN  [WARN] CustomConversions: 207 : Registering converter from class java.time.Instant to class java.time.LocalDateTime as reading converter although it doesn't convert from a store-supported type! You might wanna check you annotation setup at the converter implementation.
2020-04-10 13:23:59 521 [main] WARN  [WARN] CustomConversions: 207 : Registering converter from class java.time.LocalDateTime to class java.time.Instant as reading converter although it doesn't convert from a store-supported type! You might wanna check you annotation setup at the converter implementation.
2020-04-10 13:23:59 522 [main] WARN  [WARN] CustomConversions: 207 : Registering converter from class java.time.Instant to class java.time.LocalDateTime as reading converter although it doesn't convert from a store-supported type! You might wanna check you annotation setup at the converter implementation.
2020-04-10 13:23:59 607 [main] INFO  [INFO] connection: 71 : Opened connection [connectionId{localValue:2, serverValue:2}] to localhost:27017
2020-04-10 13:24:00 832 [main] INFO  [INFO] ThreadPoolTaskExecutor: 171 : Initializing ExecutorService 'applicationTaskExecutor'
2020-04-10 13:24:01 126 [main] INFO  [INFO] ThreadPoolTaskScheduler: 171 : Initializing ExecutorService 'taskScheduler'
2020-04-10 13:24:01 336 [main] INFO  [INFO] EventDrivenConsumer: 107 : Adding {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2020-04-10 13:24:01 337 [main] INFO  [INFO] PublishSubscribeChannel: 64 : Channel 'application.errorChannel' has 1 subscriber(s).
2020-04-10 13:24:01 337 [main] INFO  [INFO] EventDrivenConsumer: 159 : started _org.springframework.integration.errorLogger
2020-04-10 13:24:05 409 [main] ERROR [ERROR] MqttPahoMessageDrivenChannelAdapter: 264 : Error connecting or subscribing to [$SYS/brokers/+/clients/+/connected, $SYS/brokers/+/clients/+/disconnected]
org.eclipse.paho.client.mqttv3.MqttException: 无法连接至服务器
	at org.eclipse.paho.client.mqttv3.internal.TCPNetworkModule.start(TCPNetworkModule.java:94) ~[org.eclipse.paho.client.mqttv3-1.2.0.jar:?]
	at org.eclipse.paho.client.mqttv3.internal.ClientComms$ConnectBG.run(ClientComms.java:701) ~[org.eclipse.paho.client.mqttv3-1.2.0.jar:?]
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511) ~[?:1.8.0_181]
	at java.util.concurrent.FutureTask.run(FutureTask.java:266) ~[?:1.8.0_181]
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180) ~[?:1.8.0_181]
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293) ~[?:1.8.0_181]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) ~[?:1.8.0_181]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) ~[?:1.8.0_181]
	at java.lang.Thread.run(Thread.java:748) ~[?:1.8.0_181]
Caused by: java.net.ConnectException: Connection refused: connect
	at java.net.DualStackPlainSocketImpl.waitForConnect(Native Method) ~[?:1.8.0_181]
	at java.net.DualStackPlainSocketImpl.socketConnect(DualStackPlainSocketImpl.java:85) ~[?:1.8.0_181]
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350) ~[?:1.8.0_181]
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206) ~[?:1.8.0_181]
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188) ~[?:1.8.0_181]
	at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:172) ~[?:1.8.0_181]
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392) ~[?:1.8.0_181]
	at java.net.Socket.connect(Socket.java:589) ~[?:1.8.0_181]
	at org.eclipse.paho.client.mqttv3.internal.TCPNetworkModule.start(TCPNetworkModule.java:84) ~[org.eclipse.paho.client.mqttv3-1.2.0.jar:?]
	... 8 more
2020-04-10 13:24:05 435 [main] ERROR [ERROR] MqttPahoMessageDrivenChannelAdapter: 151 : Exception while connecting and subscribing, retrying
org.eclipse.paho.client.mqttv3.MqttException: 无法连接至服务器
	at org.eclipse.paho.client.mqttv3.internal.TCPNetworkModule.start(TCPNetworkModule.java:94) ~[org.eclipse.paho.client.mqttv3-1.2.0.jar:?]
	at org.eclipse.paho.client.mqttv3.internal.ClientComms$ConnectBG.run(ClientComms.java:701) ~[org.eclipse.paho.client.mqttv3-1.2.0.jar:?]
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511) ~[?:1.8.0_181]
	at java.util.concurrent.FutureTask.run(FutureTask.java:266) ~[?:1.8.0_181]
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180) ~[?:1.8.0_181]
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293) ~[?:1.8.0_181]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) ~[?:1.8.0_181]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) ~[?:1.8.0_181]
	at java.lang.Thread.run(Thread.java:748) ~[?:1.8.0_181]
Caused by: java.net.ConnectException: Connection refused: connect
	at java.net.DualStackPlainSocketImpl.waitForConnect(Native Method) ~[?:1.8.0_181]
	at java.net.DualStackPlainSocketImpl.socketConnect(DualStackPlainSocketImpl.java:85) ~[?:1.8.0_181]
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350) ~[?:1.8.0_181]
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206) ~[?:1.8.0_181]
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188) ~[?:1.8.0_181]
	at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:172) ~[?:1.8.0_181]
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392) ~[?:1.8.0_181]
	at java.net.Socket.connect(Socket.java:589) ~[?:1.8.0_181]
	at org.eclipse.paho.client.mqttv3.internal.TCPNetworkModule.start(TCPNetworkModule.java:84) ~[org.eclipse.paho.client.mqttv3-1.2.0.jar:?]
	... 8 more
2020-04-10 13:24:05 439 [main] INFO  [INFO] MqttPahoMessageDrivenChannelAdapter: 159 : started sysInbound
2020-04-10 13:24:05 440 [main] INFO  [INFO] EventDrivenConsumer: 107 : Adding {bridge} as a subscriber to the 'sysMsgFlow.channel#0' channel
2020-04-10 13:24:05 440 [main] INFO  [INFO] DirectChannel: 64 : Channel 'application.sysMsgFlow.channel#0' has 1 subscriber(s).
2020-04-10 13:24:05 441 [main] INFO  [INFO] EventDrivenConsumer: 159 : started sysMsgFlow.org.springframework.integration.config.ConsumerEndpointFactoryBean#0
2020-04-10 13:24:05 441 [main] INFO  [INFO] EventDrivenConsumer: 107 : Adding {service-activator} as a subscriber to the 'sysMsgFlow.channel#1' channel
2020-04-10 13:24:05 441 [main] INFO  [INFO] ExecutorChannel: 64 : Channel 'application.sysMsgFlow.channel#1' has 1 subscriber(s).
2020-04-10 13:24:05 441 [main] INFO  [INFO] EventDrivenConsumer: 159 : started sysMsgFlow.org.springframework.integration.config.ConsumerEndpointFactoryBean#1
2020-04-10 13:24:05 441 [main] INFO  [INFO] EventDrivenConsumer: 107 : Adding {service-activator} as a subscriber to the 'sysMsgFlow.channel#2' channel
2020-04-10 13:24:05 442 [main] INFO  [INFO] DirectChannel: 64 : Channel 'application.sysMsgFlow.channel#2' has 1 subscriber(s).
2020-04-10 13:24:05 442 [main] INFO  [INFO] EventDrivenConsumer: 159 : started sysMsgFlow.org.springframework.integration.config.ConsumerEndpointFactoryBean#2
2020-04-10 13:24:05 442 [main] INFO  [INFO] EventDrivenConsumer: 107 : Adding {filter} as a subscriber to the 'sysMsgFlow.channel#3' channel
2020-04-10 13:24:05 442 [main] INFO  [INFO] DirectChannel: 64 : Channel 'application.sysMsgFlow.channel#3' has 1 subscriber(s).
2020-04-10 13:24:05 442 [main] INFO  [INFO] EventDrivenConsumer: 159 : started sysMsgFlow.org.springframework.integration.config.ConsumerEndpointFactoryBean#3
2020-04-10 13:24:05 443 [main] INFO  [INFO] EventDrivenConsumer: 107 : Adding {mqtt:outbound-channel-adapter} as a subscriber to the 'sysMsgFlow.channel#4' channel
2020-04-10 13:24:05 443 [main] INFO  [INFO] DirectChannel: 64 : Channel 'application.sysMsgFlow.channel#4' has 1 subscriber(s).
2020-04-10 13:24:05 443 [main] INFO  [INFO] EventDrivenConsumer: 159 : started sysMsgFlow.org.springframework.integration.config.ConsumerEndpointFactoryBean#4
2020-04-10 13:24:09 474 [main] ERROR [ERROR] MqttPahoMessageDrivenChannelAdapter: 264 : Error connecting or subscribing to [kunbu/biz/+/bsc/, kunbu/biz/+/log/, kunbu/biz/+/inf/]
org.eclipse.paho.client.mqttv3.MqttException: 无法连接至服务器
	at org.eclipse.paho.client.mqttv3.internal.TCPNetworkModule.start(TCPNetworkModule.java:94) ~[org.eclipse.paho.client.mqttv3-1.2.0.jar:?]
	at org.eclipse.paho.client.mqttv3.internal.ClientComms$ConnectBG.run(ClientComms.java:701) ~[org.eclipse.paho.client.mqttv3-1.2.0.jar:?]
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511) ~[?:1.8.0_181]
	at java.util.concurrent.FutureTask.run(FutureTask.java:266) ~[?:1.8.0_181]
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180) ~[?:1.8.0_181]
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293) ~[?:1.8.0_181]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) ~[?:1.8.0_181]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) ~[?:1.8.0_181]
	at java.lang.Thread.run(Thread.java:748) ~[?:1.8.0_181]
Caused by: java.net.ConnectException: Connection refused: connect
	at java.net.DualStackPlainSocketImpl.waitForConnect(Native Method) ~[?:1.8.0_181]
	at java.net.DualStackPlainSocketImpl.socketConnect(DualStackPlainSocketImpl.java:85) ~[?:1.8.0_181]
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350) ~[?:1.8.0_181]
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206) ~[?:1.8.0_181]
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188) ~[?:1.8.0_181]
	at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:172) ~[?:1.8.0_181]
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392) ~[?:1.8.0_181]
	at java.net.Socket.connect(Socket.java:589) ~[?:1.8.0_181]
	at org.eclipse.paho.client.mqttv3.internal.TCPNetworkModule.start(TCPNetworkModule.java:84) ~[org.eclipse.paho.client.mqttv3-1.2.0.jar:?]
	... 8 more
2020-04-10 13:24:09 481 [main] ERROR [ERROR] MqttPahoMessageDrivenChannelAdapter: 151 : Exception while connecting and subscribing, retrying
org.eclipse.paho.client.mqttv3.MqttException: 无法连接至服务器
	at org.eclipse.paho.client.mqttv3.internal.TCPNetworkModule.start(TCPNetworkModule.java:94) ~[org.eclipse.paho.client.mqttv3-1.2.0.jar:?]
	at org.eclipse.paho.client.mqttv3.internal.ClientComms$ConnectBG.run(ClientComms.java:701) ~[org.eclipse.paho.client.mqttv3-1.2.0.jar:?]
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511) ~[?:1.8.0_181]
	at java.util.concurrent.FutureTask.run(FutureTask.java:266) ~[?:1.8.0_181]
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180) ~[?:1.8.0_181]
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293) ~[?:1.8.0_181]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) ~[?:1.8.0_181]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) ~[?:1.8.0_181]
	at java.lang.Thread.run(Thread.java:748) ~[?:1.8.0_181]
Caused by: java.net.ConnectException: Connection refused: connect
	at java.net.DualStackPlainSocketImpl.waitForConnect(Native Method) ~[?:1.8.0_181]
	at java.net.DualStackPlainSocketImpl.socketConnect(DualStackPlainSocketImpl.java:85) ~[?:1.8.0_181]
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350) ~[?:1.8.0_181]
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206) ~[?:1.8.0_181]
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188) ~[?:1.8.0_181]
	at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:172) ~[?:1.8.0_181]
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392) ~[?:1.8.0_181]
	at java.net.Socket.connect(Socket.java:589) ~[?:1.8.0_181]
	at org.eclipse.paho.client.mqttv3.internal.TCPNetworkModule.start(TCPNetworkModule.java:84) ~[org.eclipse.paho.client.mqttv3-1.2.0.jar:?]
	... 8 more
2020-04-10 13:24:09 486 [main] INFO  [INFO] MqttPahoMessageDrivenChannelAdapter: 159 : started bizInbound
2020-04-10 13:24:09 487 [main] INFO  [INFO] EventDrivenConsumer: 107 : Adding {bridge} as a subscriber to the 'bizMsgFlow.channel#0' channel
2020-04-10 13:24:09 488 [main] INFO  [INFO] DirectChannel: 64 : Channel 'application.bizMsgFlow.channel#0' has 1 subscriber(s).
2020-04-10 13:24:09 489 [main] INFO  [INFO] EventDrivenConsumer: 159 : started bizMsgFlow.org.springframework.integration.config.ConsumerEndpointFactoryBean#0
2020-04-10 13:24:09 490 [main] INFO  [INFO] EventDrivenConsumer: 107 : Adding {service-activator} as a subscriber to the 'bizMsgFlow.channel#1' channel
2020-04-10 13:24:09 491 [main] INFO  [INFO] ExecutorChannel: 64 : Channel 'application.bizMsgFlow.channel#1' has 1 subscriber(s).
2020-04-10 13:24:09 492 [main] INFO  [INFO] EventDrivenConsumer: 159 : started bizMsgFlow.org.springframework.integration.config.ConsumerEndpointFactoryBean#1
2020-04-10 13:24:09 493 [main] INFO  [INFO] EventDrivenConsumer: 107 : Adding {router} as a subscriber to the 'bizMsgFlow.channel#2' channel
2020-04-10 13:24:09 494 [main] INFO  [INFO] DirectChannel: 64 : Channel 'application.bizMsgFlow.channel#2' has 1 subscriber(s).
2020-04-10 13:24:09 495 [main] INFO  [INFO] EventDrivenConsumer: 159 : started bizMsgFlow.org.springframework.integration.config.ConsumerEndpointFactoryBean#2
2020-04-10 13:24:09 496 [main] INFO  [INFO] EventDrivenConsumer: 107 : Adding {service-activator} as a subscriber to the 'bizMsgFlow.subFlow#0.channel#0' channel
2020-04-10 13:24:09 497 [main] INFO  [INFO] DirectChannel: 64 : Channel 'application.bizMsgFlow.subFlow#0.channel#0' has 1 subscriber(s).
2020-04-10 13:24:09 498 [main] INFO  [INFO] EventDrivenConsumer: 159 : started bizMsgFlow.subFlow#0.org.springframework.integration.config.ConsumerEndpointFactoryBean#0
2020-04-10 13:24:09 500 [main] INFO  [INFO] EventDrivenConsumer: 107 : Adding {filter} as a subscriber to the 'bizMsgFlow.subFlow#0.channel#1' channel
2020-04-10 13:24:09 501 [main] INFO  [INFO] DirectChannel: 64 : Channel 'application.bizMsgFlow.subFlow#0.channel#1' has 1 subscriber(s).
2020-04-10 13:24:09 503 [main] INFO  [INFO] EventDrivenConsumer: 159 : started bizMsgFlow.subFlow#0.org.springframework.integration.config.ConsumerEndpointFactoryBean#1
2020-04-10 13:24:09 504 [main] INFO  [INFO] EventDrivenConsumer: 107 : Adding {mqtt:outbound-channel-adapter} as a subscriber to the 'bizMsgFlow.subFlow#0.channel#2' channel
2020-04-10 13:24:09 505 [main] INFO  [INFO] DirectChannel: 64 : Channel 'application.bizMsgFlow.subFlow#0.channel#2' has 1 subscriber(s).
2020-04-10 13:24:09 507 [main] INFO  [INFO] EventDrivenConsumer: 159 : started bizMsgFlow.subFlow#0.org.springframework.integration.config.ConsumerEndpointFactoryBean#2
2020-04-10 13:24:09 508 [main] INFO  [INFO] EventDrivenConsumer: 107 : Adding {service-activator} as a subscriber to the 'bizMsgFlow.subFlow#1.channel#0' channel
2020-04-10 13:24:09 509 [main] INFO  [INFO] DirectChannel: 64 : Channel 'application.bizMsgFlow.subFlow#1.channel#0' has 1 subscriber(s).
2020-04-10 13:24:09 510 [main] INFO  [INFO] EventDrivenConsumer: 159 : started bizMsgFlow.subFlow#1.org.springframework.integration.config.ConsumerEndpointFactoryBean#0
2020-04-10 13:24:09 511 [main] INFO  [INFO] EventDrivenConsumer: 107 : Adding {filter} as a subscriber to the 'bizMsgFlow.subFlow#1.channel#1' channel
2020-04-10 13:24:09 513 [main] INFO  [INFO] DirectChannel: 64 : Channel 'application.bizMsgFlow.subFlow#1.channel#1' has 1 subscriber(s).
2020-04-10 13:24:09 513 [main] INFO  [INFO] EventDrivenConsumer: 159 : started bizMsgFlow.subFlow#1.org.springframework.integration.config.ConsumerEndpointFactoryBean#1
2020-04-10 13:24:09 514 [main] INFO  [INFO] EventDrivenConsumer: 107 : Adding {mqtt:outbound-channel-adapter} as a subscriber to the 'bizMsgFlow.subFlow#1.channel#2' channel
2020-04-10 13:24:09 514 [main] INFO  [INFO] DirectChannel: 64 : Channel 'application.bizMsgFlow.subFlow#1.channel#2' has 1 subscriber(s).
2020-04-10 13:24:09 515 [main] INFO  [INFO] EventDrivenConsumer: 159 : started bizMsgFlow.subFlow#1.org.springframework.integration.config.ConsumerEndpointFactoryBean#2
2020-04-10 13:24:09 515 [main] INFO  [INFO] EventDrivenConsumer: 107 : Adding {service-activator} as a subscriber to the 'bizMsgFlow.subFlow#2.channel#0' channel
2020-04-10 13:24:09 516 [main] INFO  [INFO] DirectChannel: 64 : Channel 'application.bizMsgFlow.subFlow#2.channel#0' has 1 subscriber(s).
2020-04-10 13:24:09 516 [main] INFO  [INFO] EventDrivenConsumer: 159 : started bizMsgFlow.subFlow#2.org.springframework.integration.config.ConsumerEndpointFactoryBean#0
2020-04-10 13:24:09 517 [main] INFO  [INFO] EventDrivenConsumer: 107 : Adding {filter} as a subscriber to the 'bizMsgFlow.subFlow#2.channel#1' channel
2020-04-10 13:24:09 517 [main] INFO  [INFO] DirectChannel: 64 : Channel 'application.bizMsgFlow.subFlow#2.channel#1' has 1 subscriber(s).
2020-04-10 13:24:09 517 [main] INFO  [INFO] EventDrivenConsumer: 159 : started bizMsgFlow.subFlow#2.org.springframework.integration.config.ConsumerEndpointFactoryBean#1
2020-04-10 13:24:09 518 [main] INFO  [INFO] EventDrivenConsumer: 107 : Adding {mqtt:outbound-channel-adapter} as a subscriber to the 'bizMsgFlow.subFlow#2.channel#2' channel
2020-04-10 13:24:09 518 [main] INFO  [INFO] DirectChannel: 64 : Channel 'application.bizMsgFlow.subFlow#2.channel#2' has 1 subscriber(s).
2020-04-10 13:24:09 519 [main] INFO  [INFO] EventDrivenConsumer: 159 : started bizMsgFlow.subFlow#2.org.springframework.integration.config.ConsumerEndpointFactoryBean#2
2020-04-10 13:24:09 519 [main] INFO  [INFO] EventDrivenConsumer: 107 : Adding {service-activator} as a subscriber to the 'bizMsgFlow.subFlow#3.channel#0' channel
2020-04-10 13:24:09 520 [main] INFO  [INFO] DirectChannel: 64 : Channel 'application.bizMsgFlow.subFlow#3.channel#0' has 1 subscriber(s).
2020-04-10 13:24:09 520 [main] INFO  [INFO] EventDrivenConsumer: 159 : started bizMsgFlow.subFlow#3.org.springframework.integration.config.ConsumerEndpointFactoryBean#0
2020-04-10 13:24:09 521 [main] INFO  [INFO] EventDrivenConsumer: 107 : Adding {filter} as a subscriber to the 'bizMsgFlow.subFlow#3.channel#1' channel
2020-04-10 13:24:09 521 [main] INFO  [INFO] DirectChannel: 64 : Channel 'application.bizMsgFlow.subFlow#3.channel#1' has 1 subscriber(s).
2020-04-10 13:24:09 522 [main] INFO  [INFO] EventDrivenConsumer: 159 : started bizMsgFlow.subFlow#3.org.springframework.integration.config.ConsumerEndpointFactoryBean#1
2020-04-10 13:24:09 522 [main] INFO  [INFO] EventDrivenConsumer: 107 : Adding {mqtt:outbound-channel-adapter} as a subscriber to the 'bizMsgFlow.subFlow#3.channel#2' channel
2020-04-10 13:24:09 523 [main] INFO  [INFO] DirectChannel: 64 : Channel 'application.bizMsgFlow.subFlow#3.channel#2' has 1 subscriber(s).
2020-04-10 13:24:09 523 [main] INFO  [INFO] EventDrivenConsumer: 159 : started bizMsgFlow.subFlow#3.org.springframework.integration.config.ConsumerEndpointFactoryBean#2
2020-04-10 13:24:09 524 [main] INFO  [INFO] EventDrivenConsumer: 107 : Adding {bridge} as a subscriber to the 'bizMsgFlow.channel#3' channel
2020-04-10 13:24:09 524 [main] INFO  [INFO] DirectChannel: 64 : Channel 'application.bizMsgFlow.channel#3' has 1 subscriber(s).
2020-04-10 13:24:09 525 [main] INFO  [INFO] EventDrivenConsumer: 159 : started bizMsgFlow.org.springframework.integration.config.ConsumerEndpointFactoryBean#3
2020-04-10 13:24:09 525 [main] INFO  [INFO] EventDrivenConsumer: 107 : Adding {message-handler:mqttSpringIntegration.mqttOutbound.serviceActivator} as a subscriber to the 'mqttOutboundChannel' channel
2020-04-10 13:24:09 525 [main] INFO  [INFO] DirectChannel: 64 : Channel 'application.mqttOutboundChannel' has 1 subscriber(s).
2020-04-10 13:24:09 526 [main] INFO  [INFO] EventDrivenConsumer: 159 : started mqttSpringIntegration.mqttOutbound.serviceActivator
2020-04-10 13:24:09 526 [main] INFO  [INFO] GatewayProxyFactoryBean$MethodInvocationGateway: 159 : started mqttPublisher
2020-04-10 13:24:09 527 [main] INFO  [INFO] GatewayProxyFactoryBean: 159 : started mqttPublisher
2020-04-10 13:24:09 544 [main] INFO  [INFO] MqttTest: 59 : Started MqttTest in 13.243 seconds (JVM running for 14.544)
2020-04-10 13:24:09 836 [main] INFO  [INFO] PropertiesUtil: 39 : >>> 配置文件-mqtt.properties 加载完成：{mqtt.username=mqtt-kunbu, mqtt.cleansession=false, mqtt.password=123456, mqtt.host=tcp://127.0.0.1:1883, mqtt.clientid=consumer-publisher}
2020-04-10 13:24:13 861 [main] ERROR [ERROR] MqttHandler: 97 : >>> IMqttHandler 消息应用连接异常
org.eclipse.paho.client.mqttv3.MqttException: 无法连接至服务器
	at org.eclipse.paho.client.mqttv3.internal.TCPNetworkModule.start(TCPNetworkModule.java:94) ~[org.eclipse.paho.client.mqttv3-1.2.0.jar:?]
	at org.eclipse.paho.client.mqttv3.internal.ClientComms$ConnectBG.run(ClientComms.java:701) ~[org.eclipse.paho.client.mqttv3-1.2.0.jar:?]
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511) ~[?:1.8.0_181]
	at java.util.concurrent.FutureTask.run(FutureTask.java:266) ~[?:1.8.0_181]
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180) ~[?:1.8.0_181]
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293) ~[?:1.8.0_181]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) ~[?:1.8.0_181]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) ~[?:1.8.0_181]
	at java.lang.Thread.run(Thread.java:748) ~[?:1.8.0_181]
Caused by: java.net.ConnectException: Connection refused: connect
	at java.net.DualStackPlainSocketImpl.waitForConnect(Native Method) ~[?:1.8.0_181]
	at java.net.DualStackPlainSocketImpl.socketConnect(DualStackPlainSocketImpl.java:85) ~[?:1.8.0_181]
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350) ~[?:1.8.0_181]
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206) ~[?:1.8.0_181]
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188) ~[?:1.8.0_181]
	at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:172) ~[?:1.8.0_181]
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392) ~[?:1.8.0_181]
	at java.net.Socket.connect(Socket.java:589) ~[?:1.8.0_181]
	at org.eclipse.paho.client.mqttv3.internal.TCPNetworkModule.start(TCPNetworkModule.java:84) ~[org.eclipse.paho.client.mqttv3-1.2.0.jar:?]
	... 8 more
2020-04-10 13:24:13 932 [main] ERROR [ERROR] MqttHandler: 37 : >>> IMqttHandler push error
org.eclipse.paho.client.mqttv3.MqttException: 客户机未连接
	at org.eclipse.paho.client.mqttv3.internal.ExceptionHelper.createMqttException(ExceptionHelper.java:31) ~[org.eclipse.paho.client.mqttv3-1.2.0.jar:?]
	at org.eclipse.paho.client.mqttv3.internal.ClientComms.sendNoWait(ClientComms.java:199) ~[org.eclipse.paho.client.mqttv3-1.2.0.jar:?]
	at org.eclipse.paho.client.mqttv3.MqttAsyncClient.publish(MqttAsyncClient.java:1355) ~[org.eclipse.paho.client.mqttv3-1.2.0.jar:?]
	at org.eclipse.paho.client.mqttv3.MqttClient.publish(MqttClient.java:583) ~[org.eclipse.paho.client.mqttv3-1.2.0.jar:?]
	at com.scosyf.mqtt.integration.mqtt.paho.MqttHandler.push(MqttHandler.java:35) [classes/:?]
	at com.scosyf.mqtt.integration.mqtt.paho.MqttHandler.push(MqttHandler.java:25) [classes/:?]
	at com.scosyf.mqtt.integration.MqttTest.testMqttHandler(MqttTest.java:20) [test-classes/:?]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:1.8.0_181]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:1.8.0_181]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:1.8.0_181]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[?:1.8.0_181]
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50) [junit-4.12.jar:4.12]
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12) [junit-4.12.jar:4.12]
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47) [junit-4.12.jar:4.12]
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17) [junit-4.12.jar:4.12]
	at org.springframework.test.context.junit4.statements.RunBeforeTestExecutionCallbacks.evaluate(RunBeforeTestExecutionCallbacks.java:74) [spring-test-5.1.10.RELEASE.jar:5.1.10.RELEASE]
	at org.springframework.test.context.junit4.statements.RunAfterTestExecutionCallbacks.evaluate(RunAfterTestExecutionCallbacks.java:84) [spring-test-5.1.10.RELEASE.jar:5.1.10.RELEASE]
	at org.springframework.test.context.junit4.statements.RunBeforeTestMethodCallbacks.evaluate(RunBeforeTestMethodCallbacks.java:75) [spring-test-5.1.10.RELEASE.jar:5.1.10.RELEASE]
	at org.springframework.test.context.junit4.statements.RunAfterTestMethodCallbacks.evaluate(RunAfterTestMethodCallbacks.java:86) [spring-test-5.1.10.RELEASE.jar:5.1.10.RELEASE]
	at org.springframework.test.context.junit4.statements.SpringRepeat.evaluate(SpringRepeat.java:84) [spring-test-5.1.10.RELEASE.jar:5.1.10.RELEASE]
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325) [junit-4.12.jar:4.12]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:251) [spring-test-5.1.10.RELEASE.jar:5.1.10.RELEASE]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:97) [spring-test-5.1.10.RELEASE.jar:5.1.10.RELEASE]
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268) [junit-4.12.jar:4.12]
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61) [spring-test-5.1.10.RELEASE.jar:5.1.10.RELEASE]
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70) [spring-test-5.1.10.RELEASE.jar:5.1.10.RELEASE]
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363) [junit-4.12.jar:4.12]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:190) [spring-test-5.1.10.RELEASE.jar:5.1.10.RELEASE]
	at org.apache.maven.surefire.junit4.JUnit4Provider.execute(JUnit4Provider.java:365) [surefire-junit4-2.22.2.jar:2.22.2]
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeWithRerun(JUnit4Provider.java:273) [surefire-junit4-2.22.2.jar:2.22.2]
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeTestSet(JUnit4Provider.java:238) [surefire-junit4-2.22.2.jar:2.22.2]
	at org.apache.maven.surefire.junit4.JUnit4Provider.invoke(JUnit4Provider.java:159) [surefire-junit4-2.22.2.jar:2.22.2]
	at org.apache.maven.surefire.booter.ForkedBooter.invokeProviderInSameClassLoader(ForkedBooter.java:384) [surefire-booter-2.22.2.jar:2.22.2]
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:345) [surefire-booter-2.22.2.jar:2.22.2]
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:126) [surefire-booter-2.22.2.jar:2.22.2]
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:418) [surefire-booter-2.22.2.jar:2.22.2]
2020-04-10 13:24:13 979 [Thread-3] INFO  [INFO] EventDrivenConsumer: 107 : Removing {bridge} as a subscriber to the 'sysMsgFlow.channel#0' channel
2020-04-10 13:24:13 980 [Thread-3] INFO  [INFO] DirectChannel: 64 : Channel 'application.sysMsgFlow.channel#0' has 0 subscriber(s).
2020-04-10 13:24:13 980 [Thread-3] INFO  [INFO] EventDrivenConsumer: 193 : stopped sysMsgFlow.org.springframework.integration.config.ConsumerEndpointFactoryBean#0
2020-04-10 13:24:13 981 [Thread-3] INFO  [INFO] EventDrivenConsumer: 107 : Removing {service-activator} as a subscriber to the 'sysMsgFlow.channel#1' channel
2020-04-10 13:24:13 981 [Thread-3] INFO  [INFO] ExecutorChannel: 64 : Channel 'application.sysMsgFlow.channel#1' has 0 subscriber(s).
2020-04-10 13:24:13 981 [Thread-3] INFO  [INFO] EventDrivenConsumer: 193 : stopped sysMsgFlow.org.springframework.integration.config.ConsumerEndpointFactoryBean#1
2020-04-10 13:24:13 981 [Thread-3] INFO  [INFO] EventDrivenConsumer: 107 : Removing {service-activator} as a subscriber to the 'sysMsgFlow.channel#2' channel
2020-04-10 13:24:13 982 [Thread-3] INFO  [INFO] DirectChannel: 64 : Channel 'application.sysMsgFlow.channel#2' has 0 subscriber(s).
2020-04-10 13:24:13 982 [Thread-3] INFO  [INFO] EventDrivenConsumer: 193 : stopped sysMsgFlow.org.springframework.integration.config.ConsumerEndpointFactoryBean#2
2020-04-10 13:24:13 982 [Thread-3] INFO  [INFO] EventDrivenConsumer: 107 : Removing {filter} as a subscriber to the 'sysMsgFlow.channel#3' channel
2020-04-10 13:24:13 982 [Thread-3] INFO  [INFO] DirectChannel: 64 : Channel 'application.sysMsgFlow.channel#3' has 0 subscriber(s).
2020-04-10 13:24:13 983 [Thread-3] INFO  [INFO] EventDrivenConsumer: 193 : stopped sysMsgFlow.org.springframework.integration.config.ConsumerEndpointFactoryBean#3
2020-04-10 13:24:13 983 [Thread-3] INFO  [INFO] EventDrivenConsumer: 107 : Removing {mqtt:outbound-channel-adapter} as a subscriber to the 'sysMsgFlow.channel#4' channel
2020-04-10 13:24:13 983 [Thread-3] INFO  [INFO] DirectChannel: 64 : Channel 'application.sysMsgFlow.channel#4' has 0 subscriber(s).
2020-04-10 13:24:13 984 [Thread-3] INFO  [INFO] EventDrivenConsumer: 193 : stopped sysMsgFlow.org.springframework.integration.config.ConsumerEndpointFactoryBean#4
2020-04-10 13:24:13 984 [Thread-3] INFO  [INFO] MqttPahoMessageDrivenChannelAdapter: 193 : stopped sysInbound
2020-04-10 13:24:13 984 [Thread-3] INFO  [INFO] EventDrivenConsumer: 107 : Removing {bridge} as a subscriber to the 'bizMsgFlow.channel#0' channel
2020-04-10 13:24:13 985 [Thread-3] INFO  [INFO] DirectChannel: 64 : Channel 'application.bizMsgFlow.channel#0' has 0 subscriber(s).
2020-04-10 13:24:13 985 [Thread-3] INFO  [INFO] EventDrivenConsumer: 193 : stopped bizMsgFlow.org.springframework.integration.config.ConsumerEndpointFactoryBean#0
2020-04-10 13:24:13 985 [Thread-3] INFO  [INFO] EventDrivenConsumer: 107 : Removing {service-activator} as a subscriber to the 'bizMsgFlow.channel#1' channel
2020-04-10 13:24:13 985 [Thread-3] INFO  [INFO] ExecutorChannel: 64 : Channel 'application.bizMsgFlow.channel#1' has 0 subscriber(s).
2020-04-10 13:24:13 986 [Thread-3] INFO  [INFO] EventDrivenConsumer: 193 : stopped bizMsgFlow.org.springframework.integration.config.ConsumerEndpointFactoryBean#1
2020-04-10 13:24:13 986 [Thread-3] INFO  [INFO] EventDrivenConsumer: 107 : Removing {router} as a subscriber to the 'bizMsgFlow.channel#2' channel
2020-04-10 13:24:13 986 [Thread-3] INFO  [INFO] DirectChannel: 64 : Channel 'application.bizMsgFlow.channel#2' has 0 subscriber(s).
2020-04-10 13:24:13 986 [Thread-3] INFO  [INFO] EventDrivenConsumer: 193 : stopped bizMsgFlow.org.springframework.integration.config.ConsumerEndpointFactoryBean#2
2020-04-10 13:24:13 987 [Thread-3] INFO  [INFO] EventDrivenConsumer: 107 : Removing {service-activator} as a subscriber to the 'bizMsgFlow.subFlow#0.channel#0' channel
2020-04-10 13:24:13 987 [Thread-3] INFO  [INFO] DirectChannel: 64 : Channel 'application.bizMsgFlow.subFlow#0.channel#0' has 0 subscriber(s).
2020-04-10 13:24:13 987 [Thread-3] INFO  [INFO] EventDrivenConsumer: 193 : stopped bizMsgFlow.subFlow#0.org.springframework.integration.config.ConsumerEndpointFactoryBean#0
2020-04-10 13:24:13 987 [Thread-3] INFO  [INFO] EventDrivenConsumer: 107 : Removing {filter} as a subscriber to the 'bizMsgFlow.subFlow#0.channel#1' channel
2020-04-10 13:24:13 988 [Thread-3] INFO  [INFO] DirectChannel: 64 : Channel 'application.bizMsgFlow.subFlow#0.channel#1' has 0 subscriber(s).
2020-04-10 13:24:13 988 [Thread-3] INFO  [INFO] EventDrivenConsumer: 193 : stopped bizMsgFlow.subFlow#0.org.springframework.integration.config.ConsumerEndpointFactoryBean#1
2020-04-10 13:24:13 988 [Thread-3] INFO  [INFO] EventDrivenConsumer: 107 : Removing {mqtt:outbound-channel-adapter} as a subscriber to the 'bizMsgFlow.subFlow#0.channel#2' channel
2020-04-10 13:24:13 988 [Thread-3] INFO  [INFO] DirectChannel: 64 : Channel 'application.bizMsgFlow.subFlow#0.channel#2' has 0 subscriber(s).
2020-04-10 13:24:13 988 [Thread-3] INFO  [INFO] EventDrivenConsumer: 193 : stopped bizMsgFlow.subFlow#0.org.springframework.integration.config.ConsumerEndpointFactoryBean#2
2020-04-10 13:24:13 988 [Thread-3] INFO  [INFO] EventDrivenConsumer: 107 : Removing {service-activator} as a subscriber to the 'bizMsgFlow.subFlow#1.channel#0' channel
2020-04-10 13:24:13 989 [Thread-3] INFO  [INFO] DirectChannel: 64 : Channel 'application.bizMsgFlow.subFlow#1.channel#0' has 0 subscriber(s).
2020-04-10 13:24:13 989 [Thread-3] INFO  [INFO] EventDrivenConsumer: 193 : stopped bizMsgFlow.subFlow#1.org.springframework.integration.config.ConsumerEndpointFactoryBean#0
2020-04-10 13:24:13 989 [Thread-3] INFO  [INFO] EventDrivenConsumer: 107 : Removing {filter} as a subscriber to the 'bizMsgFlow.subFlow#1.channel#1' channel
2020-04-10 13:24:13 989 [Thread-3] INFO  [INFO] DirectChannel: 64 : Channel 'application.bizMsgFlow.subFlow#1.channel#1' has 0 subscriber(s).
2020-04-10 13:24:13 989 [Thread-3] INFO  [INFO] EventDrivenConsumer: 193 : stopped bizMsgFlow.subFlow#1.org.springframework.integration.config.ConsumerEndpointFactoryBean#1
2020-04-10 13:24:13 989 [Thread-3] INFO  [INFO] EventDrivenConsumer: 107 : Removing {mqtt:outbound-channel-adapter} as a subscriber to the 'bizMsgFlow.subFlow#1.channel#2' channel
2020-04-10 13:24:13 990 [Thread-3] INFO  [INFO] DirectChannel: 64 : Channel 'application.bizMsgFlow.subFlow#1.channel#2' has 0 subscriber(s).
2020-04-10 13:24:13 990 [Thread-3] INFO  [INFO] EventDrivenConsumer: 193 : stopped bizMsgFlow.subFlow#1.org.springframework.integration.config.ConsumerEndpointFactoryBean#2
2020-04-10 13:24:13 990 [Thread-3] INFO  [INFO] EventDrivenConsumer: 107 : Removing {service-activator} as a subscriber to the 'bizMsgFlow.subFlow#2.channel#0' channel
2020-04-10 13:24:13 990 [Thread-3] INFO  [INFO] DirectChannel: 64 : Channel 'application.bizMsgFlow.subFlow#2.channel#0' has 0 subscriber(s).
2020-04-10 13:24:13 990 [Thread-3] INFO  [INFO] EventDrivenConsumer: 193 : stopped bizMsgFlow.subFlow#2.org.springframework.integration.config.ConsumerEndpointFactoryBean#0
2020-04-10 13:24:13 990 [Thread-3] INFO  [INFO] EventDrivenConsumer: 107 : Removing {filter} as a subscriber to the 'bizMsgFlow.subFlow#2.channel#1' channel
2020-04-10 13:24:13 991 [Thread-3] INFO  [INFO] DirectChannel: 64 : Channel 'application.bizMsgFlow.subFlow#2.channel#1' has 0 subscriber(s).
2020-04-10 13:24:13 991 [Thread-3] INFO  [INFO] EventDrivenConsumer: 193 : stopped bizMsgFlow.subFlow#2.org.springframework.integration.config.ConsumerEndpointFactoryBean#1
2020-04-10 13:24:13 991 [Thread-3] INFO  [INFO] EventDrivenConsumer: 107 : Removing {mqtt:outbound-channel-adapter} as a subscriber to the 'bizMsgFlow.subFlow#2.channel#2' channel
2020-04-10 13:24:13 991 [Thread-3] INFO  [INFO] DirectChannel: 64 : Channel 'application.bizMsgFlow.subFlow#2.channel#2' has 0 subscriber(s).
2020-04-10 13:24:13 991 [Thread-3] INFO  [INFO] EventDrivenConsumer: 193 : stopped bizMsgFlow.subFlow#2.org.springframework.integration.config.ConsumerEndpointFactoryBean#2
2020-04-10 13:24:13 991 [Thread-3] INFO  [INFO] EventDrivenConsumer: 107 : Removing {service-activator} as a subscriber to the 'bizMsgFlow.subFlow#3.channel#0' channel
2020-04-10 13:24:13 991 [Thread-3] INFO  [INFO] DirectChannel: 64 : Channel 'application.bizMsgFlow.subFlow#3.channel#0' has 0 subscriber(s).
2020-04-10 13:24:13 992 [Thread-3] INFO  [INFO] EventDrivenConsumer: 193 : stopped bizMsgFlow.subFlow#3.org.springframework.integration.config.ConsumerEndpointFactoryBean#0
2020-04-10 13:24:13 992 [Thread-3] INFO  [INFO] EventDrivenConsumer: 107 : Removing {filter} as a subscriber to the 'bizMsgFlow.subFlow#3.channel#1' channel
2020-04-10 13:24:13 992 [Thread-3] INFO  [INFO] DirectChannel: 64 : Channel 'application.bizMsgFlow.subFlow#3.channel#1' has 0 subscriber(s).
2020-04-10 13:24:13 992 [Thread-3] INFO  [INFO] EventDrivenConsumer: 193 : stopped bizMsgFlow.subFlow#3.org.springframework.integration.config.ConsumerEndpointFactoryBean#1
2020-04-10 13:24:13 992 [Thread-3] INFO  [INFO] EventDrivenConsumer: 107 : Removing {mqtt:outbound-channel-adapter} as a subscriber to the 'bizMsgFlow.subFlow#3.channel#2' channel
2020-04-10 13:24:13 993 [Thread-3] INFO  [INFO] DirectChannel: 64 : Channel 'application.bizMsgFlow.subFlow#3.channel#2' has 0 subscriber(s).
2020-04-10 13:24:13 993 [Thread-3] INFO  [INFO] EventDrivenConsumer: 193 : stopped bizMsgFlow.subFlow#3.org.springframework.integration.config.ConsumerEndpointFactoryBean#2
2020-04-10 13:24:13 993 [Thread-3] INFO  [INFO] EventDrivenConsumer: 107 : Removing {bridge} as a subscriber to the 'bizMsgFlow.channel#3' channel
2020-04-10 13:24:13 993 [Thread-3] INFO  [INFO] DirectChannel: 64 : Channel 'application.bizMsgFlow.channel#3' has 0 subscriber(s).
2020-04-10 13:24:13 994 [Thread-3] INFO  [INFO] EventDrivenConsumer: 193 : stopped bizMsgFlow.org.springframework.integration.config.ConsumerEndpointFactoryBean#3
2020-04-10 13:24:13 994 [Thread-3] INFO  [INFO] MqttPahoMessageDrivenChannelAdapter: 193 : stopped bizInbound
2020-04-10 13:24:13 994 [Thread-3] INFO  [INFO] GatewayProxyFactoryBean$MethodInvocationGateway: 176 : stopped mqttPublisher
2020-04-10 13:24:13 994 [Thread-3] INFO  [INFO] GatewayProxyFactoryBean: 193 : stopped mqttPublisher
2020-04-10 13:24:13 994 [Thread-3] INFO  [INFO] EventDrivenConsumer: 107 : Removing {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2020-04-10 13:24:13 995 [Thread-3] INFO  [INFO] PublishSubscribeChannel: 64 : Channel 'application.errorChannel' has 0 subscriber(s).
2020-04-10 13:24:13 995 [Thread-3] INFO  [INFO] EventDrivenConsumer: 193 : stopped _org.springframework.integration.errorLogger
2020-04-10 13:24:13 995 [Thread-3] INFO  [INFO] EventDrivenConsumer: 107 : Removing {message-handler:mqttSpringIntegration.mqttOutbound.serviceActivator} as a subscriber to the 'mqttOutboundChannel' channel
2020-04-10 13:24:13 995 [Thread-3] INFO  [INFO] DirectChannel: 64 : Channel 'application.mqttOutboundChannel' has 0 subscriber(s).
2020-04-10 13:24:13 996 [Thread-3] INFO  [INFO] EventDrivenConsumer: 193 : stopped mqttSpringIntegration.mqttOutbound.serviceActivator
2020-04-10 13:24:13 997 [Thread-3] INFO  [INFO] ThreadPoolTaskScheduler: 208 : Shutting down ExecutorService 'taskScheduler'
2020-04-10 13:24:14 000 [Thread-3] INFO  [INFO] ThreadPoolTaskExecutor: 208 : Shutting down ExecutorService 'applicationTaskExecutor'
2020-04-10 13:24:14 004 [Thread-3] INFO  [INFO] connection: 71 : Closed connection [connectionId{localValue:2, serverValue:2}] to localhost:27017 because the pool has been closed.
2020-04-10 13:26:04 217 [main] INFO  [INFO] SpringBootTestContextBootstrapper: 308 : Neither @ContextConfiguration nor @ContextHierarchy found for test class [com.scosyf.mqtt.integration.MqttTest], using SpringBootContextLoader
2020-04-10 13:26:04 225 [main] INFO  [INFO] AbstractContextLoader: 264 : Could not detect default resource locations for test class [com.scosyf.mqtt.integration.MqttTest]: no resource found for suffixes {-context.xml, Context.groovy}.
2020-04-10 13:26:04 226 [main] INFO  [INFO] AnnotationConfigContextLoaderUtils: 83 : Could not detect default configuration classes for test class [com.scosyf.mqtt.integration.MqttTest]: MqttTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2020-04-10 13:26:04 313 [main] INFO  [INFO] SpringBootTestContextBootstrapper: 235 : Found @SpringBootConfiguration com.scosyf.mqtt.integration.SpringIntegrationApplication for test class com.scosyf.mqtt.integration.MqttTest
2020-04-10 13:26:04 383 [main] INFO  [INFO] SpringBootTestContextBootstrapper: 248 : Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
2020-04-10 13:26:04 399 [main] INFO  [INFO] SpringBootTestContextBootstrapper: 177 : Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@4ed5eb72, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@12f9af83, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@19b93fa8, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@7e6ef134, org.springframework.test.context.support.DirtiesContextTestExecutionListener@1f010bf0, org.springframework.test.context.transaction.TransactionalTestExecutionListener@40db2a24, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@10cf09e8, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@1921ad94, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@ee86bcb, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@177bea38, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@7f132176, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@6bca7e0d]
2020-04-10 13:26:04 714 [main] INFO  [INFO] MqttTest: 50 : Starting MqttTest on DESKTOP-QA9ODS5 with PID 19180 (started by mojun in D:\kunbu\spring-integration)
2020-04-10 13:26:04 716 [main] INFO  [INFO] MqttTest: 648 : No active profile set, falling back to default profiles: default
2020-04-10 13:26:05 392 [main] INFO  [INFO] RepositoryConfigurationDelegate: 126 : Bootstrapping Spring Data repositories in DEFAULT mode.
2020-04-10 13:26:05 429 [main] INFO  [INFO] RepositoryConfigurationDelegate: 182 : Finished Spring Data repository scanning in 32ms. Found 0 repository interfaces.
2020-04-10 13:26:06 128 [main] INFO  [INFO] DefaultConfiguringBeanFactoryPostProcessor: 193 : No bean named 'errorChannel' has been explicitly defined. Therefore, a default PublishSubscribeChannel will be created.
2020-04-10 13:26:06 136 [main] INFO  [INFO] DefaultConfiguringBeanFactoryPostProcessor: 280 : No bean named 'taskScheduler' has been explicitly defined. Therefore, a default ThreadPoolTaskScheduler will be created.
2020-04-10 13:26:06 145 [main] INFO  [INFO] DefaultConfiguringBeanFactoryPostProcessor: 431 : No bean named 'integrationHeaderChannelRegistry' has been explicitly defined. Therefore, a default DefaultHeaderChannelRegistry will be created.
2020-04-10 13:26:06 340 [main] INFO  [INFO] PostProcessorRegistrationDelegate$BeanPostProcessorChecker: 330 : Bean 'org.springframework.integration.config.IntegrationManagementConfiguration' of type [org.springframework.integration.config.IntegrationManagementConfiguration$$EnhancerBySpringCGLIB$$9ecb7c26] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-04-10 13:26:06 369 [main] INFO  [INFO] PostProcessorRegistrationDelegate$BeanPostProcessorChecker: 330 : Bean 'integrationDisposableAutoCreatedBeans' of type [org.springframework.integration.config.annotation.Disposables] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-04-10 13:26:07 481 [main] INFO  [INFO] cluster: 71 : Cluster created with settings {hosts=[localhost:27017], mode=SINGLE, requiredClusterType=UNKNOWN, serverSelectionTimeout='30000 ms', maxWaitQueueSize=500}
2020-04-10 13:26:07 546 [cluster-ClusterId{value='5e90036ff4ac9c4aecdc796d', description='null'}-localhost:27017] INFO  [INFO] connection: 71 : Opened connection [connectionId{localValue:1, serverValue:3}] to localhost:27017
2020-04-10 13:26:07 550 [cluster-ClusterId{value='5e90036ff4ac9c4aecdc796d', description='null'}-localhost:27017] INFO  [INFO] cluster: 71 : Monitor thread successfully connected to server with description ServerDescription{address=localhost:27017, type=STANDALONE, state=CONNECTED, ok=true, version=ServerVersion{versionList=[3, 6, 12]}, minWireVersion=0, maxWireVersion=6, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=2626000}
2020-04-10 13:26:07 616 [main] WARN  [WARN] CustomConversions: 207 : Registering converter from class java.time.LocalDateTime to class java.time.Instant as reading converter although it doesn't convert from a store-supported type! You might wanna check you annotation setup at the converter implementation.
2020-04-10 13:26:07 617 [main] WARN  [WARN] CustomConversions: 207 : Registering converter from class java.time.Instant to class java.time.LocalDateTime as reading converter although it doesn't convert from a store-supported type! You might wanna check you annotation setup at the converter implementation.
2020-04-10 13:26:07 730 [main] WARN  [WARN] CustomConversions: 207 : Registering converter from class java.time.LocalDateTime to class java.time.Instant as reading converter although it doesn't convert from a store-supported type! You might wanna check you annotation setup at the converter implementation.
2020-04-10 13:26:07 731 [main] WARN  [WARN] CustomConversions: 207 : Registering converter from class java.time.Instant to class java.time.LocalDateTime as reading converter although it doesn't convert from a store-supported type! You might wanna check you annotation setup at the converter implementation.
2020-04-10 13:26:07 815 [main] INFO  [INFO] connection: 71 : Opened connection [connectionId{localValue:2, serverValue:4}] to localhost:27017
2020-04-10 13:26:09 306 [main] INFO  [INFO] ThreadPoolTaskExecutor: 171 : Initializing ExecutorService 'applicationTaskExecutor'
2020-04-10 13:26:09 668 [main] INFO  [INFO] ThreadPoolTaskScheduler: 171 : Initializing ExecutorService 'taskScheduler'
2020-04-10 13:26:09 894 [main] INFO  [INFO] EventDrivenConsumer: 107 : Adding {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2020-04-10 13:26:09 895 [main] INFO  [INFO] PublishSubscribeChannel: 64 : Channel 'application.errorChannel' has 1 subscriber(s).
2020-04-10 13:26:09 895 [main] INFO  [INFO] EventDrivenConsumer: 159 : started _org.springframework.integration.errorLogger
2020-04-10 13:26:13 977 [main] ERROR [ERROR] MqttPahoMessageDrivenChannelAdapter: 264 : Error connecting or subscribing to [$SYS/brokers/+/clients/+/connected, $SYS/brokers/+/clients/+/disconnected]
org.eclipse.paho.client.mqttv3.MqttException: 无法连接至服务器
	at org.eclipse.paho.client.mqttv3.internal.TCPNetworkModule.start(TCPNetworkModule.java:94) ~[org.eclipse.paho.client.mqttv3-1.2.0.jar:?]
	at org.eclipse.paho.client.mqttv3.internal.ClientComms$ConnectBG.run(ClientComms.java:701) ~[org.eclipse.paho.client.mqttv3-1.2.0.jar:?]
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511) ~[?:1.8.0_181]
	at java.util.concurrent.FutureTask.run(FutureTask.java:266) ~[?:1.8.0_181]
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180) ~[?:1.8.0_181]
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293) ~[?:1.8.0_181]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) ~[?:1.8.0_181]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) ~[?:1.8.0_181]
	at java.lang.Thread.run(Thread.java:748) ~[?:1.8.0_181]
Caused by: java.net.ConnectException: Connection refused: connect
	at java.net.DualStackPlainSocketImpl.waitForConnect(Native Method) ~[?:1.8.0_181]
	at java.net.DualStackPlainSocketImpl.socketConnect(DualStackPlainSocketImpl.java:85) ~[?:1.8.0_181]
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350) ~[?:1.8.0_181]
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206) ~[?:1.8.0_181]
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188) ~[?:1.8.0_181]
	at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:172) ~[?:1.8.0_181]
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392) ~[?:1.8.0_181]
	at java.net.Socket.connect(Socket.java:589) ~[?:1.8.0_181]
	at org.eclipse.paho.client.mqttv3.internal.TCPNetworkModule.start(TCPNetworkModule.java:84) ~[org.eclipse.paho.client.mqttv3-1.2.0.jar:?]
	... 8 more
2020-04-10 13:26:14 037 [main] ERROR [ERROR] MqttPahoMessageDrivenChannelAdapter: 151 : Exception while connecting and subscribing, retrying
org.eclipse.paho.client.mqttv3.MqttException: 无法连接至服务器
	at org.eclipse.paho.client.mqttv3.internal.TCPNetworkModule.start(TCPNetworkModule.java:94) ~[org.eclipse.paho.client.mqttv3-1.2.0.jar:?]
	at org.eclipse.paho.client.mqttv3.internal.ClientComms$ConnectBG.run(ClientComms.java:701) ~[org.eclipse.paho.client.mqttv3-1.2.0.jar:?]
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511) ~[?:1.8.0_181]
	at java.util.concurrent.FutureTask.run(FutureTask.java:266) ~[?:1.8.0_181]
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180) ~[?:1.8.0_181]
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293) ~[?:1.8.0_181]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) ~[?:1.8.0_181]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) ~[?:1.8.0_181]
	at java.lang.Thread.run(Thread.java:748) ~[?:1.8.0_181]
Caused by: java.net.ConnectException: Connection refused: connect
	at java.net.DualStackPlainSocketImpl.waitForConnect(Native Method) ~[?:1.8.0_181]
	at java.net.DualStackPlainSocketImpl.socketConnect(DualStackPlainSocketImpl.java:85) ~[?:1.8.0_181]
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350) ~[?:1.8.0_181]
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206) ~[?:1.8.0_181]
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188) ~[?:1.8.0_181]
	at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:172) ~[?:1.8.0_181]
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392) ~[?:1.8.0_181]
	at java.net.Socket.connect(Socket.java:589) ~[?:1.8.0_181]
	at org.eclipse.paho.client.mqttv3.internal.TCPNetworkModule.start(TCPNetworkModule.java:84) ~[org.eclipse.paho.client.mqttv3-1.2.0.jar:?]
	... 8 more
2020-04-10 13:26:14 042 [main] INFO  [INFO] MqttPahoMessageDrivenChannelAdapter: 159 : started sysInbound
2020-04-10 13:26:14 043 [main] INFO  [INFO] EventDrivenConsumer: 107 : Adding {bridge} as a subscriber to the 'sysMsgFlow.channel#0' channel
2020-04-10 13:26:14 043 [main] INFO  [INFO] DirectChannel: 64 : Channel 'application.sysMsgFlow.channel#0' has 1 subscriber(s).
2020-04-10 13:26:14 044 [main] INFO  [INFO] EventDrivenConsumer: 159 : started sysMsgFlow.org.springframework.integration.config.ConsumerEndpointFactoryBean#0
2020-04-10 13:26:14 044 [main] INFO  [INFO] EventDrivenConsumer: 107 : Adding {service-activator} as a subscriber to the 'sysMsgFlow.channel#1' channel
2020-04-10 13:26:14 045 [main] INFO  [INFO] ExecutorChannel: 64 : Channel 'application.sysMsgFlow.channel#1' has 1 subscriber(s).
2020-04-10 13:26:14 045 [main] INFO  [INFO] EventDrivenConsumer: 159 : started sysMsgFlow.org.springframework.integration.config.ConsumerEndpointFactoryBean#1
2020-04-10 13:26:14 045 [main] INFO  [INFO] EventDrivenConsumer: 107 : Adding {service-activator} as a subscriber to the 'sysMsgFlow.channel#2' channel
2020-04-10 13:26:14 046 [main] INFO  [INFO] DirectChannel: 64 : Channel 'application.sysMsgFlow.channel#2' has 1 subscriber(s).
2020-04-10 13:26:14 046 [main] INFO  [INFO] EventDrivenConsumer: 159 : started sysMsgFlow.org.springframework.integration.config.ConsumerEndpointFactoryBean#2
2020-04-10 13:26:14 047 [main] INFO  [INFO] EventDrivenConsumer: 107 : Adding {filter} as a subscriber to the 'sysMsgFlow.channel#3' channel
2020-04-10 13:26:14 047 [main] INFO  [INFO] DirectChannel: 64 : Channel 'application.sysMsgFlow.channel#3' has 1 subscriber(s).
2020-04-10 13:26:14 048 [main] INFO  [INFO] EventDrivenConsumer: 159 : started sysMsgFlow.org.springframework.integration.config.ConsumerEndpointFactoryBean#3
2020-04-10 13:26:14 048 [main] INFO  [INFO] EventDrivenConsumer: 107 : Adding {mqtt:outbound-channel-adapter} as a subscriber to the 'sysMsgFlow.channel#4' channel
2020-04-10 13:26:14 049 [main] INFO  [INFO] DirectChannel: 64 : Channel 'application.sysMsgFlow.channel#4' has 1 subscriber(s).
2020-04-10 13:26:14 049 [main] INFO  [INFO] EventDrivenConsumer: 159 : started sysMsgFlow.org.springframework.integration.config.ConsumerEndpointFactoryBean#4
2020-04-10 13:26:18 070 [main] ERROR [ERROR] MqttPahoMessageDrivenChannelAdapter: 264 : Error connecting or subscribing to [kunbu/biz/+/bsc/, kunbu/biz/+/log/, kunbu/biz/+/inf/]
org.eclipse.paho.client.mqttv3.MqttException: 无法连接至服务器
	at org.eclipse.paho.client.mqttv3.internal.TCPNetworkModule.start(TCPNetworkModule.java:94) ~[org.eclipse.paho.client.mqttv3-1.2.0.jar:?]
	at org.eclipse.paho.client.mqttv3.internal.ClientComms$ConnectBG.run(ClientComms.java:701) ~[org.eclipse.paho.client.mqttv3-1.2.0.jar:?]
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511) ~[?:1.8.0_181]
	at java.util.concurrent.FutureTask.run(FutureTask.java:266) ~[?:1.8.0_181]
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180) ~[?:1.8.0_181]
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293) ~[?:1.8.0_181]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) ~[?:1.8.0_181]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) ~[?:1.8.0_181]
	at java.lang.Thread.run(Thread.java:748) ~[?:1.8.0_181]
Caused by: java.net.ConnectException: Connection refused: connect
	at java.net.DualStackPlainSocketImpl.waitForConnect(Native Method) ~[?:1.8.0_181]
	at java.net.DualStackPlainSocketImpl.socketConnect(DualStackPlainSocketImpl.java:85) ~[?:1.8.0_181]
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350) ~[?:1.8.0_181]
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206) ~[?:1.8.0_181]
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188) ~[?:1.8.0_181]
	at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:172) ~[?:1.8.0_181]
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392) ~[?:1.8.0_181]
	at java.net.Socket.connect(Socket.java:589) ~[?:1.8.0_181]
	at org.eclipse.paho.client.mqttv3.internal.TCPNetworkModule.start(TCPNetworkModule.java:84) ~[org.eclipse.paho.client.mqttv3-1.2.0.jar:?]
	... 8 more
2020-04-10 13:26:18 072 [main] ERROR [ERROR] MqttPahoMessageDrivenChannelAdapter: 151 : Exception while connecting and subscribing, retrying
org.eclipse.paho.client.mqttv3.MqttException: 无法连接至服务器
	at org.eclipse.paho.client.mqttv3.internal.TCPNetworkModule.start(TCPNetworkModule.java:94) ~[org.eclipse.paho.client.mqttv3-1.2.0.jar:?]
	at org.eclipse.paho.client.mqttv3.internal.ClientComms$ConnectBG.run(ClientComms.java:701) ~[org.eclipse.paho.client.mqttv3-1.2.0.jar:?]
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511) ~[?:1.8.0_181]
	at java.util.concurrent.FutureTask.run(FutureTask.java:266) ~[?:1.8.0_181]
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180) ~[?:1.8.0_181]
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293) ~[?:1.8.0_181]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) ~[?:1.8.0_181]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) ~[?:1.8.0_181]
	at java.lang.Thread.run(Thread.java:748) ~[?:1.8.0_181]
Caused by: java.net.ConnectException: Connection refused: connect
	at java.net.DualStackPlainSocketImpl.waitForConnect(Native Method) ~[?:1.8.0_181]
	at java.net.DualStackPlainSocketImpl.socketConnect(DualStackPlainSocketImpl.java:85) ~[?:1.8.0_181]
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350) ~[?:1.8.0_181]
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206) ~[?:1.8.0_181]
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188) ~[?:1.8.0_181]
	at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:172) ~[?:1.8.0_181]
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392) ~[?:1.8.0_181]
	at java.net.Socket.connect(Socket.java:589) ~[?:1.8.0_181]
	at org.eclipse.paho.client.mqttv3.internal.TCPNetworkModule.start(TCPNetworkModule.java:84) ~[org.eclipse.paho.client.mqttv3-1.2.0.jar:?]
	... 8 more
2020-04-10 13:26:18 075 [main] INFO  [INFO] MqttPahoMessageDrivenChannelAdapter: 159 : started bizInbound
2020-04-10 13:26:18 076 [main] INFO  [INFO] EventDrivenConsumer: 107 : Adding {bridge} as a subscriber to the 'bizMsgFlow.channel#0' channel
2020-04-10 13:26:18 076 [main] INFO  [INFO] DirectChannel: 64 : Channel 'application.bizMsgFlow.channel#0' has 1 subscriber(s).
2020-04-10 13:26:18 077 [main] INFO  [INFO] EventDrivenConsumer: 159 : started bizMsgFlow.org.springframework.integration.config.ConsumerEndpointFactoryBean#0
2020-04-10 13:26:18 078 [main] INFO  [INFO] EventDrivenConsumer: 107 : Adding {service-activator} as a subscriber to the 'bizMsgFlow.channel#1' channel
2020-04-10 13:26:18 078 [main] INFO  [INFO] ExecutorChannel: 64 : Channel 'application.bizMsgFlow.channel#1' has 1 subscriber(s).
2020-04-10 13:26:18 079 [main] INFO  [INFO] EventDrivenConsumer: 159 : started bizMsgFlow.org.springframework.integration.config.ConsumerEndpointFactoryBean#1
2020-04-10 13:26:18 079 [main] INFO  [INFO] EventDrivenConsumer: 107 : Adding {router} as a subscriber to the 'bizMsgFlow.channel#2' channel
2020-04-10 13:26:18 079 [main] INFO  [INFO] DirectChannel: 64 : Channel 'application.bizMsgFlow.channel#2' has 1 subscriber(s).
2020-04-10 13:26:18 080 [main] INFO  [INFO] EventDrivenConsumer: 159 : started bizMsgFlow.org.springframework.integration.config.ConsumerEndpointFactoryBean#2
2020-04-10 13:26:18 080 [main] INFO  [INFO] EventDrivenConsumer: 107 : Adding {service-activator} as a subscriber to the 'bizMsgFlow.subFlow#0.channel#0' channel
2020-04-10 13:26:18 081 [main] INFO  [INFO] DirectChannel: 64 : Channel 'application.bizMsgFlow.subFlow#0.channel#0' has 1 subscriber(s).
2020-04-10 13:26:18 081 [main] INFO  [INFO] EventDrivenConsumer: 159 : started bizMsgFlow.subFlow#0.org.springframework.integration.config.ConsumerEndpointFactoryBean#0
2020-04-10 13:26:18 081 [main] INFO  [INFO] EventDrivenConsumer: 107 : Adding {filter} as a subscriber to the 'bizMsgFlow.subFlow#0.channel#1' channel
2020-04-10 13:26:18 082 [main] INFO  [INFO] DirectChannel: 64 : Channel 'application.bizMsgFlow.subFlow#0.channel#1' has 1 subscriber(s).
2020-04-10 13:26:18 083 [main] INFO  [INFO] EventDrivenConsumer: 159 : started bizMsgFlow.subFlow#0.org.springframework.integration.config.ConsumerEndpointFactoryBean#1
2020-04-10 13:26:18 083 [main] INFO  [INFO] EventDrivenConsumer: 107 : Adding {mqtt:outbound-channel-adapter} as a subscriber to the 'bizMsgFlow.subFlow#0.channel#2' channel
2020-04-10 13:26:18 083 [main] INFO  [INFO] DirectChannel: 64 : Channel 'application.bizMsgFlow.subFlow#0.channel#2' has 1 subscriber(s).
2020-04-10 13:26:18 084 [main] INFO  [INFO] EventDrivenConsumer: 159 : started bizMsgFlow.subFlow#0.org.springframework.integration.config.ConsumerEndpointFactoryBean#2
2020-04-10 13:26:18 084 [main] INFO  [INFO] EventDrivenConsumer: 107 : Adding {service-activator} as a subscriber to the 'bizMsgFlow.subFlow#1.channel#0' channel
2020-04-10 13:26:18 084 [main] INFO  [INFO] DirectChannel: 64 : Channel 'application.bizMsgFlow.subFlow#1.channel#0' has 1 subscriber(s).
2020-04-10 13:26:18 085 [main] INFO  [INFO] EventDrivenConsumer: 159 : started bizMsgFlow.subFlow#1.org.springframework.integration.config.ConsumerEndpointFactoryBean#0
2020-04-10 13:26:18 085 [main] INFO  [INFO] EventDrivenConsumer: 107 : Adding {filter} as a subscriber to the 'bizMsgFlow.subFlow#1.channel#1' channel
2020-04-10 13:26:18 085 [main] INFO  [INFO] DirectChannel: 64 : Channel 'application.bizMsgFlow.subFlow#1.channel#1' has 1 subscriber(s).
2020-04-10 13:26:18 085 [main] INFO  [INFO] EventDrivenConsumer: 159 : started bizMsgFlow.subFlow#1.org.springframework.integration.config.ConsumerEndpointFactoryBean#1
2020-04-10 13:26:18 086 [main] INFO  [INFO] EventDrivenConsumer: 107 : Adding {mqtt:outbound-channel-adapter} as a subscriber to the 'bizMsgFlow.subFlow#1.channel#2' channel
2020-04-10 13:26:18 086 [main] INFO  [INFO] DirectChannel: 64 : Channel 'application.bizMsgFlow.subFlow#1.channel#2' has 1 subscriber(s).
2020-04-10 13:26:18 087 [main] INFO  [INFO] EventDrivenConsumer: 159 : started bizMsgFlow.subFlow#1.org.springframework.integration.config.ConsumerEndpointFactoryBean#2
2020-04-10 13:26:18 087 [main] INFO  [INFO] EventDrivenConsumer: 107 : Adding {service-activator} as a subscriber to the 'bizMsgFlow.subFlow#2.channel#0' channel
2020-04-10 13:26:18 087 [main] INFO  [INFO] DirectChannel: 64 : Channel 'application.bizMsgFlow.subFlow#2.channel#0' has 1 subscriber(s).
2020-04-10 13:26:18 087 [main] INFO  [INFO] EventDrivenConsumer: 159 : started bizMsgFlow.subFlow#2.org.springframework.integration.config.ConsumerEndpointFactoryBean#0
2020-04-10 13:26:18 088 [main] INFO  [INFO] EventDrivenConsumer: 107 : Adding {filter} as a subscriber to the 'bizMsgFlow.subFlow#2.channel#1' channel
2020-04-10 13:26:18 088 [main] INFO  [INFO] DirectChannel: 64 : Channel 'application.bizMsgFlow.subFlow#2.channel#1' has 1 subscriber(s).
2020-04-10 13:26:18 088 [main] INFO  [INFO] EventDrivenConsumer: 159 : started bizMsgFlow.subFlow#2.org.springframework.integration.config.ConsumerEndpointFactoryBean#1
2020-04-10 13:26:18 088 [main] INFO  [INFO] EventDrivenConsumer: 107 : Adding {mqtt:outbound-channel-adapter} as a subscriber to the 'bizMsgFlow.subFlow#2.channel#2' channel
2020-04-10 13:26:18 089 [main] INFO  [INFO] DirectChannel: 64 : Channel 'application.bizMsgFlow.subFlow#2.channel#2' has 1 subscriber(s).
2020-04-10 13:26:18 089 [main] INFO  [INFO] EventDrivenConsumer: 159 : started bizMsgFlow.subFlow#2.org.springframework.integration.config.ConsumerEndpointFactoryBean#2
2020-04-10 13:26:18 090 [main] INFO  [INFO] EventDrivenConsumer: 107 : Adding {service-activator} as a subscriber to the 'bizMsgFlow.subFlow#3.channel#0' channel
2020-04-10 13:26:18 090 [main] INFO  [INFO] DirectChannel: 64 : Channel 'application.bizMsgFlow.subFlow#3.channel#0' has 1 subscriber(s).
2020-04-10 13:26:18 091 [main] INFO  [INFO] EventDrivenConsumer: 159 : started bizMsgFlow.subFlow#3.org.springframework.integration.config.ConsumerEndpointFactoryBean#0
2020-04-10 13:26:18 091 [main] INFO  [INFO] EventDrivenConsumer: 107 : Adding {filter} as a subscriber to the 'bizMsgFlow.subFlow#3.channel#1' channel
2020-04-10 13:26:18 091 [main] INFO  [INFO] DirectChannel: 64 : Channel 'application.bizMsgFlow.subFlow#3.channel#1' has 1 subscriber(s).
2020-04-10 13:26:18 092 [main] INFO  [INFO] EventDrivenConsumer: 159 : started bizMsgFlow.subFlow#3.org.springframework.integration.config.ConsumerEndpointFactoryBean#1
2020-04-10 13:26:18 092 [main] INFO  [INFO] EventDrivenConsumer: 107 : Adding {mqtt:outbound-channel-adapter} as a subscriber to the 'bizMsgFlow.subFlow#3.channel#2' channel
2020-04-10 13:26:18 093 [main] INFO  [INFO] DirectChannel: 64 : Channel 'application.bizMsgFlow.subFlow#3.channel#2' has 1 subscriber(s).
2020-04-10 13:26:18 093 [main] INFO  [INFO] EventDrivenConsumer: 159 : started bizMsgFlow.subFlow#3.org.springframework.integration.config.ConsumerEndpointFactoryBean#2
2020-04-10 13:26:18 094 [main] INFO  [INFO] EventDrivenConsumer: 107 : Adding {bridge} as a subscriber to the 'bizMsgFlow.channel#3' channel
2020-04-10 13:26:18 094 [main] INFO  [INFO] DirectChannel: 64 : Channel 'application.bizMsgFlow.channel#3' has 1 subscriber(s).
2020-04-10 13:26:18 094 [main] INFO  [INFO] EventDrivenConsumer: 159 : started bizMsgFlow.org.springframework.integration.config.ConsumerEndpointFactoryBean#3
2020-04-10 13:26:18 095 [main] INFO  [INFO] EventDrivenConsumer: 107 : Adding {message-handler:mqttSpringIntegration.mqttOutbound.serviceActivator} as a subscriber to the 'mqttOutboundChannel' channel
2020-04-10 13:26:18 095 [main] INFO  [INFO] DirectChannel: 64 : Channel 'application.mqttOutboundChannel' has 1 subscriber(s).
2020-04-10 13:26:18 095 [main] INFO  [INFO] EventDrivenConsumer: 159 : started mqttSpringIntegration.mqttOutbound.serviceActivator
2020-04-10 13:26:18 096 [main] INFO  [INFO] GatewayProxyFactoryBean$MethodInvocationGateway: 159 : started mqttPublisher
2020-04-10 13:26:18 096 [main] INFO  [INFO] GatewayProxyFactoryBean: 159 : started mqttPublisher
2020-04-10 13:26:18 118 [main] INFO  [INFO] MqttTest: 59 : Started MqttTest in 13.68 seconds (JVM running for 14.899)
2020-04-10 13:26:18 325 [main] INFO  [INFO] PropertiesUtil: 39 : >>> 配置文件-mqtt.properties 加载完成：{mqtt.username=mqtt-kunbu, mqtt.cleansession=false, mqtt.password=123456, mqtt.host=tcp://127.0.0.1:1883, mqtt.clientid=consumer-publisher}
2020-04-10 13:26:22 332 [main] ERROR [ERROR] MqttHandler: 97 : >>> IMqttHandler 消息应用连接异常
org.eclipse.paho.client.mqttv3.MqttException: 无法连接至服务器
	at org.eclipse.paho.client.mqttv3.internal.TCPNetworkModule.start(TCPNetworkModule.java:94) ~[org.eclipse.paho.client.mqttv3-1.2.0.jar:?]
	at org.eclipse.paho.client.mqttv3.internal.ClientComms$ConnectBG.run(ClientComms.java:701) ~[org.eclipse.paho.client.mqttv3-1.2.0.jar:?]
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511) ~[?:1.8.0_181]
	at java.util.concurrent.FutureTask.run(FutureTask.java:266) ~[?:1.8.0_181]
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180) ~[?:1.8.0_181]
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293) ~[?:1.8.0_181]
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) ~[?:1.8.0_181]
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) ~[?:1.8.0_181]
	at java.lang.Thread.run(Thread.java:748) ~[?:1.8.0_181]
Caused by: java.net.ConnectException: Connection refused: connect
	at java.net.DualStackPlainSocketImpl.waitForConnect(Native Method) ~[?:1.8.0_181]
	at java.net.DualStackPlainSocketImpl.socketConnect(DualStackPlainSocketImpl.java:85) ~[?:1.8.0_181]
	at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350) ~[?:1.8.0_181]
	at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206) ~[?:1.8.0_181]
	at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188) ~[?:1.8.0_181]
	at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:172) ~[?:1.8.0_181]
	at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392) ~[?:1.8.0_181]
	at java.net.Socket.connect(Socket.java:589) ~[?:1.8.0_181]
	at org.eclipse.paho.client.mqttv3.internal.TCPNetworkModule.start(TCPNetworkModule.java:84) ~[org.eclipse.paho.client.mqttv3-1.2.0.jar:?]
	... 8 more
2020-04-10 13:26:22 394 [main] ERROR [ERROR] MqttHandler: 37 : >>> IMqttHandler push error
org.eclipse.paho.client.mqttv3.MqttException: 客户机未连接
	at org.eclipse.paho.client.mqttv3.internal.ExceptionHelper.createMqttException(ExceptionHelper.java:31) ~[org.eclipse.paho.client.mqttv3-1.2.0.jar:?]
	at org.eclipse.paho.client.mqttv3.internal.ClientComms.sendNoWait(ClientComms.java:199) ~[org.eclipse.paho.client.mqttv3-1.2.0.jar:?]
	at org.eclipse.paho.client.mqttv3.MqttAsyncClient.publish(MqttAsyncClient.java:1355) ~[org.eclipse.paho.client.mqttv3-1.2.0.jar:?]
	at org.eclipse.paho.client.mqttv3.MqttClient.publish(MqttClient.java:583) ~[org.eclipse.paho.client.mqttv3-1.2.0.jar:?]
	at com.scosyf.mqtt.integration.mqtt.paho.MqttHandler.push(MqttHandler.java:35) [classes/:?]
	at com.scosyf.mqtt.integration.mqtt.paho.MqttHandler.push(MqttHandler.java:25) [classes/:?]
	at com.scosyf.mqtt.integration.MqttTest.testMqttHandler(MqttTest.java:20) [test-classes/:?]
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:1.8.0_181]
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:1.8.0_181]
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:1.8.0_181]
	at java.lang.reflect.Method.invoke(Method.java:498) ~[?:1.8.0_181]
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50) [junit-4.12.jar:4.12]
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12) [junit-4.12.jar:4.12]
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47) [junit-4.12.jar:4.12]
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17) [junit-4.12.jar:4.12]
	at org.springframework.test.context.junit4.statements.RunBeforeTestExecutionCallbacks.evaluate(RunBeforeTestExecutionCallbacks.java:74) [spring-test-5.1.10.RELEASE.jar:5.1.10.RELEASE]
	at org.springframework.test.context.junit4.statements.RunAfterTestExecutionCallbacks.evaluate(RunAfterTestExecutionCallbacks.java:84) [spring-test-5.1.10.RELEASE.jar:5.1.10.RELEASE]
	at org.springframework.test.context.junit4.statements.RunBeforeTestMethodCallbacks.evaluate(RunBeforeTestMethodCallbacks.java:75) [spring-test-5.1.10.RELEASE.jar:5.1.10.RELEASE]
	at org.springframework.test.context.junit4.statements.RunAfterTestMethodCallbacks.evaluate(RunAfterTestMethodCallbacks.java:86) [spring-test-5.1.10.RELEASE.jar:5.1.10.RELEASE]
	at org.springframework.test.context.junit4.statements.SpringRepeat.evaluate(SpringRepeat.java:84) [spring-test-5.1.10.RELEASE.jar:5.1.10.RELEASE]
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325) [junit-4.12.jar:4.12]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:251) [spring-test-5.1.10.RELEASE.jar:5.1.10.RELEASE]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:97) [spring-test-5.1.10.RELEASE.jar:5.1.10.RELEASE]
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58) [junit-4.12.jar:4.12]
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268) [junit-4.12.jar:4.12]
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61) [spring-test-5.1.10.RELEASE.jar:5.1.10.RELEASE]
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70) [spring-test-5.1.10.RELEASE.jar:5.1.10.RELEASE]
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363) [junit-4.12.jar:4.12]
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:190) [spring-test-5.1.10.RELEASE.jar:5.1.10.RELEASE]
	at org.apache.maven.surefire.junit4.JUnit4Provider.execute(JUnit4Provider.java:365) [surefire-junit4-2.22.2.jar:2.22.2]
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeWithRerun(JUnit4Provider.java:273) [surefire-junit4-2.22.2.jar:2.22.2]
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeTestSet(JUnit4Provider.java:238) [surefire-junit4-2.22.2.jar:2.22.2]
	at org.apache.maven.surefire.junit4.JUnit4Provider.invoke(JUnit4Provider.java:159) [surefire-junit4-2.22.2.jar:2.22.2]
	at org.apache.maven.surefire.booter.ForkedBooter.invokeProviderInSameClassLoader(ForkedBooter.java:384) [surefire-booter-2.22.2.jar:2.22.2]
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:345) [surefire-booter-2.22.2.jar:2.22.2]
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:126) [surefire-booter-2.22.2.jar:2.22.2]
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:418) [surefire-booter-2.22.2.jar:2.22.2]
2020-04-10 13:26:22 442 [Thread-3] INFO  [INFO] EventDrivenConsumer: 107 : Removing {bridge} as a subscriber to the 'sysMsgFlow.channel#0' channel
2020-04-10 13:26:22 443 [Thread-3] INFO  [INFO] DirectChannel: 64 : Channel 'application.sysMsgFlow.channel#0' has 0 subscriber(s).
2020-04-10 13:26:22 443 [Thread-3] INFO  [INFO] EventDrivenConsumer: 193 : stopped sysMsgFlow.org.springframework.integration.config.ConsumerEndpointFactoryBean#0
2020-04-10 13:26:22 444 [Thread-3] INFO  [INFO] EventDrivenConsumer: 107 : Removing {service-activator} as a subscriber to the 'sysMsgFlow.channel#1' channel
2020-04-10 13:26:22 444 [Thread-3] INFO  [INFO] ExecutorChannel: 64 : Channel 'application.sysMsgFlow.channel#1' has 0 subscriber(s).
2020-04-10 13:26:22 445 [Thread-3] INFO  [INFO] EventDrivenConsumer: 193 : stopped sysMsgFlow.org.springframework.integration.config.ConsumerEndpointFactoryBean#1
2020-04-10 13:26:22 445 [Thread-3] INFO  [INFO] EventDrivenConsumer: 107 : Removing {service-activator} as a subscriber to the 'sysMsgFlow.channel#2' channel
2020-04-10 13:26:22 445 [Thread-3] INFO  [INFO] DirectChannel: 64 : Channel 'application.sysMsgFlow.channel#2' has 0 subscriber(s).
2020-04-10 13:26:22 445 [Thread-3] INFO  [INFO] EventDrivenConsumer: 193 : stopped sysMsgFlow.org.springframework.integration.config.ConsumerEndpointFactoryBean#2
2020-04-10 13:26:22 446 [Thread-3] INFO  [INFO] EventDrivenConsumer: 107 : Removing {filter} as a subscriber to the 'sysMsgFlow.channel#3' channel
2020-04-10 13:26:22 446 [Thread-3] INFO  [INFO] DirectChannel: 64 : Channel 'application.sysMsgFlow.channel#3' has 0 subscriber(s).
2020-04-10 13:26:22 446 [Thread-3] INFO  [INFO] EventDrivenConsumer: 193 : stopped sysMsgFlow.org.springframework.integration.config.ConsumerEndpointFactoryBean#3
2020-04-10 13:26:22 447 [Thread-3] INFO  [INFO] EventDrivenConsumer: 107 : Removing {mqtt:outbound-channel-adapter} as a subscriber to the 'sysMsgFlow.channel#4' channel
2020-04-10 13:26:22 447 [Thread-3] INFO  [INFO] DirectChannel: 64 : Channel 'application.sysMsgFlow.channel#4' has 0 subscriber(s).
2020-04-10 13:26:22 447 [Thread-3] INFO  [INFO] EventDrivenConsumer: 193 : stopped sysMsgFlow.org.springframework.integration.config.ConsumerEndpointFactoryBean#4
2020-04-10 13:26:22 447 [Thread-3] INFO  [INFO] MqttPahoMessageDrivenChannelAdapter: 193 : stopped sysInbound
2020-04-10 13:26:22 448 [Thread-3] INFO  [INFO] EventDrivenConsumer: 107 : Removing {bridge} as a subscriber to the 'bizMsgFlow.channel#0' channel
2020-04-10 13:26:22 448 [Thread-3] INFO  [INFO] DirectChannel: 64 : Channel 'application.bizMsgFlow.channel#0' has 0 subscriber(s).
2020-04-10 13:26:22 448 [Thread-3] INFO  [INFO] EventDrivenConsumer: 193 : stopped bizMsgFlow.org.springframework.integration.config.ConsumerEndpointFactoryBean#0
2020-04-10 13:26:22 449 [Thread-3] INFO  [INFO] EventDrivenConsumer: 107 : Removing {service-activator} as a subscriber to the 'bizMsgFlow.channel#1' channel
2020-04-10 13:26:22 449 [Thread-3] INFO  [INFO] ExecutorChannel: 64 : Channel 'application.bizMsgFlow.channel#1' has 0 subscriber(s).
2020-04-10 13:26:22 449 [Thread-3] INFO  [INFO] EventDrivenConsumer: 193 : stopped bizMsgFlow.org.springframework.integration.config.ConsumerEndpointFactoryBean#1
2020-04-10 13:26:22 450 [Thread-3] INFO  [INFO] EventDrivenConsumer: 107 : Removing {router} as a subscriber to the 'bizMsgFlow.channel#2' channel
2020-04-10 13:26:22 450 [Thread-3] INFO  [INFO] DirectChannel: 64 : Channel 'application.bizMsgFlow.channel#2' has 0 subscriber(s).
2020-04-10 13:26:22 450 [Thread-3] INFO  [INFO] EventDrivenConsumer: 193 : stopped bizMsgFlow.org.springframework.integration.config.ConsumerEndpointFactoryBean#2
2020-04-10 13:26:22 450 [Thread-3] INFO  [INFO] EventDrivenConsumer: 107 : Removing {service-activator} as a subscriber to the 'bizMsgFlow.subFlow#0.channel#0' channel
2020-04-10 13:26:22 451 [Thread-3] INFO  [INFO] DirectChannel: 64 : Channel 'application.bizMsgFlow.subFlow#0.channel#0' has 0 subscriber(s).
2020-04-10 13:26:22 451 [Thread-3] INFO  [INFO] EventDrivenConsumer: 193 : stopped bizMsgFlow.subFlow#0.org.springframework.integration.config.ConsumerEndpointFactoryBean#0
2020-04-10 13:26:22 451 [Thread-3] INFO  [INFO] EventDrivenConsumer: 107 : Removing {filter} as a subscriber to the 'bizMsgFlow.subFlow#0.channel#1' channel
2020-04-10 13:26:22 452 [Thread-3] INFO  [INFO] DirectChannel: 64 : Channel 'application.bizMsgFlow.subFlow#0.channel#1' has 0 subscriber(s).
2020-04-10 13:26:22 452 [Thread-3] INFO  [INFO] EventDrivenConsumer: 193 : stopped bizMsgFlow.subFlow#0.org.springframework.integration.config.ConsumerEndpointFactoryBean#1
2020-04-10 13:26:22 452 [Thread-3] INFO  [INFO] EventDrivenConsumer: 107 : Removing {mqtt:outbound-channel-adapter} as a subscriber to the 'bizMsgFlow.subFlow#0.channel#2' channel
2020-04-10 13:26:22 453 [Thread-3] INFO  [INFO] DirectChannel: 64 : Channel 'application.bizMsgFlow.subFlow#0.channel#2' has 0 subscriber(s).
2020-04-10 13:26:22 453 [Thread-3] INFO  [INFO] EventDrivenConsumer: 193 : stopped bizMsgFlow.subFlow#0.org.springframework.integration.config.ConsumerEndpointFactoryBean#2
2020-04-10 13:26:22 453 [Thread-3] INFO  [INFO] EventDrivenConsumer: 107 : Removing {service-activator} as a subscriber to the 'bizMsgFlow.subFlow#1.channel#0' channel
2020-04-10 13:26:22 453 [Thread-3] INFO  [INFO] DirectChannel: 64 : Channel 'application.bizMsgFlow.subFlow#1.channel#0' has 0 subscriber(s).
2020-04-10 13:26:22 453 [Thread-3] INFO  [INFO] EventDrivenConsumer: 193 : stopped bizMsgFlow.subFlow#1.org.springframework.integration.config.ConsumerEndpointFactoryBean#0
2020-04-10 13:26:22 454 [Thread-3] INFO  [INFO] EventDrivenConsumer: 107 : Removing {filter} as a subscriber to the 'bizMsgFlow.subFlow#1.channel#1' channel
2020-04-10 13:26:22 454 [Thread-3] INFO  [INFO] DirectChannel: 64 : Channel 'application.bizMsgFlow.subFlow#1.channel#1' has 0 subscriber(s).
2020-04-10 13:26:22 454 [Thread-3] INFO  [INFO] EventDrivenConsumer: 193 : stopped bizMsgFlow.subFlow#1.org.springframework.integration.config.ConsumerEndpointFactoryBean#1
2020-04-10 13:26:22 454 [Thread-3] INFO  [INFO] EventDrivenConsumer: 107 : Removing {mqtt:outbound-channel-adapter} as a subscriber to the 'bizMsgFlow.subFlow#1.channel#2' channel
2020-04-10 13:26:22 455 [Thread-3] INFO  [INFO] DirectChannel: 64 : Channel 'application.bizMsgFlow.subFlow#1.channel#2' has 0 subscriber(s).
2020-04-10 13:26:22 455 [Thread-3] INFO  [INFO] EventDrivenConsumer: 193 : stopped bizMsgFlow.subFlow#1.org.springframework.integration.config.ConsumerEndpointFactoryBean#2
2020-04-10 13:26:22 455 [Thread-3] INFO  [INFO] EventDrivenConsumer: 107 : Removing {service-activator} as a subscriber to the 'bizMsgFlow.subFlow#2.channel#0' channel
2020-04-10 13:26:22 456 [Thread-3] INFO  [INFO] DirectChannel: 64 : Channel 'application.bizMsgFlow.subFlow#2.channel#0' has 0 subscriber(s).
2020-04-10 13:26:22 456 [Thread-3] INFO  [INFO] EventDrivenConsumer: 193 : stopped bizMsgFlow.subFlow#2.org.springframework.integration.config.ConsumerEndpointFactoryBean#0
2020-04-10 13:26:22 456 [Thread-3] INFO  [INFO] EventDrivenConsumer: 107 : Removing {filter} as a subscriber to the 'bizMsgFlow.subFlow#2.channel#1' channel
2020-04-10 13:26:22 456 [Thread-3] INFO  [INFO] DirectChannel: 64 : Channel 'application.bizMsgFlow.subFlow#2.channel#1' has 0 subscriber(s).
2020-04-10 13:26:22 456 [Thread-3] INFO  [INFO] EventDrivenConsumer: 193 : stopped bizMsgFlow.subFlow#2.org.springframework.integration.config.ConsumerEndpointFactoryBean#1
2020-04-10 13:26:22 457 [Thread-3] INFO  [INFO] EventDrivenConsumer: 107 : Removing {mqtt:outbound-channel-adapter} as a subscriber to the 'bizMsgFlow.subFlow#2.channel#2' channel
2020-04-10 13:26:22 457 [Thread-3] INFO  [INFO] DirectChannel: 64 : Channel 'application.bizMsgFlow.subFlow#2.channel#2' has 0 subscriber(s).
2020-04-10 13:26:22 457 [Thread-3] INFO  [INFO] EventDrivenConsumer: 193 : stopped bizMsgFlow.subFlow#2.org.springframework.integration.config.ConsumerEndpointFactoryBean#2
2020-04-10 13:26:22 457 [Thread-3] INFO  [INFO] EventDrivenConsumer: 107 : Removing {service-activator} as a subscriber to the 'bizMsgFlow.subFlow#3.channel#0' channel
2020-04-10 13:26:22 458 [Thread-3] INFO  [INFO] DirectChannel: 64 : Channel 'application.bizMsgFlow.subFlow#3.channel#0' has 0 subscriber(s).
2020-04-10 13:26:22 458 [Thread-3] INFO  [INFO] EventDrivenConsumer: 193 : stopped bizMsgFlow.subFlow#3.org.springframework.integration.config.ConsumerEndpointFactoryBean#0
2020-04-10 13:26:22 458 [Thread-3] INFO  [INFO] EventDrivenConsumer: 107 : Removing {filter} as a subscriber to the 'bizMsgFlow.subFlow#3.channel#1' channel
2020-04-10 13:26:22 458 [Thread-3] INFO  [INFO] DirectChannel: 64 : Channel 'application.bizMsgFlow.subFlow#3.channel#1' has 0 subscriber(s).
2020-04-10 13:26:22 459 [Thread-3] INFO  [INFO] EventDrivenConsumer: 193 : stopped bizMsgFlow.subFlow#3.org.springframework.integration.config.ConsumerEndpointFactoryBean#1
2020-04-10 13:26:22 459 [Thread-3] INFO  [INFO] EventDrivenConsumer: 107 : Removing {mqtt:outbound-channel-adapter} as a subscriber to the 'bizMsgFlow.subFlow#3.channel#2' channel
2020-04-10 13:26:22 459 [Thread-3] INFO  [INFO] DirectChannel: 64 : Channel 'application.bizMsgFlow.subFlow#3.channel#2' has 0 subscriber(s).
2020-04-10 13:26:22 459 [Thread-3] INFO  [INFO] EventDrivenConsumer: 193 : stopped bizMsgFlow.subFlow#3.org.springframework.integration.config.ConsumerEndpointFactoryBean#2
2020-04-10 13:26:22 459 [Thread-3] INFO  [INFO] EventDrivenConsumer: 107 : Removing {bridge} as a subscriber to the 'bizMsgFlow.channel#3' channel
2020-04-10 13:26:22 460 [Thread-3] INFO  [INFO] DirectChannel: 64 : Channel 'application.bizMsgFlow.channel#3' has 0 subscriber(s).
2020-04-10 13:26:22 460 [Thread-3] INFO  [INFO] EventDrivenConsumer: 193 : stopped bizMsgFlow.org.springframework.integration.config.ConsumerEndpointFactoryBean#3
2020-04-10 13:26:22 460 [Thread-3] INFO  [INFO] MqttPahoMessageDrivenChannelAdapter: 193 : stopped bizInbound
2020-04-10 13:26:22 460 [Thread-3] INFO  [INFO] GatewayProxyFactoryBean$MethodInvocationGateway: 176 : stopped mqttPublisher
2020-04-10 13:26:22 460 [Thread-3] INFO  [INFO] GatewayProxyFactoryBean: 193 : stopped mqttPublisher
2020-04-10 13:26:22 460 [Thread-3] INFO  [INFO] EventDrivenConsumer: 107 : Removing {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2020-04-10 13:26:22 461 [Thread-3] INFO  [INFO] PublishSubscribeChannel: 64 : Channel 'application.errorChannel' has 0 subscriber(s).
2020-04-10 13:26:22 461 [Thread-3] INFO  [INFO] EventDrivenConsumer: 193 : stopped _org.springframework.integration.errorLogger
2020-04-10 13:26:22 461 [Thread-3] INFO  [INFO] EventDrivenConsumer: 107 : Removing {message-handler:mqttSpringIntegration.mqttOutbound.serviceActivator} as a subscriber to the 'mqttOutboundChannel' channel
2020-04-10 13:26:22 461 [Thread-3] INFO  [INFO] DirectChannel: 64 : Channel 'application.mqttOutboundChannel' has 0 subscriber(s).
2020-04-10 13:26:22 461 [Thread-3] INFO  [INFO] EventDrivenConsumer: 193 : stopped mqttSpringIntegration.mqttOutbound.serviceActivator
2020-04-10 13:26:22 463 [Thread-3] INFO  [INFO] ThreadPoolTaskScheduler: 208 : Shutting down ExecutorService 'taskScheduler'
2020-04-10 13:26:22 465 [Thread-3] INFO  [INFO] ThreadPoolTaskExecutor: 208 : Shutting down ExecutorService 'applicationTaskExecutor'
2020-04-10 13:26:22 469 [Thread-3] INFO  [INFO] connection: 71 : Closed connection [connectionId{localValue:2, serverValue:4}] to localhost:27017 because the pool has been closed.
